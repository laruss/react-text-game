(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function s(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function i(c){if(c.ep)return;c.ep=!0;const h=s(c);fetch(c.href,h)}})();var ru=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Df(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function Rv(o){if(Object.prototype.hasOwnProperty.call(o,"__esModule"))return o;var a=o.default;if(typeof a=="function"){var s=function i(){var c=!1;try{c=this instanceof i}catch{}return c?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};s.prototype=a.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(o).forEach(function(i){var c=Object.getOwnPropertyDescriptor(o,i);Object.defineProperty(s,i,c.get?c:{enumerable:!0,get:function(){return o[i]}})}),s}var $d={exports:{}},Dl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ym;function zv(){if(Ym)return Dl;Ym=1;var o=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function s(i,c,h){var m=null;if(h!==void 0&&(m=""+h),c.key!==void 0&&(m=""+c.key),"key"in c){h={};for(var x in c)x!=="key"&&(h[x]=c[x])}else h=c;return c=h.ref,{$$typeof:o,type:i,key:m,ref:c!==void 0?c:null,props:h}}return Dl.Fragment=a,Dl.jsx=s,Dl.jsxs=s,Dl}var $m;function Fv(){return $m||($m=1,$d.exports=zv()),$d.exports}var S=Fv();const Lv=Symbol(),Bf=Symbol(),Ol="a",vx="f",Gm="p",bx="c",wx="t",Tf="h",Ml="w",Nf="o",kf="k";let Hv=(o,a)=>new Proxy(o,a);const uf=Object.getPrototypeOf,df=new WeakMap,Ex=o=>o&&(df.has(o)?df.get(o):uf(o)===Object.prototype||uf(o)===Array.prototype),Pu=o=>typeof o=="object"&&o!==null,qv=o=>Object.values(Object.getOwnPropertyDescriptors(o)).some(a=>!a.configurable&&!a.writable),Uv=o=>{if(Array.isArray(o))return Array.from(o);const a=Object.getOwnPropertyDescriptors(o);return Object.values(a).forEach(s=>{s.configurable=!0}),Object.create(uf(o),a)},Kv=(o,a)=>{const s={[vx]:a};let i=!1;const c=(x,v)=>{if(!i){let p=s[Ol].get(o);if(p||(p={},s[Ol].set(o,p)),x===Ml)p[Ml]=!0;else{let b=p[x];b||(b=new Set,p[x]=b),b.add(v)}}},h=()=>{i=!0,s[Ol].delete(o)},m={get(x,v){return v===Bf?o:(c(kf,v),Sx(Reflect.get(x,v),s[Ol],s[bx],s[wx]))},has(x,v){return v===Lv?(h(),!0):(c(Tf,v),Reflect.has(x,v))},getOwnPropertyDescriptor(x,v){return c(Nf,v),Reflect.getOwnPropertyDescriptor(x,v)},ownKeys(x){return c(Ml),Reflect.ownKeys(x)}};return a&&(m.set=m.deleteProperty=()=>!1),[m,s]},jf=o=>o[Bf]||o,Sx=(o,a,s,i)=>{if(!Ex(o))return o;let c=i&&i.get(o);if(!c){const v=jf(o);qv(v)?c=[v,Uv(v)]:c=[v],i?.set(o,c)}const[h,m]=c;let x=s&&s.get(h);return(!x||x[1][vx]!==!!m)&&(x=Kv(h,!!m),x[1][Gm]=Hv(m||h,x[0]),s&&s.set(h,x)),x[1][Ol]=a,x[1][bx]=s,x[1][wx]=i,x[1][Gm]},Pv=(o,a)=>{const s=Reflect.ownKeys(o),i=Reflect.ownKeys(a);return s.length!==i.length||s.some((c,h)=>c!==i[h])},Ax=(o,a,s,i,c=Object.is)=>{if(c(o,a))return!1;if(!Pu(o)||!Pu(a))return!0;const h=s.get(jf(o));if(!h)return!0;if(i){if(i.get(o)===a)return!1;i.set(o,a)}let m=null;for(const x of h[Tf]||[])if(m=Reflect.has(o,x)!==Reflect.has(a,x),m)return m;if(h[Ml]===!0){if(m=Pv(o,a),m)return m}else for(const x of h[Nf]||[]){const v=!!Reflect.getOwnPropertyDescriptor(o,x),p=!!Reflect.getOwnPropertyDescriptor(a,x);if(m=v!==p,m)return m}for(const x of h[kf]||[])if(m=Ax(o[x],a[x],s,i,c),m)return m;if(m===null)throw new Error("invalid used");return m},Vv=o=>Ex(o)&&o[Bf]||null,Im=(o,a=!0)=>{df.set(o,a)},Yv=(o,a,s)=>{const i=[],c=new WeakSet,h=(m,x)=>{var v,p,b;if(c.has(m))return;Pu(m)&&c.add(m);const y=Pu(m)&&a.get(jf(m));if(y){if((v=y[Tf])===null||v===void 0||v.forEach(C=>{const D=`:has(${String(C)})`;i.push(x?[...x,D]:[D])}),y[Ml]===!0){const C=":ownKeys";i.push(x?[...x,C]:[C])}else(p=y[Nf])===null||p===void 0||p.forEach(C=>{const D=`:hasOwn(${String(C)})`;i.push(x?[...x,D]:[D])});(b=y[kf])===null||b===void 0||b.forEach(C=>{"value"in(Object.getOwnPropertyDescriptor(m,C)||{})&&h(m[C],x?[...x,C]:[C])})}else x&&i.push(x)};return h(o),i},Vu={},Of=o=>typeof o=="object"&&o!==null,$v=o=>Of(o)&&!Mf.has(o)&&(Array.isArray(o)||!(Symbol.iterator in o))&&!(o instanceof WeakMap)&&!(o instanceof WeakSet)&&!(o instanceof Error)&&!(o instanceof Number)&&!(o instanceof Date)&&!(o instanceof String)&&!(o instanceof RegExp)&&!(o instanceof ArrayBuffer)&&!(o instanceof Promise),Cx=(o,a)=>{const s=Xm.get(o);if(s?.[0]===a)return s[1];const i=Array.isArray(o)?[]:Object.create(Object.getPrototypeOf(o));return Im(i,!0),Xm.set(o,[a,i]),Reflect.ownKeys(o).forEach(c=>{if(Object.getOwnPropertyDescriptor(i,c))return;const h=Reflect.get(o,c),{enumerable:m}=Reflect.getOwnPropertyDescriptor(o,c),x={value:h,enumerable:m,configurable:!0};if(Mf.has(h))Im(h,!1);else if(Ss.has(h)){const[v,p]=Ss.get(h);x.value=Cx(v,p())}Object.defineProperty(i,c,x)}),Object.preventExtensions(i)},Gv=(o,a,s,i)=>({deleteProperty(c,h){const m=Reflect.get(c,h);s(h);const x=Reflect.deleteProperty(c,h);return x&&i(["delete",[h],m]),x},set(c,h,m,x){const v=!o()&&Reflect.has(c,h),p=Reflect.get(c,h,x);if(v&&(Qm(p,m)||Yu.has(m)&&Qm(p,Yu.get(m))))return!0;s(h),Of(m)&&(m=Vv(m)||m);const b=!Ss.has(m)&&Xv(m)?yi(m):m;return a(h,b),Reflect.set(c,h,b,x),i(["set",[h],m,p]),!0}}),Ss=new WeakMap,Mf=new WeakSet,Xm=new WeakMap,Gd=[1],Yu=new WeakMap;let Qm=Object.is,Iv=(o,a)=>new Proxy(o,a),Xv=$v,Qv=Cx,Zv=Gv;function yi(o={}){if(!Of(o))throw new Error("object required");const a=Yu.get(o);if(a)return a;let s=Gd[0];const i=new Set,c=(O,F=++Gd[0])=>{s!==F&&(h=s=F,i.forEach(k=>k(O,F)))};let h=s;const m=(O=Gd[0])=>(h!==O&&(h=O,v.forEach(([F])=>{const k=F[1](O);k>s&&(s=k)})),s),x=O=>(F,k)=>{const M=[...F];M[1]=[O,...M[1]],c(M,k)},v=new Map,p=(O,F)=>{const k=!Mf.has(F)&&Ss.get(F);if(k){if((Vu?"production":void 0)!=="production"&&v.has(O))throw new Error("prop listener already exists");if(i.size){const M=k[2](x(O));v.set(O,[k,M])}else v.set(O,[k])}},b=O=>{var F;const k=v.get(O);k&&(v.delete(O),(F=k[1])==null||F.call(k))},y=O=>(i.add(O),i.size===1&&v.forEach(([k,M],z)=>{if((Vu?"production":void 0)!=="production"&&M)throw new Error("remove already exists");const te=k[2](x(z));v.set(z,[k,te])}),()=>{i.delete(O),i.size===0&&v.forEach(([k,M],z)=>{M&&(M(),v.set(z,[k]))})});let C=!0;const D=Zv(()=>C,p,b,c),B=Iv(o,D);Yu.set(o,B);const j=[o,m,y];return Ss.set(B,j),Reflect.ownKeys(o).forEach(O=>{const F=Object.getOwnPropertyDescriptor(o,O);"value"in F&&F.writable&&(B[O]=o[O])}),C=!1,B}function $u(o,a,s){const i=Ss.get(o);(Vu?"production":void 0)!=="production"&&!i&&console.warn("Please use proxy object");let c;const h=[],m=i[2];let x=!1;const p=m(b=>{h.push(b),c||(c=Promise.resolve().then(()=>{c=void 0,x&&a(h.splice(0))}))});return x=!0,()=>{x=!1,p()}}function ff(o){const a=Ss.get(o);(Vu?"production":void 0)!=="production"&&!a&&console.warn("Please use proxy object");const[s,i]=a;return Qv(s,i())}var Id={exports:{}},ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zm;function Wv(){if(Zm)return ct;Zm=1;var o=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),m=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),C=Symbol.iterator;function D(N){return N===null||typeof N!="object"?null:(N=C&&N[C]||N["@@iterator"],typeof N=="function"?N:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,O={};function F(N,P,U){this.props=N,this.context=P,this.refs=O,this.updater=U||B}F.prototype.isReactComponent={},F.prototype.setState=function(N,P){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,P,"setState")},F.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function k(){}k.prototype=F.prototype;function M(N,P,U){this.props=N,this.context=P,this.refs=O,this.updater=U||B}var z=M.prototype=new k;z.constructor=M,j(z,F.prototype),z.isPureReactComponent=!0;var te=Array.isArray;function G(){}var V={H:null,A:null,T:null,S:null},J=Object.prototype.hasOwnProperty;function Se(N,P,U){var X=U.ref;return{$$typeof:o,type:N,key:P,ref:X!==void 0?X:null,props:U}}function ee(N,P){return Se(N.type,P,N.props)}function ce(N){return typeof N=="object"&&N!==null&&N.$$typeof===o}function ye(N){var P={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(U){return P[U]})}var pe=/\/+/g;function je(N,P){return typeof N=="object"&&N!==null&&N.key!=null?ye(""+N.key):P.toString(36)}function qe(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(G,G):(N.status="pending",N.then(function(P){N.status==="pending"&&(N.status="fulfilled",N.value=P)},function(P){N.status==="pending"&&(N.status="rejected",N.reason=P)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function Y(N,P,U,X,De){var Oe=typeof N;(Oe==="undefined"||Oe==="boolean")&&(N=null);var Ye=!1;if(N===null)Ye=!0;else switch(Oe){case"bigint":case"string":case"number":Ye=!0;break;case"object":switch(N.$$typeof){case o:case a:Ye=!0;break;case b:return Ye=N._init,Y(Ye(N._payload),P,U,X,De)}}if(Ye)return De=De(N),Ye=X===""?"."+je(N,0):X,te(De)?(U="",Ye!=null&&(U=Ye.replace(pe,"$&/")+"/"),Y(De,P,U,"",function(Yt){return Yt})):De!=null&&(ce(De)&&(De=ee(De,U+(De.key==null||N&&N.key===De.key?"":(""+De.key).replace(pe,"$&/")+"/")+Ye)),P.push(De)),1;Ye=0;var Fe=X===""?".":X+":";if(te(N))for(var Te=0;Te<N.length;Te++)X=N[Te],Oe=Fe+je(X,Te),Ye+=Y(X,P,U,Oe,De);else if(Te=D(N),typeof Te=="function")for(N=Te.call(N),Te=0;!(X=N.next()).done;)X=X.value,Oe=Fe+je(X,Te++),Ye+=Y(X,P,U,Oe,De);else if(Oe==="object"){if(typeof N.then=="function")return Y(qe(N),P,U,X,De);throw P=String(N),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return Ye}function xe(N,P,U){if(N==null)return N;var X=[],De=0;return Y(N,X,"","",function(Oe){return P.call(U,Oe,De++)}),X}function he(N){if(N._status===-1){var P=N._result;P=P(),P.then(function(U){(N._status===0||N._status===-1)&&(N._status=1,N._result=U)},function(U){(N._status===0||N._status===-1)&&(N._status=2,N._result=U)}),N._status===-1&&(N._status=0,N._result=P)}if(N._status===1)return N._result.default;throw N._result}var Ke=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},ze={map:xe,forEach:function(N,P,U){xe(N,function(){P.apply(this,arguments)},U)},count:function(N){var P=0;return xe(N,function(){P++}),P},toArray:function(N){return xe(N,function(P){return P})||[]},only:function(N){if(!ce(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return ct.Activity=y,ct.Children=ze,ct.Component=F,ct.Fragment=s,ct.Profiler=c,ct.PureComponent=M,ct.StrictMode=i,ct.Suspense=v,ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,ct.__COMPILER_RUNTIME={__proto__:null,c:function(N){return V.H.useMemoCache(N)}},ct.cache=function(N){return function(){return N.apply(null,arguments)}},ct.cacheSignal=function(){return null},ct.cloneElement=function(N,P,U){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var X=j({},N.props),De=N.key;if(P!=null)for(Oe in P.key!==void 0&&(De=""+P.key),P)!J.call(P,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&P.ref===void 0||(X[Oe]=P[Oe]);var Oe=arguments.length-2;if(Oe===1)X.children=U;else if(1<Oe){for(var Ye=Array(Oe),Fe=0;Fe<Oe;Fe++)Ye[Fe]=arguments[Fe+2];X.children=Ye}return Se(N.type,De,X)},ct.createContext=function(N){return N={$$typeof:m,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:h,_context:N},N},ct.createElement=function(N,P,U){var X,De={},Oe=null;if(P!=null)for(X in P.key!==void 0&&(Oe=""+P.key),P)J.call(P,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(De[X]=P[X]);var Ye=arguments.length-2;if(Ye===1)De.children=U;else if(1<Ye){for(var Fe=Array(Ye),Te=0;Te<Ye;Te++)Fe[Te]=arguments[Te+2];De.children=Fe}if(N&&N.defaultProps)for(X in Ye=N.defaultProps,Ye)De[X]===void 0&&(De[X]=Ye[X]);return Se(N,Oe,De)},ct.createRef=function(){return{current:null}},ct.forwardRef=function(N){return{$$typeof:x,render:N}},ct.isValidElement=ce,ct.lazy=function(N){return{$$typeof:b,_payload:{_status:-1,_result:N},_init:he}},ct.memo=function(N,P){return{$$typeof:p,type:N,compare:P===void 0?null:P}},ct.startTransition=function(N){var P=V.T,U={};V.T=U;try{var X=N(),De=V.S;De!==null&&De(U,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(G,Ke)}catch(Oe){Ke(Oe)}finally{P!==null&&U.types!==null&&(P.types=U.types),V.T=P}},ct.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},ct.use=function(N){return V.H.use(N)},ct.useActionState=function(N,P,U){return V.H.useActionState(N,P,U)},ct.useCallback=function(N,P){return V.H.useCallback(N,P)},ct.useContext=function(N){return V.H.useContext(N)},ct.useDebugValue=function(){},ct.useDeferredValue=function(N,P){return V.H.useDeferredValue(N,P)},ct.useEffect=function(N,P){return V.H.useEffect(N,P)},ct.useEffectEvent=function(N){return V.H.useEffectEvent(N)},ct.useId=function(){return V.H.useId()},ct.useImperativeHandle=function(N,P,U){return V.H.useImperativeHandle(N,P,U)},ct.useInsertionEffect=function(N,P){return V.H.useInsertionEffect(N,P)},ct.useLayoutEffect=function(N,P){return V.H.useLayoutEffect(N,P)},ct.useMemo=function(N,P){return V.H.useMemo(N,P)},ct.useOptimistic=function(N,P){return V.H.useOptimistic(N,P)},ct.useReducer=function(N,P,U){return V.H.useReducer(N,P,U)},ct.useRef=function(N){return V.H.useRef(N)},ct.useState=function(N){return V.H.useState(N)},ct.useSyncExternalStore=function(N,P,U){return V.H.useSyncExternalStore(N,P,U)},ct.useTransition=function(){return V.H.useTransition()},ct.version="19.2.0",ct}var Wm;function Rf(){return Wm||(Wm=1,Id.exports=Wv()),Id.exports}var _e=Rf();const Me=Df(_e),Jv={},eb=(o,a)=>{const s=_e.useRef(void 0);_e.useEffect(()=>{s.current=Yv(o,a)}),_e.useDebugValue(s.current)},tb=eb,nb=new WeakMap;function ab(o,a){const i=_e.useMemo(()=>o&&new WeakMap,[o]),c=_e.useRef(void 0);let h=!0;const m=_e.useSyncExternalStore(_e.useCallback(v=>{const p=$u(o,v);return v(),p},[o,void 0]),()=>{const v=ff(o);try{if(!h&&c.current&&!Ax(c.current,v,i,new WeakMap))return c.current}catch{}return v},()=>ff(o));h=!1,_e.useLayoutEffect(()=>{c.current=m}),(Jv?"production":void 0)!=="production"&&tb(m,i);const x=_e.useMemo(()=>new WeakMap,[]);return Sx(m,i,x,nb)}const ka={fatal:0,error:0,warn:1,log:2,info:3,success:3,fail:3,debug:4,trace:5,verbose:Number.POSITIVE_INFINITY},Jm={silent:{level:-1},fatal:{level:ka.fatal},error:{level:ka.error},warn:{level:ka.warn},log:{level:ka.log},info:{level:ka.info},success:{level:ka.success},fail:{level:ka.fail},ready:{level:ka.info},start:{level:ka.info},box:{level:ka.info},debug:{level:ka.debug},trace:{level:ka.trace},verbose:{level:ka.verbose}};function Xd(o){if(o===null||typeof o!="object")return!1;const a=Object.getPrototypeOf(o);return a!==null&&a!==Object.prototype&&Object.getPrototypeOf(a)!==null||Symbol.iterator in o?!1:Symbol.toStringTag in o?Object.prototype.toString.call(o)==="[object Module]":!0}function hf(o,a,s=".",i){if(!Xd(a))return hf(o,{},s);const c=Object.assign({},a);for(const h in o){if(h==="__proto__"||h==="constructor")continue;const m=o[h];m!=null&&(Array.isArray(m)&&Array.isArray(c[h])?c[h]=[...m,...c[h]]:Xd(m)&&Xd(c[h])?c[h]=hf(m,c[h],(s?`${s}.`:"")+h.toString()):c[h]=m)}return c}function rb(o){return(...a)=>a.reduce((s,i)=>hf(s,i,""),{})}const ob=rb();function sb(o){return Object.prototype.toString.call(o)==="[object Object]"}function ib(o){return!(!sb(o)||!o.message&&!o.args||o.stack)}let Qd=!1;const eg=[];class Pn{options;_lastLog;_mockFn;constructor(a={}){const s=a.types||Jm;this.options=ob({...a,defaults:{...a.defaults},level:Zd(a.level,s),reporters:[...a.reporters||[]]},{types:Jm,throttle:1e3,throttleMin:5,formatOptions:{date:!0,colors:!1,compact:!0}});for(const i in s){const c={type:i,...this.options.defaults,...s[i]};this[i]=this._wrapLogFn(c),this[i].raw=this._wrapLogFn(c,!0)}this.options.mockFn&&this.mockTypes(),this._lastLog={}}get level(){return this.options.level}set level(a){this.options.level=Zd(a,this.options.types,this.options.level)}prompt(a,s){if(!this.options.prompt)throw new Error("prompt is not supported!");return this.options.prompt(a,s)}create(a){const s=new Pn({...this.options,...a});return this._mockFn&&s.mockTypes(this._mockFn),s}withDefaults(a){return this.create({...this.options,defaults:{...this.options.defaults,...a}})}withTag(a){return this.withDefaults({tag:this.options.defaults.tag?this.options.defaults.tag+":"+a:a})}addReporter(a){return this.options.reporters.push(a),this}removeReporter(a){if(a){const s=this.options.reporters.indexOf(a);if(s!==-1)return this.options.reporters.splice(s,1)}else this.options.reporters.splice(0);return this}setReporters(a){return this.options.reporters=Array.isArray(a)?a:[a],this}wrapAll(){this.wrapConsole(),this.wrapStd()}restoreAll(){this.restoreConsole(),this.restoreStd()}wrapConsole(){for(const a in this.options.types)console["__"+a]||(console["__"+a]=console[a]),console[a]=this[a].raw}restoreConsole(){for(const a in this.options.types)console["__"+a]&&(console[a]=console["__"+a],delete console["__"+a])}wrapStd(){this._wrapStream(this.options.stdout,"log"),this._wrapStream(this.options.stderr,"log")}_wrapStream(a,s){a&&(a.__write||(a.__write=a.write),a.write=i=>{this[s].raw(String(i).trim())})}restoreStd(){this._restoreStream(this.options.stdout),this._restoreStream(this.options.stderr)}_restoreStream(a){a&&a.__write&&(a.write=a.__write,delete a.__write)}pauseLogs(){Qd=!0}resumeLogs(){Qd=!1;const a=eg.splice(0);for(const s of a)s[0]._logFn(s[1],s[2])}mockTypes(a){const s=a||this.options.mockFn;if(this._mockFn=s,typeof s=="function")for(const i in this.options.types)this[i]=s(i,this.options.types[i])||this[i],this[i].raw=this[i]}_wrapLogFn(a,s){return(...i)=>{if(Qd){eg.push([this,a,i,s]);return}return this._logFn(a,i,s)}}_logFn(a,s,i){if((a.level||0)>this.level)return!1;const c={date:new Date,args:[],...a,level:Zd(a.level,this.options.types)};!i&&s.length===1&&ib(s[0])?Object.assign(c,s[0]):c.args=[...s],c.message&&(c.args.unshift(c.message),delete c.message),c.additional&&(Array.isArray(c.additional)||(c.additional=c.additional.split(`
`)),c.args.push(`
`+c.additional.join(`
`)),delete c.additional),c.type=typeof c.type=="string"?c.type.toLowerCase():"log",c.tag=typeof c.tag=="string"?c.tag:"";const h=(x=!1)=>{const v=(this._lastLog.count||0)-this.options.throttleMin;if(this._lastLog.object&&v>0){const p=[...this._lastLog.object.args];v>1&&p.push(`(repeated ${v} times)`),this._log({...this._lastLog.object,args:p}),this._lastLog.count=1}x&&(this._lastLog.object=c,this._log(c))};clearTimeout(this._lastLog.timeout);const m=this._lastLog.time&&c.date?c.date.getTime()-this._lastLog.time.getTime():0;if(this._lastLog.time=c.date,m<this.options.throttle)try{const x=JSON.stringify([c.type,c.tag,c.args]),v=this._lastLog.serialized===x;if(this._lastLog.serialized=x,v&&(this._lastLog.count=(this._lastLog.count||0)+1,this._lastLog.count>this.options.throttleMin)){this._lastLog.timeout=setTimeout(h,this.options.throttle);return}}catch{}h(!0)}_log(a){for(const s of this.options.reporters)s.log(a,{options:this.options})}}function Zd(o,a={},s=3){return o===void 0?s:typeof o=="number"?o:a[o]&&a[o].level!==void 0?a[o].level:s}Pn.prototype.add=Pn.prototype.addReporter;Pn.prototype.remove=Pn.prototype.removeReporter;Pn.prototype.clear=Pn.prototype.removeReporter;Pn.prototype.withScope=Pn.prototype.withTag;Pn.prototype.mock=Pn.prototype.mockTypes;Pn.prototype.pause=Pn.prototype.pauseLogs;Pn.prototype.resume=Pn.prototype.resumeLogs;function lb(o={}){return new Pn(o)}class cb{options;defaultColor;levelColorMap;typeColorMap;constructor(a){this.options={...a},this.defaultColor="#7f8c8d",this.levelColorMap={0:"#c0392b",1:"#f39c12",3:"#00BCD4"},this.typeColorMap={success:"#2ecc71"}}_getLogFn(a){return a<1?console.__error||console.error:a===1?console.__warn||console.warn:console.__log||console.log}log(a){const s=this._getLogFn(a.level),i=a.type==="log"?"":a.type,c=a.tag||"",m=`
      background: ${this.typeColorMap[a.type]||this.levelColorMap[a.level]||this.defaultColor};
      border-radius: 0.5em;
      color: white;
      font-weight: bold;
      padding: 2px 0.5em;
    `,x=`%c${[c,i].filter(Boolean).join(":")}`;typeof a.args[0]=="string"?s(`${x}%c ${a.args[0]}`,m,"",...a.args.slice(1)):s(x,m,...a.args)}}function ub(o={}){return lb({reporters:o.reporters||[new cb({})],prompt(s,i={}){return i.type==="confirm"?Promise.resolve(confirm(s)):Promise.resolve(prompt(s))},...o})}const Qc=ub(),db={},_x=Object.freeze(Object.defineProperty({__proto__:null,default:db},Symbol.toStringTag,{value:"Module"})),{env:ws={},argv:Dx=[],platform:fb=""}=typeof process>"u"?{}:process,hb="NO_COLOR"in ws||Dx.includes("--no-color"),pb="FORCE_COLOR"in ws||Dx.includes("--color"),mb=fb==="win32",gb=ws.TERM==="dumb",xb=_x&&void 0,yb="CI"in ws&&("GITHUB_ACTIONS"in ws||"GITLAB_CI"in ws||"CIRCLECI"in ws),vb=!hb&&(pb||mb&&!gb||xb||yb);function Bx(o,a,s,i,c=a.slice(0,Math.max(0,o))+i,h=a.slice(Math.max(0,o+s.length)),m=h.indexOf(s)){return c+(m<0?h:Bx(m,h,s,i))}function bb(o,a,s,i,c){return o<0?s+a+i:s+Bx(o,a,i,c)+i}function wb(o,a,s=o,i=o.length+1){return c=>c||!(c===""||c===void 0)?bb((""+c).indexOf(a,i),c,o,a,s):""}function ht(o,a,s){return wb(`\x1B[${o}m`,`\x1B[${a}m`,s)}const tg={reset:ht(0,0),bold:ht(1,22,"\x1B[22m\x1B[1m"),dim:ht(2,22,"\x1B[22m\x1B[2m"),italic:ht(3,23),underline:ht(4,24),inverse:ht(7,27),hidden:ht(8,28),strikethrough:ht(9,29),black:ht(30,39),red:ht(31,39),green:ht(32,39),yellow:ht(33,39),blue:ht(34,39),magenta:ht(35,39),cyan:ht(36,39),white:ht(37,39),gray:ht(90,39),bgBlack:ht(40,49),bgRed:ht(41,49),bgGreen:ht(42,49),bgYellow:ht(43,49),bgBlue:ht(44,49),bgMagenta:ht(45,49),bgCyan:ht(46,49),bgWhite:ht(47,49),blackBright:ht(90,39),redBright:ht(91,39),greenBright:ht(92,39),yellowBright:ht(93,39),blueBright:ht(94,39),magentaBright:ht(95,39),cyanBright:ht(96,39),whiteBright:ht(97,39),bgBlackBright:ht(100,49),bgRedBright:ht(101,49),bgGreenBright:ht(102,49),bgYellowBright:ht(103,49),bgBlueBright:ht(104,49),bgMagentaBright:ht(105,49),bgCyanBright:ht(106,49),bgWhiteBright:ht(107,49)};function Eb(o=vb){return o?tg:Object.fromEntries(Object.keys(tg).map(a=>[a,String]))}const Zc=Eb(),zf="$._system",wr={START_MENU:"start-menu-passage",START:"start-passage"},Tx={defaultLanguage:"en",fallbackLanguage:"en",debug:!1,resources:{}},Nx={gameName:"",gameId:"",description:"",startPassage:wr.START,gameVersion:"1.0.0",initialState:{},author:"",isDevMode:!1,translations:Tx},ng=o=>{Object.assign(Nx,o)},Er=()=>Nx,di={DEBUG:0,INFO:1,WARN:2,ERROR:3},Ie={get level(){const{isDevMode:o}=Er();return o?di.DEBUG:di.WARN},debug(...o){this.level<=di.DEBUG&&Qc.debug(Zc.green("[DEBUG]"),...o)},log(...o){this.level<=di.INFO&&Qc.log(Zc.blue("[INFO]"),...o)},warn(...o){this.level<=di.WARN&&Qc.warn(Zc.yellow("[WARN]"),...o)},error(...o){this.level<=di.ERROR&&Qc.error(Zc.red("[ERROR]"),...o)}};class Sb{add(a,s,i){if(typeof arguments[0]!="string")for(let c in arguments[0])this.add(c,arguments[0][c],arguments[1]);else(Array.isArray(a)?a:[a]).forEach(function(c){this[c]=this[c]||[],s&&this[c][i?"unshift":"push"](s)},this)}run(a,s){this[a]=this[a]||[],this[a].forEach(function(i){i.call(s&&s.context?s.context:s,s)})}}class Ab{constructor(a){this.jsep=a,this.registered={}}register(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];s.forEach(c=>{if(typeof c!="object"||!c.name||!c.init)throw new Error("Invalid JSEP plugin format");this.registered[c.name]||(c.init(this.jsep),this.registered[c.name]=c)})}}class be{static get version(){return"1.4.0"}static toString(){return"JavaScript Expression Parser (JSEP) v"+be.version}static addUnaryOp(a){return be.max_unop_len=Math.max(a.length,be.max_unop_len),be.unary_ops[a]=1,be}static addBinaryOp(a,s,i){return be.max_binop_len=Math.max(a.length,be.max_binop_len),be.binary_ops[a]=s,i?be.right_associative.add(a):be.right_associative.delete(a),be}static addIdentifierChar(a){return be.additional_identifier_chars.add(a),be}static addLiteral(a,s){return be.literals[a]=s,be}static removeUnaryOp(a){return delete be.unary_ops[a],a.length===be.max_unop_len&&(be.max_unop_len=be.getMaxKeyLen(be.unary_ops)),be}static removeAllUnaryOps(){return be.unary_ops={},be.max_unop_len=0,be}static removeIdentifierChar(a){return be.additional_identifier_chars.delete(a),be}static removeBinaryOp(a){return delete be.binary_ops[a],a.length===be.max_binop_len&&(be.max_binop_len=be.getMaxKeyLen(be.binary_ops)),be.right_associative.delete(a),be}static removeAllBinaryOps(){return be.binary_ops={},be.max_binop_len=0,be}static removeLiteral(a){return delete be.literals[a],be}static removeAllLiterals(){return be.literals={},be}get char(){return this.expr.charAt(this.index)}get code(){return this.expr.charCodeAt(this.index)}constructor(a){this.expr=a,this.index=0}static parse(a){return new be(a).parse()}static getMaxKeyLen(a){return Math.max(0,...Object.keys(a).map(s=>s.length))}static isDecimalDigit(a){return a>=48&&a<=57}static binaryPrecedence(a){return be.binary_ops[a]||0}static isIdentifierStart(a){return a>=65&&a<=90||a>=97&&a<=122||a>=128&&!be.binary_ops[String.fromCharCode(a)]||be.additional_identifier_chars.has(String.fromCharCode(a))}static isIdentifierPart(a){return be.isIdentifierStart(a)||be.isDecimalDigit(a)}throwError(a){const s=new Error(a+" at character "+this.index);throw s.index=this.index,s.description=a,s}runHook(a,s){if(be.hooks[a]){const i={context:this,node:s};return be.hooks.run(a,i),i.node}return s}searchHook(a){if(be.hooks[a]){const s={context:this};return be.hooks[a].find(function(i){return i.call(s.context,s),s.node}),s.node}}gobbleSpaces(){let a=this.code;for(;a===be.SPACE_CODE||a===be.TAB_CODE||a===be.LF_CODE||a===be.CR_CODE;)a=this.expr.charCodeAt(++this.index);this.runHook("gobble-spaces")}parse(){this.runHook("before-all");const a=this.gobbleExpressions(),s=a.length===1?a[0]:{type:be.COMPOUND,body:a};return this.runHook("after-all",s)}gobbleExpressions(a){let s=[],i,c;for(;this.index<this.expr.length;)if(i=this.code,i===be.SEMCOL_CODE||i===be.COMMA_CODE)this.index++;else if(c=this.gobbleExpression())s.push(c);else if(this.index<this.expr.length){if(i===a)break;this.throwError('Unexpected "'+this.char+'"')}return s}gobbleExpression(){const a=this.searchHook("gobble-expression")||this.gobbleBinaryExpression();return this.gobbleSpaces(),this.runHook("after-expression",a)}gobbleBinaryOp(){this.gobbleSpaces();let a=this.expr.substr(this.index,be.max_binop_len),s=a.length;for(;s>0;){if(be.binary_ops.hasOwnProperty(a)&&(!be.isIdentifierStart(this.code)||this.index+a.length<this.expr.length&&!be.isIdentifierPart(this.expr.charCodeAt(this.index+a.length))))return this.index+=s,a;a=a.substr(0,--s)}return!1}gobbleBinaryExpression(){let a,s,i,c,h,m,x,v,p;if(m=this.gobbleToken(),!m||(s=this.gobbleBinaryOp(),!s))return m;for(h={value:s,prec:be.binaryPrecedence(s),right_a:be.right_associative.has(s)},x=this.gobbleToken(),x||this.throwError("Expected expression after "+s),c=[m,h,x];s=this.gobbleBinaryOp();){if(i=be.binaryPrecedence(s),i===0){this.index-=s.length;break}h={value:s,prec:i,right_a:be.right_associative.has(s)},p=s;const b=y=>h.right_a&&y.right_a?i>y.prec:i<=y.prec;for(;c.length>2&&b(c[c.length-2]);)x=c.pop(),s=c.pop().value,m=c.pop(),a={type:be.BINARY_EXP,operator:s,left:m,right:x},c.push(a);a=this.gobbleToken(),a||this.throwError("Expected expression after "+p),c.push(h,a)}for(v=c.length-1,a=c[v];v>1;)a={type:be.BINARY_EXP,operator:c[v-1].value,left:c[v-2],right:a},v-=2;return a}gobbleToken(){let a,s,i,c;if(this.gobbleSpaces(),c=this.searchHook("gobble-token"),c)return this.runHook("after-token",c);if(a=this.code,be.isDecimalDigit(a)||a===be.PERIOD_CODE)return this.gobbleNumericLiteral();if(a===be.SQUOTE_CODE||a===be.DQUOTE_CODE)c=this.gobbleStringLiteral();else if(a===be.OBRACK_CODE)c=this.gobbleArray();else{for(s=this.expr.substr(this.index,be.max_unop_len),i=s.length;i>0;){if(be.unary_ops.hasOwnProperty(s)&&(!be.isIdentifierStart(this.code)||this.index+s.length<this.expr.length&&!be.isIdentifierPart(this.expr.charCodeAt(this.index+s.length)))){this.index+=i;const h=this.gobbleToken();return h||this.throwError("missing unaryOp argument"),this.runHook("after-token",{type:be.UNARY_EXP,operator:s,argument:h,prefix:!0})}s=s.substr(0,--i)}be.isIdentifierStart(a)?(c=this.gobbleIdentifier(),be.literals.hasOwnProperty(c.name)?c={type:be.LITERAL,value:be.literals[c.name],raw:c.name}:c.name===be.this_str&&(c={type:be.THIS_EXP})):a===be.OPAREN_CODE&&(c=this.gobbleGroup())}return c?(c=this.gobbleTokenProperty(c),this.runHook("after-token",c)):this.runHook("after-token",!1)}gobbleTokenProperty(a){this.gobbleSpaces();let s=this.code;for(;s===be.PERIOD_CODE||s===be.OBRACK_CODE||s===be.OPAREN_CODE||s===be.QUMARK_CODE;){let i;if(s===be.QUMARK_CODE){if(this.expr.charCodeAt(this.index+1)!==be.PERIOD_CODE)break;i=!0,this.index+=2,this.gobbleSpaces(),s=this.code}this.index++,s===be.OBRACK_CODE?(a={type:be.MEMBER_EXP,computed:!0,object:a,property:this.gobbleExpression()},a.property||this.throwError('Unexpected "'+this.char+'"'),this.gobbleSpaces(),s=this.code,s!==be.CBRACK_CODE&&this.throwError("Unclosed ["),this.index++):s===be.OPAREN_CODE?a={type:be.CALL_EXP,arguments:this.gobbleArguments(be.CPAREN_CODE),callee:a}:(s===be.PERIOD_CODE||i)&&(i&&this.index--,this.gobbleSpaces(),a={type:be.MEMBER_EXP,computed:!1,object:a,property:this.gobbleIdentifier()}),i&&(a.optional=!0),this.gobbleSpaces(),s=this.code}return a}gobbleNumericLiteral(){let a="",s,i;for(;be.isDecimalDigit(this.code);)a+=this.expr.charAt(this.index++);if(this.code===be.PERIOD_CODE)for(a+=this.expr.charAt(this.index++);be.isDecimalDigit(this.code);)a+=this.expr.charAt(this.index++);if(s=this.char,s==="e"||s==="E"){for(a+=this.expr.charAt(this.index++),s=this.char,(s==="+"||s==="-")&&(a+=this.expr.charAt(this.index++));be.isDecimalDigit(this.code);)a+=this.expr.charAt(this.index++);be.isDecimalDigit(this.expr.charCodeAt(this.index-1))||this.throwError("Expected exponent ("+a+this.char+")")}return i=this.code,be.isIdentifierStart(i)?this.throwError("Variable names cannot start with a number ("+a+this.char+")"):(i===be.PERIOD_CODE||a.length===1&&a.charCodeAt(0)===be.PERIOD_CODE)&&this.throwError("Unexpected period"),{type:be.LITERAL,value:parseFloat(a),raw:a}}gobbleStringLiteral(){let a="";const s=this.index,i=this.expr.charAt(this.index++);let c=!1;for(;this.index<this.expr.length;){let h=this.expr.charAt(this.index++);if(h===i){c=!0;break}else if(h==="\\")switch(h=this.expr.charAt(this.index++),h){case"n":a+=`
`;break;case"r":a+="\r";break;case"t":a+="	";break;case"b":a+="\b";break;case"f":a+="\f";break;case"v":a+="\v";break;default:a+=h}else a+=h}return c||this.throwError('Unclosed quote after "'+a+'"'),{type:be.LITERAL,value:a,raw:this.expr.substring(s,this.index)}}gobbleIdentifier(){let a=this.code,s=this.index;for(be.isIdentifierStart(a)?this.index++:this.throwError("Unexpected "+this.char);this.index<this.expr.length&&(a=this.code,be.isIdentifierPart(a));)this.index++;return{type:be.IDENTIFIER,name:this.expr.slice(s,this.index)}}gobbleArguments(a){const s=[];let i=!1,c=0;for(;this.index<this.expr.length;){this.gobbleSpaces();let h=this.code;if(h===a){i=!0,this.index++,a===be.CPAREN_CODE&&c&&c>=s.length&&this.throwError("Unexpected token "+String.fromCharCode(a));break}else if(h===be.COMMA_CODE){if(this.index++,c++,c!==s.length){if(a===be.CPAREN_CODE)this.throwError("Unexpected token ,");else if(a===be.CBRACK_CODE)for(let m=s.length;m<c;m++)s.push(null)}}else if(s.length!==c&&c!==0)this.throwError("Expected comma");else{const m=this.gobbleExpression();(!m||m.type===be.COMPOUND)&&this.throwError("Expected comma"),s.push(m)}}return i||this.throwError("Expected "+String.fromCharCode(a)),s}gobbleGroup(){this.index++;let a=this.gobbleExpressions(be.CPAREN_CODE);if(this.code===be.CPAREN_CODE)return this.index++,a.length===1?a[0]:a.length?{type:be.SEQUENCE_EXP,expressions:a}:!1;this.throwError("Unclosed (")}gobbleArray(){return this.index++,{type:be.ARRAY_EXP,elements:this.gobbleArguments(be.CBRACK_CODE)}}}const Cb=new Sb;Object.assign(be,{hooks:Cb,plugins:new Ab(be),COMPOUND:"Compound",SEQUENCE_EXP:"SequenceExpression",IDENTIFIER:"Identifier",MEMBER_EXP:"MemberExpression",LITERAL:"Literal",THIS_EXP:"ThisExpression",CALL_EXP:"CallExpression",UNARY_EXP:"UnaryExpression",BINARY_EXP:"BinaryExpression",ARRAY_EXP:"ArrayExpression",TAB_CODE:9,LF_CODE:10,CR_CODE:13,SPACE_CODE:32,PERIOD_CODE:46,COMMA_CODE:44,SQUOTE_CODE:39,DQUOTE_CODE:34,OPAREN_CODE:40,CPAREN_CODE:41,OBRACK_CODE:91,CBRACK_CODE:93,QUMARK_CODE:63,SEMCOL_CODE:59,COLON_CODE:58,unary_ops:{"-":1,"!":1,"~":1,"+":1},binary_ops:{"||":1,"??":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10,"**":11},right_associative:new Set(["**"]),additional_identifier_chars:new Set(["$","_"]),literals:{true:!0,false:!1,null:null},this_str:"this"});be.max_unop_len=be.getMaxKeyLen(be.unary_ops);be.max_binop_len=be.getMaxKeyLen(be.binary_ops);const eo=o=>new be(o).parse(),_b=Object.getOwnPropertyNames(class{});Object.getOwnPropertyNames(be).filter(o=>!_b.includes(o)&&eo[o]===void 0).forEach(o=>{eo[o]=be[o]});eo.Jsep=be;const Db="ConditionalExpression";var Bb={name:"ternary",init(o){o.hooks.add("after-expression",function(s){if(s.node&&this.code===o.QUMARK_CODE){this.index++;const i=s.node,c=this.gobbleExpression();if(c||this.throwError("Expected expression"),this.gobbleSpaces(),this.code===o.COLON_CODE){this.index++;const h=this.gobbleExpression();if(h||this.throwError("Expected expression"),s.node={type:Db,test:i,consequent:c,alternate:h},i.operator&&o.binary_ops[i.operator]<=.9){let m=i;for(;m.right.operator&&o.binary_ops[m.right.operator]<=.9;)m=m.right;s.node.test=m.right,m.right=s.node,s.node=i}}else this.throwError("Expected :")}})}};eo.plugins.register(Bb);const ag=47,Tb=92;var Nb={name:"regex",init(o){o.hooks.add("gobble-token",function(s){if(this.code===ag){const i=++this.index;let c=!1;for(;this.index<this.expr.length;){if(this.code===ag&&!c){const h=this.expr.slice(i,this.index);let m="";for(;++this.index<this.expr.length;){const v=this.code;if(v>=97&&v<=122||v>=65&&v<=90||v>=48&&v<=57)m+=this.char;else break}let x;try{x=new RegExp(h,m)}catch(v){this.throwError(v.message)}return s.node={type:o.LITERAL,value:x,raw:this.expr.slice(i-1,this.index)},s.node=this.gobbleTokenProperty(s.node),s.node}this.code===o.OBRACK_CODE?c=!0:c&&this.code===o.CBRACK_CODE&&(c=!1),this.index+=this.code===Tb?2:1}this.throwError("Unclosed Regex")}})}};const Wd=43,kb=45,xi={name:"assignment",assignmentOperators:new Set(["=","*=","**=","/=","%=","+=","-=","<<=",">>=",">>>=","&=","^=","|=","||=","&&=","??="]),updateOperators:[Wd,kb],assignmentPrecedence:.9,init(o){const a=[o.IDENTIFIER,o.MEMBER_EXP];xi.assignmentOperators.forEach(i=>o.addBinaryOp(i,xi.assignmentPrecedence,!0)),o.hooks.add("gobble-token",function(c){const h=this.code;xi.updateOperators.some(m=>m===h&&m===this.expr.charCodeAt(this.index+1))&&(this.index+=2,c.node={type:"UpdateExpression",operator:h===Wd?"++":"--",argument:this.gobbleTokenProperty(this.gobbleIdentifier()),prefix:!0},(!c.node.argument||!a.includes(c.node.argument.type))&&this.throwError(`Unexpected ${c.node.operator}`))}),o.hooks.add("after-token",function(c){if(c.node){const h=this.code;xi.updateOperators.some(m=>m===h&&m===this.expr.charCodeAt(this.index+1))&&(a.includes(c.node.type)||this.throwError(`Unexpected ${c.node.operator}`),this.index+=2,c.node={type:"UpdateExpression",operator:h===Wd?"++":"--",argument:c.node,prefix:!1})}}),o.hooks.add("after-expression",function(c){c.node&&s(c.node)});function s(i){xi.assignmentOperators.has(i.operator)?(i.type="AssignmentExpression",s(i.left),s(i.right)):i.operator||Object.values(i).forEach(c=>{c&&typeof c=="object"&&s(c)})}}};eo.plugins.register(Nb,xi);eo.addUnaryOp("typeof");eo.addLiteral("null",null);eo.addLiteral("undefined",void 0);const jb=new Set(["constructor","__proto__","__defineGetter__","__defineSetter__"]),Ht={evalAst(o,a){switch(o.type){case"BinaryExpression":case"LogicalExpression":return Ht.evalBinaryExpression(o,a);case"Compound":return Ht.evalCompound(o,a);case"ConditionalExpression":return Ht.evalConditionalExpression(o,a);case"Identifier":return Ht.evalIdentifier(o,a);case"Literal":return Ht.evalLiteral(o,a);case"MemberExpression":return Ht.evalMemberExpression(o,a);case"UnaryExpression":return Ht.evalUnaryExpression(o,a);case"ArrayExpression":return Ht.evalArrayExpression(o,a);case"CallExpression":return Ht.evalCallExpression(o,a);case"AssignmentExpression":return Ht.evalAssignmentExpression(o,a);default:throw SyntaxError("Unexpected expression",o)}},evalBinaryExpression(o,a){return{"||":(i,c)=>i||c(),"&&":(i,c)=>i&&c(),"|":(i,c)=>i|c(),"^":(i,c)=>i^c(),"&":(i,c)=>i&c(),"==":(i,c)=>i==c(),"!=":(i,c)=>i!=c(),"===":(i,c)=>i===c(),"!==":(i,c)=>i!==c(),"<":(i,c)=>i<c(),">":(i,c)=>i>c(),"<=":(i,c)=>i<=c(),">=":(i,c)=>i>=c(),"<<":(i,c)=>i<<c(),">>":(i,c)=>i>>c(),">>>":(i,c)=>i>>>c(),"+":(i,c)=>i+c(),"-":(i,c)=>i-c(),"*":(i,c)=>i*c(),"/":(i,c)=>i/c(),"%":(i,c)=>i%c()}[o.operator](Ht.evalAst(o.left,a),()=>Ht.evalAst(o.right,a))},evalCompound(o,a){let s;for(let i=0;i<o.body.length;i++){o.body[i].type==="Identifier"&&["var","let","const"].includes(o.body[i].name)&&o.body[i+1]&&o.body[i+1].type==="AssignmentExpression"&&(i+=1);const c=o.body[i];s=Ht.evalAst(c,a)}return s},evalConditionalExpression(o,a){return Ht.evalAst(o.test,a)?Ht.evalAst(o.consequent,a):Ht.evalAst(o.alternate,a)},evalIdentifier(o,a){if(Object.hasOwn(a,o.name))return a[o.name];throw ReferenceError(`${o.name} is not defined`)},evalLiteral(o){return o.value},evalMemberExpression(o,a){const s=String(o.computed?Ht.evalAst(o.property):o.property.name),i=Ht.evalAst(o.object,a);if(i==null)throw TypeError(`Cannot read properties of ${i} (reading '${s}')`);if(!Object.hasOwn(i,s)&&jb.has(s))throw TypeError(`Cannot read properties of ${i} (reading '${s}')`);const c=i[s];return typeof c=="function"?c.bind(i):c},evalUnaryExpression(o,a){return{"-":i=>-Ht.evalAst(i,a),"!":i=>!Ht.evalAst(i,a),"~":i=>~Ht.evalAst(i,a),"+":i=>+Ht.evalAst(i,a),typeof:i=>typeof Ht.evalAst(i,a)}[o.operator](o.argument)},evalArrayExpression(o,a){return o.elements.map(s=>Ht.evalAst(s,a))},evalCallExpression(o,a){const s=o.arguments.map(c=>Ht.evalAst(c,a));return Ht.evalAst(o.callee,a)(...s)},evalAssignmentExpression(o,a){if(o.left.type!=="Identifier")throw SyntaxError("Invalid left-hand side in assignment");const s=o.left.name,i=Ht.evalAst(o.right,a);return a[s]=i,a[s]}};class Ob{constructor(a){this.code=a,this.ast=eo(this.code)}runInNewContext(a){const s=Object.assign(Object.create(null),a);return Ht.evalAst(this.ast,s)}}function Uo(o,a){return o=o.slice(),o.push(a),o}function pf(o,a){return a=a.slice(),a.unshift(o),a}class Mb extends Error{constructor(a){super('JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)'),this.avoidNew=!0,this.value=a,this.name="NewError"}}function wt(o,a,s,i,c){if(!(this instanceof wt))try{return new wt(o,a,s,i,c)}catch(m){if(!m.avoidNew)throw m;return m.value}typeof o=="string"&&(c=i,i=s,s=a,a=o,o=null);const h=o&&typeof o=="object";if(o=o||{},this.json=o.json||s,this.path=o.path||a,this.resultType=o.resultType||"value",this.flatten=o.flatten||!1,this.wrap=Object.hasOwn(o,"wrap")?o.wrap:!0,this.sandbox=o.sandbox||{},this.eval=o.eval===void 0?"safe":o.eval,this.ignoreEvalErrors=typeof o.ignoreEvalErrors>"u"?!1:o.ignoreEvalErrors,this.parent=o.parent||null,this.parentProperty=o.parentProperty||null,this.callback=o.callback||i||null,this.otherTypeCallback=o.otherTypeCallback||c||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},o.autostart!==!1){const m={path:h?o.path:a};h?"json"in o&&(m.json=o.json):m.json=s;const x=this.evaluate(m);if(!x||typeof x!="object")throw new Mb(x);return x}}wt.prototype.evaluate=function(o,a,s,i){let c=this.parent,h=this.parentProperty,{flatten:m,wrap:x}=this;if(this.currResultType=this.resultType,this.currEval=this.eval,this.currSandbox=this.sandbox,s=s||this.callback,this.currOtherTypeCallback=i||this.otherTypeCallback,a=a||this.json,o=o||this.path,o&&typeof o=="object"&&!Array.isArray(o)){if(!o.path&&o.path!=="")throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!Object.hasOwn(o,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');({json:a}=o),m=Object.hasOwn(o,"flatten")?o.flatten:m,this.currResultType=Object.hasOwn(o,"resultType")?o.resultType:this.currResultType,this.currSandbox=Object.hasOwn(o,"sandbox")?o.sandbox:this.currSandbox,x=Object.hasOwn(o,"wrap")?o.wrap:x,this.currEval=Object.hasOwn(o,"eval")?o.eval:this.currEval,s=Object.hasOwn(o,"callback")?o.callback:s,this.currOtherTypeCallback=Object.hasOwn(o,"otherTypeCallback")?o.otherTypeCallback:this.currOtherTypeCallback,c=Object.hasOwn(o,"parent")?o.parent:c,h=Object.hasOwn(o,"parentProperty")?o.parentProperty:h,o=o.path}if(c=c||null,h=h||null,Array.isArray(o)&&(o=wt.toPathString(o)),!o&&o!==""||!a)return;const v=wt.toPathArray(o);v[0]==="$"&&v.length>1&&v.shift(),this._hasParentSelector=null;const p=this._trace(v,a,["$"],c,h,s).filter(function(b){return b&&!b.isParentSelector});return p.length?!x&&p.length===1&&!p[0].hasArrExpr?this._getPreferredOutput(p[0]):p.reduce((b,y)=>{const C=this._getPreferredOutput(y);return m&&Array.isArray(C)?b=b.concat(C):b.push(C),b},[]):x?[]:void 0};wt.prototype._getPreferredOutput=function(o){const a=this.currResultType;switch(a){case"all":{const s=Array.isArray(o.path)?o.path:wt.toPathArray(o.path);return o.pointer=wt.toPointer(s),o.path=typeof o.path=="string"?o.path:wt.toPathString(o.path),o}case"value":case"parent":case"parentProperty":return o[a];case"path":return wt.toPathString(o[a]);case"pointer":return wt.toPointer(o.path);default:throw new TypeError("Unknown result type")}};wt.prototype._handleCallback=function(o,a,s){if(a){const i=this._getPreferredOutput(o);o.path=typeof o.path=="string"?o.path:wt.toPathString(o.path),a(i,s,o)}};wt.prototype._trace=function(o,a,s,i,c,h,m,x){let v;if(!o.length)return v={path:s,value:a,parent:i,parentProperty:c,hasArrExpr:m},this._handleCallback(v,h,"value"),v;const p=o[0],b=o.slice(1),y=[];function C(D){Array.isArray(D)?D.forEach(B=>{y.push(B)}):y.push(D)}if((typeof p!="string"||x)&&a&&Object.hasOwn(a,p))C(this._trace(b,a[p],Uo(s,p),a,p,h,m));else if(p==="*")this._walk(a,D=>{C(this._trace(b,a[D],Uo(s,D),a,D,h,!0,!0))});else if(p==="..")C(this._trace(b,a,s,i,c,h,m)),this._walk(a,D=>{typeof a[D]=="object"&&C(this._trace(o.slice(),a[D],Uo(s,D),a,D,h,!0))});else{if(p==="^")return this._hasParentSelector=!0,{path:s.slice(0,-1),expr:b,isParentSelector:!0};if(p==="~")return v={path:Uo(s,p),value:c,parent:i,parentProperty:null},this._handleCallback(v,h,"property"),v;if(p==="$")C(this._trace(b,a,s,null,null,h,m));else if(/^(-?\d*):(-?\d*):?(\d*)$/u.test(p))C(this._slice(p,b,a,s,i,c,h));else if(p.indexOf("?(")===0){if(this.currEval===!1)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");const D=p.replace(/^\?\((.*?)\)$/u,"$1"),B=/@.?([^?]*)[['](\??\(.*?\))(?!.\)\])[\]']/gu.exec(D);B?this._walk(a,j=>{const O=[B[2]],F=B[1]?a[j][B[1]]:a[j];this._trace(O,F,s,i,c,h,!0).length>0&&C(this._trace(b,a[j],Uo(s,j),a,j,h,!0))}):this._walk(a,j=>{this._eval(D,a[j],j,s,i,c)&&C(this._trace(b,a[j],Uo(s,j),a,j,h,!0))})}else if(p[0]==="("){if(this.currEval===!1)throw new Error("Eval [(expr)] prevented in JSONPath expression.");C(this._trace(pf(this._eval(p,a,s.at(-1),s.slice(0,-1),i,c),b),a,s,i,c,h,m))}else if(p[0]==="@"){let D=!1;const B=p.slice(1,-2);switch(B){case"scalar":(!a||!["object","function"].includes(typeof a))&&(D=!0);break;case"boolean":case"string":case"undefined":case"function":typeof a===B&&(D=!0);break;case"integer":Number.isFinite(a)&&!(a%1)&&(D=!0);break;case"number":Number.isFinite(a)&&(D=!0);break;case"nonFinite":typeof a=="number"&&!Number.isFinite(a)&&(D=!0);break;case"object":a&&typeof a===B&&(D=!0);break;case"array":Array.isArray(a)&&(D=!0);break;case"other":D=this.currOtherTypeCallback(a,s,i,c);break;case"null":a===null&&(D=!0);break;default:throw new TypeError("Unknown value type "+B)}if(D)return v={path:s,value:a,parent:i,parentProperty:c},this._handleCallback(v,h,"value"),v}else if(p[0]==="`"&&a&&Object.hasOwn(a,p.slice(1))){const D=p.slice(1);C(this._trace(b,a[D],Uo(s,D),a,D,h,m,!0))}else if(p.includes(",")){const D=p.split(",");for(const B of D)C(this._trace(pf(B,b),a,s,i,c,h,!0))}else!x&&a&&Object.hasOwn(a,p)&&C(this._trace(b,a[p],Uo(s,p),a,p,h,m,!0))}if(this._hasParentSelector)for(let D=0;D<y.length;D++){const B=y[D];if(B&&B.isParentSelector){const j=this._trace(B.expr,a,B.path,i,c,h,m);if(Array.isArray(j)){y[D]=j[0];const O=j.length;for(let F=1;F<O;F++)D++,y.splice(D,0,j[F])}else y[D]=j}}return y};wt.prototype._walk=function(o,a){if(Array.isArray(o)){const s=o.length;for(let i=0;i<s;i++)a(i)}else o&&typeof o=="object"&&Object.keys(o).forEach(s=>{a(s)})};wt.prototype._slice=function(o,a,s,i,c,h,m){if(!Array.isArray(s))return;const x=s.length,v=o.split(":"),p=v[2]&&Number.parseInt(v[2])||1;let b=v[0]&&Number.parseInt(v[0])||0,y=v[1]&&Number.parseInt(v[1])||x;b=b<0?Math.max(0,b+x):Math.min(x,b),y=y<0?Math.max(0,y+x):Math.min(x,y);const C=[];for(let D=b;D<y;D+=p)this._trace(pf(D,a),s,i,c,h,m,!0).forEach(j=>{C.push(j)});return C};wt.prototype._eval=function(o,a,s,i,c,h){this.currSandbox._$_parentProperty=h,this.currSandbox._$_parent=c,this.currSandbox._$_property=s,this.currSandbox._$_root=this.json,this.currSandbox._$_v=a;const m=o.includes("@path");m&&(this.currSandbox._$_path=wt.toPathString(i.concat([s])));const x=this.currEval+"Script:"+o;if(!wt.cache[x]){let v=o.replaceAll("@parentProperty","_$_parentProperty").replaceAll("@parent","_$_parent").replaceAll("@property","_$_property").replaceAll("@root","_$_root").replaceAll(/@([.\s)[])/gu,"_$_v$1");if(m&&(v=v.replaceAll("@path","_$_path")),this.currEval==="safe"||this.currEval===!0||this.currEval===void 0)wt.cache[x]=new this.safeVm.Script(v);else if(this.currEval==="native")wt.cache[x]=new this.vm.Script(v);else if(typeof this.currEval=="function"&&this.currEval.prototype&&Object.hasOwn(this.currEval.prototype,"runInNewContext")){const p=this.currEval;wt.cache[x]=new p(v)}else if(typeof this.currEval=="function")wt.cache[x]={runInNewContext:p=>this.currEval(v,p)};else throw new TypeError(`Unknown "eval" property "${this.currEval}"`)}try{return wt.cache[x].runInNewContext(this.currSandbox)}catch(v){if(this.ignoreEvalErrors)return!1;throw new Error("jsonPath: "+v.message+": "+o)}};wt.cache={};wt.toPathString=function(o){const a=o,s=a.length;let i="$";for(let c=1;c<s;c++)/^(~|\^|@.*?\(\))$/u.test(a[c])||(i+=/^[0-9*]+$/u.test(a[c])?"["+a[c]+"]":"['"+a[c]+"']");return i};wt.toPointer=function(o){const a=o,s=a.length;let i="";for(let c=1;c<s;c++)/^(~|\^|@.*?\(\))$/u.test(a[c])||(i+="/"+a[c].toString().replaceAll("~","~0").replaceAll("/","~1"));return i};wt.toPathArray=function(o){const{cache:a}=wt;if(a[o])return a[o].concat();const s=[],c=o.replaceAll(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/gu,";$&;").replaceAll(/[['](\??\(.*?\))[\]'](?!.\])/gu,function(h,m){return"[#"+(s.push(m)-1)+"]"}).replaceAll(/\[['"]([^'\]]*)['"]\]/gu,function(h,m){return"['"+m.replaceAll(".","%@%").replaceAll("~","%%@@%%")+"']"}).replaceAll("~",";~;").replaceAll(/['"]?\.['"]?(?![^[]*\])|\[['"]?/gu,";").replaceAll("%@%",".").replaceAll("%%@@%%","~").replaceAll(/(?:;)?(\^+)(?:;)?/gu,function(h,m){return";"+m.split("").join(";")+";"}).replaceAll(/;;;|;;/gu,";..;").replaceAll(/;$|'?\]|'$/gu,"").split(";").map(function(h){const m=h.match(/#(\d+)/u);return!m||!m[1]?h:s[m[1]]});return a[o]=c,a[o].concat()};wt.prototype.safeVm={Script:Ob};const Rb=function(o,a,s){const i=o.length;for(let c=0;c<i;c++){const h=o[c];s(h)&&a.push(o.splice(c--,1)[0])}};class zb{constructor(a){this.code=a}runInNewContext(a){let s=this.code;const i=Object.keys(a),c=[];Rb(i,c,p=>typeof a[p]=="function");const h=i.map(p=>a[p]);s=c.reduce((p,b)=>{let y=a[b].toString();return/function/u.test(y)||(y="function "+y),"var "+b+"="+y+";"+p},"")+s,!/(['"])use strict\1/u.test(s)&&!i.includes("arguments")&&(s="var arguments = undefined;"+s),s=s.replace(/;\s*$/u,"");const x=s.lastIndexOf(";"),v=x!==-1?s.slice(0,x+1)+" return "+s.slice(x+1):" return "+s;return new Function(...i,v)(...h)}}wt.prototype.vm={Script:zb};const Zr={};class Oa{static getValue(a){return wt({path:a,json:Zr})}static setValue(a,s,i=!1){if(a.includes(zf)&&!i)throw new Error(`Cannot set value at system path: ${a}`);if(wt({path:a,json:Zr}).length>0){const h=wt({path:a,json:Zr,resultType:"parent"}),m=wt({path:a,json:Zr,resultType:"parentProperty"});for(let x=0;x<h.length;x++)h[x][m[x]]=s}else this.createPath(Zr,a,s)}static getState(){return Zr}static setState(a){if(typeof a!="object"||a===null)throw new Error("Invalid state provided. Expected an object.");for(const s in Zr)delete Zr[s];Object.assign(Zr,a)}static createPath(a,s,i){const c=wt.toPathArray(s);let h=a;for(let m=1;m<c.length;m++){const x=c[m];if(!x)throw new Error(`Invalid path component at index ${m} in path: ${s}`);const v=m===c.length-1;if(/^\d+$/.test(x)){const b=parseInt(x);if(v){if(!Array.isArray(h))throw new Error(`Cannot set array index on non-array at path: ${s}`);h[b]=i}else{if(!Array.isArray(h))throw new Error(`Cannot access array index on non-array at path: ${s}`);if(!h[b]){const y=c[m+1],C=y&&/^\d+$/.test(y);h[b]=C?[]:{}}h=h[b]}}else{const b=x;if(v)h[b]=i;else{if(!(b in h)||typeof h[b]!="object"||h[b]===null){const y=c[m+1],C=y&&/^\d+$/.test(y);h[b]=C?[]:{}}h=h[b]}}}}}const Fb=`${zf}.audio`,fi={volume:1,loop:!1,playbackRate:1,muted:!1,preload:"metadata"};class Lb{id;src;audioElement;state;jsonPath;unsubscribe;originalVolume;fadeAnimationId=null;constructor(a,s={}){this.id=s.id||`audio-${Date.now()}-${Math.random()}`,this.src=a,this.jsonPath=`${Fb}.${this.id}`,this.originalVolume=s.volume??fi.volume,this.state=yi({isPlaying:!1,isPaused:!1,isStopped:!0,currentTime:0,duration:0,volume:s.volume??fi.volume,loop:s.loop??fi.loop,playbackRate:s.playbackRate??fi.playbackRate,muted:s.muted??fi.muted}),this.audioElement=new Audio(a),this.audioElement.loop=this.state.loop,this.audioElement.playbackRate=this.state.playbackRate,this.audioElement.muted=this.state.muted,this.audioElement.preload=s.preload??fi.preload,this.attachEventListeners(),ou._registerTrack(this),this._applyEffectiveVolume(),s.id&&(this.unsubscribe=$u(this.state,()=>{this.save()})),s.autoPlay&&this.play().catch(i=>{Ie.warn(`Auto-play blocked for "${this.id}". User interaction required.`,i)}),Ie.log(`Audio track created: ${this.id} (${a})`)}attachEventListeners(){this.audioElement.addEventListener("loadedmetadata",()=>{this.state.duration=this.audioElement.duration}),this.audioElement.addEventListener("timeupdate",()=>{this.state.currentTime=this.audioElement.currentTime}),this.audioElement.addEventListener("play",()=>{this.state.isPlaying=!0,this.state.isPaused=!1,this.state.isStopped=!1}),this.audioElement.addEventListener("pause",()=>{this.state.isPlaying=!1,this.state.isPaused=!0}),this.audioElement.addEventListener("ended",()=>{this.state.loop||(this.state.isPlaying=!1,this.state.isStopped=!0,this.state.isPaused=!1,this.state.currentTime=0)}),this.audioElement.addEventListener("volumechange",()=>{this.state.muted=this.audioElement.muted}),this.audioElement.addEventListener("ratechange",()=>{this.state.playbackRate=this.audioElement.playbackRate})}async play(){try{await this.audioElement.play()}catch(a){throw Ie.error(`Failed to play audio: ${this.src}`,a),a}}pause(){this.audioElement.pause()}resume(){this.state.isPaused&&this.play().catch(a=>{Ie.error(`Failed to resume audio: ${this.src}`,a)})}stop(){this.audioElement.pause(),this.audioElement.currentTime=0,this.state.isPlaying=!1,this.state.isPaused=!1,this.state.isStopped=!0}setVolume(a){const s=Math.max(0,Math.min(1,a));this.state.volume=s,this._applyEffectiveVolume()}_applyEffectiveVolume(){const a=ou.getMasterVolume(),s=this.state.volume*a;this.audioElement.volume=s}setLoop(a){this.audioElement.loop=a,this.state.loop=a}setPlaybackRate(a){this.audioElement.playbackRate=a,this.state.playbackRate=a}setMuted(a){this.audioElement.muted=a,this.state.muted=a}seek(a){const s=Math.max(0,Math.min(this.state.duration,a));this.audioElement.currentTime=s}async fadeIn(a=1e3){this.cancelFade();const s=this.state.volume>0?this.state.volume:this.originalVolume;return this.state.volume=0,this.audioElement.volume=0,await this.play(),this.fadeTo(s,a)}async fadeOut(a=1e3){this.cancelFade(),await this.fadeTo(0,a),this.stop()}cancelFade(){this.fadeAnimationId!==null&&(cancelAnimationFrame(this.fadeAnimationId),this.fadeAnimationId=null)}async fadeTo(a,s){const i=this.audioElement.volume,c=Date.now();return new Promise(h=>{const m=()=>{const x=Date.now()-c,v=Math.min(x/s,1),p=i+(a-i)*v;this.audioElement.volume=p,this.state.volume=p,v<1?this.fadeAnimationId=requestAnimationFrame(m):(this.fadeAnimationId=null,h())};this.fadeAnimationId=requestAnimationFrame(m)})}getState(){return this.state}save(){const a={id:this.id,src:this.src,volume:this.state.volume,loop:this.state.loop,playbackRate:this.state.playbackRate,muted:this.state.muted,currentTime:this.state.currentTime,isPlaying:this.state.isPlaying,isPaused:this.state.isPaused};Oa.setValue(this.jsonPath,a,!0)}load(){const a=Oa.getValue(this.jsonPath);if(a.length>0){const s=a[0];this.state.volume=s.volume,this.state.loop=s.loop,this.state.playbackRate=s.playbackRate,this.state.muted=s.muted,this._applyEffectiveVolume(),this.audioElement.loop=s.loop,this.audioElement.playbackRate=s.playbackRate,this.audioElement.muted=s.muted,this.audioElement.currentTime=s.currentTime,s.isPlaying&&!s.isPaused&&this.play().catch(i=>{Ie.warn(`Could not auto-resume audio "${this.id}" on load. User interaction may be required.`,i)})}}dispose(){this.cancelFade(),this.stop(),this.unsubscribe?.(),ou._unregisterTrack(this);const a=this.audioElement.cloneNode();this.audioElement.parentNode?.replaceChild(a,this.audioElement),Ie.log(`Audio track disposed: ${this.id}`)}}class Hb{tracks=new Map;state=yi({masterVolume:1,isMuted:!1});_registerTrack(a){this.tracks.set(a.id,a),Ie.log(`AudioManager registered track: ${a.id}`)}_unregisterTrack(a){this.tracks.delete(a.id),Ie.log(`AudioManager unregistered track: ${a.id}`)}setMasterVolume(a){const s=Math.max(0,Math.min(1,a));this.state.masterVolume=s,this.tracks.forEach(i=>{i._applyEffectiveVolume()}),Ie.log(`Master volume set to: ${s}`)}getMasterVolume(){return this.state.masterVolume}muteAll(){this.state.isMuted=!0,this.tracks.forEach(a=>a.setMuted(!0)),Ie.log("All audio tracks muted")}unmuteAll(){this.state.isMuted=!1,this.tracks.forEach(a=>a.setMuted(!1)),Ie.log("All audio tracks unmuted")}pauseAll(){this.tracks.forEach(a=>{a.getState().isPlaying&&a.pause()}),Ie.log("All audio tracks paused")}resumeAll(){this.tracks.forEach(a=>{a.getState().isPaused&&a.resume()}),Ie.log("All audio tracks resumed")}stopAll(){this.tracks.forEach(a=>a.stop()),Ie.log("All audio tracks stopped")}getAllTracks(){return Array.from(this.tracks.values())}getTrackById(a){return this.tracks.get(a)}getState(){return this.state}disposeAll(){this.tracks.forEach(a=>a.dispose()),this.tracks.clear(),Ie.log("All audio tracks disposed")}}const ou=new Hb,Ma=(o,a)=>new Lb(o,a),mf=Ma("./assets/audio/music/main-theme.mp3",{id:"music-main-theme",volume:.5,loop:!0,preload:"metadata"}),kx=Ma("./assets/audio/music/village.mp3",{id:"music-village",volume:.4,loop:!0,preload:"metadata"}),qb=Ma("./assets/audio/music/forest.mp3",{id:"music-forest",volume:.4,loop:!0,preload:"metadata"}),Ub=Ma("./assets/audio/music/castle.mp3",{id:"music-castle",volume:.5,loop:!0,preload:"metadata"}),Kb=Ma("./assets/audio/music/dragon-lair.mp3",{id:"music-dragon-lair",volume:.6,loop:!0,preload:"metadata"}),Pb=Ma("./assets/audio/music/battle.mp3",{id:"music-battle",volume:.7,loop:!0,preload:"metadata"}),jx=Ma("./assets/audio/music/victory.mp3",{id:"music-victory",volume:.6,loop:!1,preload:"metadata"});Ma("./assets/audio/sfx/button-click.mp3",{volume:.6,preload:"auto"});const Vb=Ma("./assets/audio/sfx/sword-swing.mp3",{volume:.7,preload:"auto"}),xs=Ma("./assets/audio/sfx/coin-pickup.mp3",{volume:.5,preload:"auto"}),ys=Ma("./assets/audio/sfx/item-pickup.mp3",{volume:.5,preload:"auto"}),vr=Ma("./assets/audio/sfx/door-open.mp3",{volume:.6,preload:"auto"}),Yb=Ma("./assets/audio/sfx/dragon-roar.mp3",{volume:.8,preload:"auto"}),$b=async(o,a)=>{a&&(await a.fadeOut(500),a.stop()),await o.fadeIn(1e3)};let hi=null,Bl=!1,vs=null;const to=async o=>{if(!(hi===o&&(o.getState().isPlaying||Bl&&vs===o))){if(Bl){vs=o;return}Bl=!0,vs=o;try{if(ou.getAllTracks().forEach(h=>{h.getState().isPlaying&&h!==o&&h.stop()}),hi&&hi!==o&&(await hi.fadeOut(500),hi.stop()),vs!==o)return Bl=!1,vs?to(vs):void 0;hi=o;const a=o.getState(),s=a.volume>0?a.volume:.4;o.setVolume(0),await o.play();const i=Date.now(),c=1e3;await new Promise(h=>{const m=()=>{if(vs!==o){h();return}const x=Date.now()-i,v=Math.min(x/c,1),p=s*v;o.setVolume(p),v<1?requestAnimationFrame(m):h()};requestAnimationFrame(m)})}finally{Bl=!1}}};function Gb(){typeof window>"u"||(window.ReactTextGame={Game:L,Storage:Oa,get currentPassage(){return L.currentPassage},get state(){return L.getState()},get passages(){return L.getAllPassages()},jumpTo:L.jumpTo.bind(L),getPassage:L.getPassageById.bind(L),getState:L.getState.bind(L),setState:L.setState.bind(L)},window.Game=L,Ie.log("Dev tools exposed to window object. Available commands:"),Ie.log("  window.Game - Direct Game class access"),Ie.log("  window.Game.jumpTo('passage-id') - Navigate to passage"),Ie.log("  window.ReactTextGame.currentPassage - Current passage"),Ie.log("  window.ReactTextGame.state - Full game state"),Ie.log("  window.ReactTextGame.passages - All registered passages"))}function Ib(){typeof window>"u"||(delete window.ReactTextGame,delete window.Game)}const Wc=(o,a)=>typeof o=="function"?o(a):o;function gf(o,a){const s={...o};for(const i in a){const c=a[i],h=s[i];if(c!=null){if(Array.isArray(c)){s[i]=c;continue}typeof c=="object"&&typeof h=="object"&&!Array.isArray(h)?s[i]=gf(h,c):s[i]=c}}return s}const lt=o=>typeof o=="string",Tl=()=>{let o,a;const s=new Promise((i,c)=>{o=i,a=c});return s.resolve=o,s.reject=a,s},rg=o=>o==null?"":""+o,Xb=(o,a,s)=>{o.forEach(i=>{a[i]&&(s[i]=a[i])})},Qb=/###/g,og=o=>o&&o.indexOf("###")>-1?o.replace(Qb,"."):o,sg=o=>!o||lt(o),Rl=(o,a,s)=>{const i=lt(a)?a.split("."):a;let c=0;for(;c<i.length-1;){if(sg(o))return{};const h=og(i[c]);!o[h]&&s&&(o[h]=new s),Object.prototype.hasOwnProperty.call(o,h)?o=o[h]:o={},++c}return sg(o)?{}:{obj:o,k:og(i[c])}},ig=(o,a,s)=>{const{obj:i,k:c}=Rl(o,a,Object);if(i!==void 0||a.length===1){i[c]=s;return}let h=a[a.length-1],m=a.slice(0,a.length-1),x=Rl(o,m,Object);for(;x.obj===void 0&&m.length;)h=`${m[m.length-1]}.${h}`,m=m.slice(0,m.length-1),x=Rl(o,m,Object),x?.obj&&typeof x.obj[`${x.k}.${h}`]<"u"&&(x.obj=void 0);x.obj[`${x.k}.${h}`]=s},Zb=(o,a,s,i)=>{const{obj:c,k:h}=Rl(o,a,Object);c[h]=c[h]||[],c[h].push(s)},Gu=(o,a)=>{const{obj:s,k:i}=Rl(o,a);if(s&&Object.prototype.hasOwnProperty.call(s,i))return s[i]},Wb=(o,a,s)=>{const i=Gu(o,s);return i!==void 0?i:Gu(a,s)},Ox=(o,a,s)=>{for(const i in a)i!=="__proto__"&&i!=="constructor"&&(i in o?lt(o[i])||o[i]instanceof String||lt(a[i])||a[i]instanceof String?s&&(o[i]=a[i]):Ox(o[i],a[i],s):o[i]=a[i]);return o},pi=o=>o.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Jb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const e1=o=>lt(o)?o.replace(/[&<>"'\/]/g,a=>Jb[a]):o;class t1{constructor(a){this.capacity=a,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(a){const s=this.regExpMap.get(a);if(s!==void 0)return s;const i=new RegExp(a);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(a,i),this.regExpQueue.push(a),i}}const n1=[" ",",","?","!",";"],a1=new t1(20),r1=(o,a,s)=>{a=a||"",s=s||"";const i=n1.filter(m=>a.indexOf(m)<0&&s.indexOf(m)<0);if(i.length===0)return!0;const c=a1.getRegExp(`(${i.map(m=>m==="?"?"\\?":m).join("|")})`);let h=!c.test(o);if(!h){const m=o.indexOf(s);m>0&&!c.test(o.substring(0,m))&&(h=!0)}return h},xf=(o,a,s=".")=>{if(!o)return;if(o[a])return Object.prototype.hasOwnProperty.call(o,a)?o[a]:void 0;const i=a.split(s);let c=o;for(let h=0;h<i.length;){if(!c||typeof c!="object")return;let m,x="";for(let v=h;v<i.length;++v)if(v!==h&&(x+=s),x+=i[v],m=c[x],m!==void 0){if(["string","number","boolean"].indexOf(typeof m)>-1&&v<i.length-1)continue;h+=v-h+1;break}c=m}return c},zl=o=>o?.replace("_","-"),o1={type:"logger",log(o){this.output("log",o)},warn(o){this.output("warn",o)},error(o){this.output("error",o)},output(o,a){console?.[o]?.apply?.(console,a)}};class Iu{constructor(a,s={}){this.init(a,s)}init(a,s={}){this.prefix=s.prefix||"i18next:",this.logger=a||o1,this.options=s,this.debug=s.debug}log(...a){return this.forward(a,"log","",!0)}warn(...a){return this.forward(a,"warn","",!0)}error(...a){return this.forward(a,"error","")}deprecate(...a){return this.forward(a,"warn","WARNING DEPRECATED: ",!0)}forward(a,s,i,c){return c&&!this.debug?null:(lt(a[0])&&(a[0]=`${i}${this.prefix} ${a[0]}`),this.logger[s](a))}create(a){return new Iu(this.logger,{prefix:`${this.prefix}:${a}:`,...this.options})}clone(a){return a=a||this.options,a.prefix=a.prefix||this.prefix,new Iu(this.logger,a)}}var br=new Iu;class Qu{constructor(){this.observers={}}on(a,s){return a.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const c=this.observers[i].get(s)||0;this.observers[i].set(s,c+1)}),this}off(a,s){if(this.observers[a]){if(!s){delete this.observers[a];return}this.observers[a].delete(s)}}emit(a,...s){this.observers[a]&&Array.from(this.observers[a].entries()).forEach(([c,h])=>{for(let m=0;m<h;m++)c(...s)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([c,h])=>{for(let m=0;m<h;m++)c.apply(c,[a,...s])})}}class lg extends Qu{constructor(a,s={ns:["translation"],defaultNS:"translation"}){super(),this.data=a||{},this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(a){this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}removeNamespaces(a){const s=this.options.ns.indexOf(a);s>-1&&this.options.ns.splice(s,1)}getResource(a,s,i,c={}){const h=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator,m=c.ignoreJSONStructure!==void 0?c.ignoreJSONStructure:this.options.ignoreJSONStructure;let x;a.indexOf(".")>-1?x=a.split("."):(x=[a,s],i&&(Array.isArray(i)?x.push(...i):lt(i)&&h?x.push(...i.split(h)):x.push(i)));const v=Gu(this.data,x);return!v&&!s&&!i&&a.indexOf(".")>-1&&(a=x[0],s=x[1],i=x.slice(2).join(".")),v||!m||!lt(i)?v:xf(this.data?.[a]?.[s],i,h)}addResource(a,s,i,c,h={silent:!1}){const m=h.keySeparator!==void 0?h.keySeparator:this.options.keySeparator;let x=[a,s];i&&(x=x.concat(m?i.split(m):i)),a.indexOf(".")>-1&&(x=a.split("."),c=s,s=x[1]),this.addNamespaces(s),ig(this.data,x,c),h.silent||this.emit("added",a,s,i,c)}addResources(a,s,i,c={silent:!1}){for(const h in i)(lt(i[h])||Array.isArray(i[h]))&&this.addResource(a,s,h,i[h],{silent:!0});c.silent||this.emit("added",a,s,i)}addResourceBundle(a,s,i,c,h,m={silent:!1,skipCopy:!1}){let x=[a,s];a.indexOf(".")>-1&&(x=a.split("."),c=i,i=s,s=x[1]),this.addNamespaces(s);let v=Gu(this.data,x)||{};m.skipCopy||(i=JSON.parse(JSON.stringify(i))),c?Ox(v,i,h):v={...v,...i},ig(this.data,x,v),m.silent||this.emit("added",a,s,i)}removeResourceBundle(a,s){this.hasResourceBundle(a,s)&&delete this.data[a][s],this.removeNamespaces(s),this.emit("removed",a,s)}hasResourceBundle(a,s){return this.getResource(a,s)!==void 0}getResourceBundle(a,s){return s||(s=this.options.defaultNS),this.getResource(a,s)}getDataByLanguage(a){return this.data[a]}hasLanguageSomeTranslations(a){const s=this.getDataByLanguage(a);return!!(s&&Object.keys(s)||[]).find(c=>s[c]&&Object.keys(s[c]).length>0)}toJSON(){return this.data}}var Mx={processors:{},addPostProcessor(o){this.processors[o.name]=o},handle(o,a,s,i,c){return o.forEach(h=>{a=this.processors[h]?.process(a,s,i,c)??a}),a}};const Rx=Symbol("i18next/PATH_KEY");function s1(){const o=[],a=Object.create(null);let s;return a.get=(i,c)=>(s?.revoke?.(),c===Rx?o:(o.push(c),s=Proxy.revocable(i,a),s.proxy)),Proxy.revocable(Object.create(null),a).proxy}function yf(o,a){const{[Rx]:s}=o(s1());return s.join(a?.keySeparator??".")}const cg={},Jd=o=>!lt(o)&&typeof o!="boolean"&&typeof o!="number";class Xu extends Qu{constructor(a,s={}){super(),Xb(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],a,this),this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=br.create("translator")}changeLanguage(a){a&&(this.language=a)}exists(a,s={interpolation:{}}){const i={...s};if(a==null)return!1;const c=this.resolve(a,i);if(c?.res===void 0)return!1;const h=Jd(c.res);return!(i.returnObjects===!1&&h)}extractFromKey(a,s){let i=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const c=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let h=s.ns||this.options.defaultNS||[];const m=i&&a.indexOf(i)>-1,x=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!r1(a,i,c);if(m&&!x){const v=a.match(this.interpolator.nestingRegexp);if(v&&v.length>0)return{key:a,namespaces:lt(h)?[h]:h};const p=a.split(i);(i!==c||i===c&&this.options.ns.indexOf(p[0])>-1)&&(h=p.shift()),a=p.join(c)}return{key:a,namespaces:lt(h)?[h]:h}}translate(a,s,i){let c=typeof s=="object"?{...s}:s;if(typeof c!="object"&&this.options.overloadTranslationOptionHandler&&(c=this.options.overloadTranslationOptionHandler(arguments)),typeof c=="object"&&(c={...c}),c||(c={}),a==null)return"";typeof a=="function"&&(a=yf(a,{...this.options,...c})),Array.isArray(a)||(a=[String(a)]);const h=c.returnDetails!==void 0?c.returnDetails:this.options.returnDetails,m=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator,{key:x,namespaces:v}=this.extractFromKey(a[a.length-1],c),p=v[v.length-1];let b=c.nsSeparator!==void 0?c.nsSeparator:this.options.nsSeparator;b===void 0&&(b=":");const y=c.lng||this.language,C=c.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(y?.toLowerCase()==="cimode")return C?h?{res:`${p}${b}${x}`,usedKey:x,exactUsedKey:x,usedLng:y,usedNS:p,usedParams:this.getUsedParamsDetails(c)}:`${p}${b}${x}`:h?{res:x,usedKey:x,exactUsedKey:x,usedLng:y,usedNS:p,usedParams:this.getUsedParamsDetails(c)}:x;const D=this.resolve(a,c);let B=D?.res;const j=D?.usedKey||x,O=D?.exactUsedKey||x,F=["[object Number]","[object Function]","[object RegExp]"],k=c.joinArrays!==void 0?c.joinArrays:this.options.joinArrays,M=!this.i18nFormat||this.i18nFormat.handleAsObject,z=c.count!==void 0&&!lt(c.count),te=Xu.hasDefaultValue(c),G=z?this.pluralResolver.getSuffix(y,c.count,c):"",V=c.ordinal&&z?this.pluralResolver.getSuffix(y,c.count,{ordinal:!1}):"",J=z&&!c.ordinal&&c.count===0,Se=J&&c[`defaultValue${this.options.pluralSeparator}zero`]||c[`defaultValue${G}`]||c[`defaultValue${V}`]||c.defaultValue;let ee=B;M&&!B&&te&&(ee=Se);const ce=Jd(ee),ye=Object.prototype.toString.apply(ee);if(M&&ee&&ce&&F.indexOf(ye)<0&&!(lt(k)&&Array.isArray(ee))){if(!c.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const pe=this.options.returnedObjectHandler?this.options.returnedObjectHandler(j,ee,{...c,ns:v}):`key '${x} (${this.language})' returned an object instead of string.`;return h?(D.res=pe,D.usedParams=this.getUsedParamsDetails(c),D):pe}if(m){const pe=Array.isArray(ee),je=pe?[]:{},qe=pe?O:j;for(const Y in ee)if(Object.prototype.hasOwnProperty.call(ee,Y)){const xe=`${qe}${m}${Y}`;te&&!B?je[Y]=this.translate(xe,{...c,defaultValue:Jd(Se)?Se[Y]:void 0,joinArrays:!1,ns:v}):je[Y]=this.translate(xe,{...c,joinArrays:!1,ns:v}),je[Y]===xe&&(je[Y]=ee[Y])}B=je}}else if(M&&lt(k)&&Array.isArray(B))B=B.join(k),B&&(B=this.extendTranslation(B,a,c,i));else{let pe=!1,je=!1;!this.isValidLookup(B)&&te&&(pe=!0,B=Se),this.isValidLookup(B)||(je=!0,B=x);const Y=(c.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&je?void 0:B,xe=te&&Se!==B&&this.options.updateMissing;if(je||pe||xe){if(this.logger.log(xe?"updateKey":"missingKey",y,p,x,xe?Se:B),m){const N=this.resolve(x,{...c,keySeparator:!1});N&&N.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let he=[];const Ke=this.languageUtils.getFallbackCodes(this.options.fallbackLng,c.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Ke&&Ke[0])for(let N=0;N<Ke.length;N++)he.push(Ke[N]);else this.options.saveMissingTo==="all"?he=this.languageUtils.toResolveHierarchy(c.lng||this.language):he.push(c.lng||this.language);const ze=(N,P,U)=>{const X=te&&U!==B?U:Y;this.options.missingKeyHandler?this.options.missingKeyHandler(N,p,P,X,xe,c):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(N,p,P,X,xe,c),this.emit("missingKey",N,p,P,B)};this.options.saveMissing&&(this.options.saveMissingPlurals&&z?he.forEach(N=>{const P=this.pluralResolver.getSuffixes(N,c);J&&c[`defaultValue${this.options.pluralSeparator}zero`]&&P.indexOf(`${this.options.pluralSeparator}zero`)<0&&P.push(`${this.options.pluralSeparator}zero`),P.forEach(U=>{ze([N],x+U,c[`defaultValue${U}`]||Se)})}):ze(he,x,Se))}B=this.extendTranslation(B,a,c,D,i),je&&B===x&&this.options.appendNamespaceToMissingKey&&(B=`${p}${b}${x}`),(je||pe)&&this.options.parseMissingKeyHandler&&(B=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${p}${b}${x}`:x,pe?B:void 0,c))}return h?(D.res=B,D.usedParams=this.getUsedParamsDetails(c),D):B}extendTranslation(a,s,i,c,h){if(this.i18nFormat?.parse)a=this.i18nFormat.parse(a,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||c.usedLng,c.usedNS,c.usedKey,{resolved:c});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const v=lt(a)&&(i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let p;if(v){const y=a.match(this.interpolator.nestingRegexp);p=y&&y.length}let b=i.replace&&!lt(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(b={...this.options.interpolation.defaultVariables,...b}),a=this.interpolator.interpolate(a,b,i.lng||this.language||c.usedLng,i),v){const y=a.match(this.interpolator.nestingRegexp),C=y&&y.length;p<C&&(i.nest=!1)}!i.lng&&c&&c.res&&(i.lng=this.language||c.usedLng),i.nest!==!1&&(a=this.interpolator.nest(a,(...y)=>h?.[0]===y[0]&&!i.context?(this.logger.warn(`It seems you are nesting recursively key: ${y[0]} in key: ${s[0]}`),null):this.translate(...y,s),i)),i.interpolation&&this.interpolator.reset()}const m=i.postProcess||this.options.postProcess,x=lt(m)?[m]:m;return a!=null&&x?.length&&i.applyPostProcessor!==!1&&(a=Mx.handle(x,a,s,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...c,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),a}resolve(a,s={}){let i,c,h,m,x;return lt(a)&&(a=[a]),a.forEach(v=>{if(this.isValidLookup(i))return;const p=this.extractFromKey(v,s),b=p.key;c=b;let y=p.namespaces;this.options.fallbackNS&&(y=y.concat(this.options.fallbackNS));const C=s.count!==void 0&&!lt(s.count),D=C&&!s.ordinal&&s.count===0,B=s.context!==void 0&&(lt(s.context)||typeof s.context=="number")&&s.context!=="",j=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);y.forEach(O=>{this.isValidLookup(i)||(x=O,!cg[`${j[0]}-${O}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(x)&&(cg[`${j[0]}-${O}`]=!0,this.logger.warn(`key "${c}" for languages "${j.join(", ")}" won't get resolved as namespace "${x}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),j.forEach(F=>{if(this.isValidLookup(i))return;m=F;const k=[b];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(k,b,F,O,s);else{let z;C&&(z=this.pluralResolver.getSuffix(F,s.count,s));const te=`${this.options.pluralSeparator}zero`,G=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(C&&(s.ordinal&&z.indexOf(G)===0&&k.push(b+z.replace(G,this.options.pluralSeparator)),k.push(b+z),D&&k.push(b+te)),B){const V=`${b}${this.options.contextSeparator||"_"}${s.context}`;k.push(V),C&&(s.ordinal&&z.indexOf(G)===0&&k.push(V+z.replace(G,this.options.pluralSeparator)),k.push(V+z),D&&k.push(V+te))}}let M;for(;M=k.pop();)this.isValidLookup(i)||(h=M,i=this.getResource(F,O,M,s))}))})}),{res:i,usedKey:c,exactUsedKey:h,usedLng:m,usedNS:x}}isValidLookup(a){return a!==void 0&&!(!this.options.returnNull&&a===null)&&!(!this.options.returnEmptyString&&a==="")}getResource(a,s,i,c={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(a,s,i,c):this.resourceStore.getResource(a,s,i,c)}getUsedParamsDetails(a={}){const s=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=a.replace&&!lt(a.replace);let c=i?a.replace:a;if(i&&typeof a.count<"u"&&(c.count=a.count),this.options.interpolation.defaultVariables&&(c={...this.options.interpolation.defaultVariables,...c}),!i){c={...c};for(const h of s)delete c[h]}return c}static hasDefaultValue(a){const s="defaultValue";for(const i in a)if(Object.prototype.hasOwnProperty.call(a,i)&&s===i.substring(0,s.length)&&a[i]!==void 0)return!0;return!1}}class ug{constructor(a){this.options=a,this.supportedLngs=this.options.supportedLngs||!1,this.logger=br.create("languageUtils")}getScriptPartFromCode(a){if(a=zl(a),!a||a.indexOf("-")<0)return null;const s=a.split("-");return s.length===2||(s.pop(),s[s.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(s.join("-"))}getLanguagePartFromCode(a){if(a=zl(a),!a||a.indexOf("-")<0)return a;const s=a.split("-");return this.formatLanguageCode(s[0])}formatLanguageCode(a){if(lt(a)&&a.indexOf("-")>-1){let s;try{s=Intl.getCanonicalLocales(a)[0]}catch{}return s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s||(this.options.lowerCaseLng?a.toLowerCase():a)}return this.options.cleanCode||this.options.lowerCaseLng?a.toLowerCase():a}isSupportedCode(a){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(a=this.getLanguagePartFromCode(a)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(a)>-1}getBestMatchFromCodes(a){if(!a)return null;let s;return a.forEach(i=>{if(s)return;const c=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(c))&&(s=c)}),!s&&this.options.supportedLngs&&a.forEach(i=>{if(s)return;const c=this.getScriptPartFromCode(i);if(this.isSupportedCode(c))return s=c;const h=this.getLanguagePartFromCode(i);if(this.isSupportedCode(h))return s=h;s=this.options.supportedLngs.find(m=>{if(m===h)return m;if(!(m.indexOf("-")<0&&h.indexOf("-")<0)&&(m.indexOf("-")>0&&h.indexOf("-")<0&&m.substring(0,m.indexOf("-"))===h||m.indexOf(h)===0&&h.length>1))return m})}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}getFallbackCodes(a,s){if(!a)return[];if(typeof a=="function"&&(a=a(s)),lt(a)&&(a=[a]),Array.isArray(a))return a;if(!s)return a.default||[];let i=a[s];return i||(i=a[this.getScriptPartFromCode(s)]),i||(i=a[this.formatLanguageCode(s)]),i||(i=a[this.getLanguagePartFromCode(s)]),i||(i=a.default),i||[]}toResolveHierarchy(a,s){const i=this.getFallbackCodes((s===!1?[]:s)||this.options.fallbackLng||[],a),c=[],h=m=>{m&&(this.isSupportedCode(m)?c.push(m):this.logger.warn(`rejecting language code not found in supportedLngs: ${m}`))};return lt(a)&&(a.indexOf("-")>-1||a.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&h(this.formatLanguageCode(a)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&h(this.getScriptPartFromCode(a)),this.options.load!=="currentOnly"&&h(this.getLanguagePartFromCode(a))):lt(a)&&h(this.formatLanguageCode(a)),i.forEach(m=>{c.indexOf(m)<0&&h(this.formatLanguageCode(m))}),c}}const dg={zero:0,one:1,two:2,few:3,many:4,other:5},fg={select:o=>o===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class i1{constructor(a,s={}){this.languageUtils=a,this.options=s,this.logger=br.create("pluralResolver"),this.pluralRulesCache={}}addRule(a,s){this.rules[a]=s}clearCache(){this.pluralRulesCache={}}getRule(a,s={}){const i=zl(a==="dev"?"en":a),c=s.ordinal?"ordinal":"cardinal",h=JSON.stringify({cleanedCode:i,type:c});if(h in this.pluralRulesCache)return this.pluralRulesCache[h];let m;try{m=new Intl.PluralRules(i,{type:c})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),fg;if(!a.match(/-|_/))return fg;const v=this.languageUtils.getLanguagePartFromCode(a);m=this.getRule(v,s)}return this.pluralRulesCache[h]=m,m}needsPlural(a,s={}){let i=this.getRule(a,s);return i||(i=this.getRule("dev",s)),i?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(a,s,i={}){return this.getSuffixes(a,i).map(c=>`${s}${c}`)}getSuffixes(a,s={}){let i=this.getRule(a,s);return i||(i=this.getRule("dev",s)),i?i.resolvedOptions().pluralCategories.sort((c,h)=>dg[c]-dg[h]).map(c=>`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${c}`):[]}getSuffix(a,s,i={}){const c=this.getRule(a,i);return c?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${c.select(s)}`:(this.logger.warn(`no plural rule found for: ${a}`),this.getSuffix("dev",s,i))}}const hg=(o,a,s,i=".",c=!0)=>{let h=Wb(o,a,s);return!h&&c&&lt(s)&&(h=xf(o,s,i),h===void 0&&(h=xf(a,s,i))),h},ef=o=>o.replace(/\$/g,"$$$$");class l1{constructor(a={}){this.logger=br.create("interpolator"),this.options=a,this.format=a?.interpolation?.format||(s=>s),this.init(a)}init(a={}){a.interpolation||(a.interpolation={escapeValue:!0});const{escape:s,escapeValue:i,useRawValueToEscape:c,prefix:h,prefixEscaped:m,suffix:x,suffixEscaped:v,formatSeparator:p,unescapeSuffix:b,unescapePrefix:y,nestingPrefix:C,nestingPrefixEscaped:D,nestingSuffix:B,nestingSuffixEscaped:j,nestingOptionsSeparator:O,maxReplaces:F,alwaysFormat:k}=a.interpolation;this.escape=s!==void 0?s:e1,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=c!==void 0?c:!1,this.prefix=h?pi(h):m||"{{",this.suffix=x?pi(x):v||"}}",this.formatSeparator=p||",",this.unescapePrefix=b?"":y||"-",this.unescapeSuffix=this.unescapePrefix?"":b||"",this.nestingPrefix=C?pi(C):D||pi("$t("),this.nestingSuffix=B?pi(B):j||pi(")"),this.nestingOptionsSeparator=O||",",this.maxReplaces=F||1e3,this.alwaysFormat=k!==void 0?k:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const a=(s,i)=>s?.source===i?(s.lastIndex=0,s):new RegExp(i,"g");this.regexp=a(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=a(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=a(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(a,s,i,c){let h,m,x;const v=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},p=D=>{if(D.indexOf(this.formatSeparator)<0){const F=hg(s,v,D,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(F,void 0,i,{...c,...s,interpolationkey:D}):F}const B=D.split(this.formatSeparator),j=B.shift().trim(),O=B.join(this.formatSeparator).trim();return this.format(hg(s,v,j,this.options.keySeparator,this.options.ignoreJSONStructure),O,i,{...c,...s,interpolationkey:j})};this.resetRegExp();const b=c?.missingInterpolationHandler||this.options.missingInterpolationHandler,y=c?.interpolation?.skipOnVariables!==void 0?c.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:D=>ef(D)},{regex:this.regexp,safeValue:D=>this.escapeValue?ef(this.escape(D)):ef(D)}].forEach(D=>{for(x=0;h=D.regex.exec(a);){const B=h[1].trim();if(m=p(B),m===void 0)if(typeof b=="function"){const O=b(a,h,c);m=lt(O)?O:""}else if(c&&Object.prototype.hasOwnProperty.call(c,B))m="";else if(y){m=h[0];continue}else this.logger.warn(`missed to pass in variable ${B} for interpolating ${a}`),m="";else!lt(m)&&!this.useRawValueToEscape&&(m=rg(m));const j=D.safeValue(m);if(a=a.replace(h[0],j),y?(D.regex.lastIndex+=m.length,D.regex.lastIndex-=h[0].length):D.regex.lastIndex=0,x++,x>=this.maxReplaces)break}}),a}nest(a,s,i={}){let c,h,m;const x=(v,p)=>{const b=this.nestingOptionsSeparator;if(v.indexOf(b)<0)return v;const y=v.split(new RegExp(`${b}[ ]*{`));let C=`{${y[1]}`;v=y[0],C=this.interpolate(C,m);const D=C.match(/'/g),B=C.match(/"/g);((D?.length??0)%2===0&&!B||B.length%2!==0)&&(C=C.replace(/'/g,'"'));try{m=JSON.parse(C),p&&(m={...p,...m})}catch(j){return this.logger.warn(`failed parsing options string in nesting for key ${v}`,j),`${v}${b}${C}`}return m.defaultValue&&m.defaultValue.indexOf(this.prefix)>-1&&delete m.defaultValue,v};for(;c=this.nestingRegexp.exec(a);){let v=[];m={...i},m=m.replace&&!lt(m.replace)?m.replace:m,m.applyPostProcessor=!1,delete m.defaultValue;const p=/{.*}/.test(c[1])?c[1].lastIndexOf("}")+1:c[1].indexOf(this.formatSeparator);if(p!==-1&&(v=c[1].slice(p).split(this.formatSeparator).map(b=>b.trim()).filter(Boolean),c[1]=c[1].slice(0,p)),h=s(x.call(this,c[1].trim(),m),m),h&&c[0]===a&&!lt(h))return h;lt(h)||(h=rg(h)),h||(this.logger.warn(`missed to resolve ${c[1]} for nesting ${a}`),h=""),v.length&&(h=v.reduce((b,y)=>this.format(b,y,i.lng,{...i,interpolationkey:c[1].trim()}),h.trim())),a=a.replace(c[0],h),this.regexp.lastIndex=0}return a}}const c1=o=>{let a=o.toLowerCase().trim();const s={};if(o.indexOf("(")>-1){const i=o.split("(");a=i[0].toLowerCase().trim();const c=i[1].substring(0,i[1].length-1);a==="currency"&&c.indexOf(":")<0?s.currency||(s.currency=c.trim()):a==="relativetime"&&c.indexOf(":")<0?s.range||(s.range=c.trim()):c.split(";").forEach(m=>{if(m){const[x,...v]=m.split(":"),p=v.join(":").trim().replace(/^'+|'+$/g,""),b=x.trim();s[b]||(s[b]=p),p==="false"&&(s[b]=!1),p==="true"&&(s[b]=!0),isNaN(p)||(s[b]=parseInt(p,10))}})}return{formatName:a,formatOptions:s}},pg=o=>{const a={};return(s,i,c)=>{let h=c;c&&c.interpolationkey&&c.formatParams&&c.formatParams[c.interpolationkey]&&c[c.interpolationkey]&&(h={...h,[c.interpolationkey]:void 0});const m=i+JSON.stringify(h);let x=a[m];return x||(x=o(zl(i),c),a[m]=x),x(s)}},u1=o=>(a,s,i)=>o(zl(s),i)(a);class d1{constructor(a={}){this.logger=br.create("formatter"),this.options=a,this.init(a)}init(a,s={interpolation:{}}){this.formatSeparator=s.interpolation.formatSeparator||",";const i=s.cacheInBuiltFormats?pg:u1;this.formats={number:i((c,h)=>{const m=new Intl.NumberFormat(c,{...h});return x=>m.format(x)}),currency:i((c,h)=>{const m=new Intl.NumberFormat(c,{...h,style:"currency"});return x=>m.format(x)}),datetime:i((c,h)=>{const m=new Intl.DateTimeFormat(c,{...h});return x=>m.format(x)}),relativetime:i((c,h)=>{const m=new Intl.RelativeTimeFormat(c,{...h});return x=>m.format(x,h.range||"day")}),list:i((c,h)=>{const m=new Intl.ListFormat(c,{...h});return x=>m.format(x)})}}add(a,s){this.formats[a.toLowerCase().trim()]=s}addCached(a,s){this.formats[a.toLowerCase().trim()]=pg(s)}format(a,s,i,c={}){const h=s.split(this.formatSeparator);if(h.length>1&&h[0].indexOf("(")>1&&h[0].indexOf(")")<0&&h.find(x=>x.indexOf(")")>-1)){const x=h.findIndex(v=>v.indexOf(")")>-1);h[0]=[h[0],...h.splice(1,x)].join(this.formatSeparator)}return h.reduce((x,v)=>{const{formatName:p,formatOptions:b}=c1(v);if(this.formats[p]){let y=x;try{const C=c?.formatParams?.[c.interpolationkey]||{},D=C.locale||C.lng||c.locale||c.lng||i;y=this.formats[p](x,D,{...b,...c,...C})}catch(C){this.logger.warn(C)}return y}else this.logger.warn(`there was no format function for ${p}`);return x},a)}}const f1=(o,a)=>{o.pending[a]!==void 0&&(delete o.pending[a],o.pendingCount--)};class h1 extends Qu{constructor(a,s,i,c={}){super(),this.backend=a,this.store=s,this.services=i,this.languageUtils=i.languageUtils,this.options=c,this.logger=br.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=c.maxParallelReads||10,this.readingCalls=0,this.maxRetries=c.maxRetries>=0?c.maxRetries:5,this.retryTimeout=c.retryTimeout>=1?c.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(i,c.backend,c)}queueLoad(a,s,i,c){const h={},m={},x={},v={};return a.forEach(p=>{let b=!0;s.forEach(y=>{const C=`${p}|${y}`;!i.reload&&this.store.hasResourceBundle(p,y)?this.state[C]=2:this.state[C]<0||(this.state[C]===1?m[C]===void 0&&(m[C]=!0):(this.state[C]=1,b=!1,m[C]===void 0&&(m[C]=!0),h[C]===void 0&&(h[C]=!0),v[y]===void 0&&(v[y]=!0)))}),b||(x[p]=!0)}),(Object.keys(h).length||Object.keys(m).length)&&this.queue.push({pending:m,pendingCount:Object.keys(m).length,loaded:{},errors:[],callback:c}),{toLoad:Object.keys(h),pending:Object.keys(m),toLoadLanguages:Object.keys(x),toLoadNamespaces:Object.keys(v)}}loaded(a,s,i){const c=a.split("|"),h=c[0],m=c[1];s&&this.emit("failedLoading",h,m,s),!s&&i&&this.store.addResourceBundle(h,m,i,void 0,void 0,{skipCopy:!0}),this.state[a]=s?-1:2,s&&i&&(this.state[a]=0);const x={};this.queue.forEach(v=>{Zb(v.loaded,[h],m),f1(v,a),s&&v.errors.push(s),v.pendingCount===0&&!v.done&&(Object.keys(v.loaded).forEach(p=>{x[p]||(x[p]={});const b=v.loaded[p];b.length&&b.forEach(y=>{x[p][y]===void 0&&(x[p][y]=!0)})}),v.done=!0,v.errors.length?v.callback(v.errors):v.callback())}),this.emit("loaded",x),this.queue=this.queue.filter(v=>!v.done)}read(a,s,i,c=0,h=this.retryTimeout,m){if(!a.length)return m(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:a,ns:s,fcName:i,tried:c,wait:h,callback:m});return}this.readingCalls++;const x=(p,b)=>{if(this.readingCalls--,this.waitingReads.length>0){const y=this.waitingReads.shift();this.read(y.lng,y.ns,y.fcName,y.tried,y.wait,y.callback)}if(p&&b&&c<this.maxRetries){setTimeout(()=>{this.read.call(this,a,s,i,c+1,h*2,m)},h);return}m(p,b)},v=this.backend[i].bind(this.backend);if(v.length===2){try{const p=v(a,s);p&&typeof p.then=="function"?p.then(b=>x(null,b)).catch(x):x(null,p)}catch(p){x(p)}return}return v(a,s,x)}prepareLoading(a,s,i={},c){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),c&&c();lt(a)&&(a=this.languageUtils.toResolveHierarchy(a)),lt(s)&&(s=[s]);const h=this.queueLoad(a,s,i,c);if(!h.toLoad.length)return h.pending.length||c(),null;h.toLoad.forEach(m=>{this.loadOne(m)})}load(a,s,i){this.prepareLoading(a,s,{},i)}reload(a,s,i){this.prepareLoading(a,s,{reload:!0},i)}loadOne(a,s=""){const i=a.split("|"),c=i[0],h=i[1];this.read(c,h,"read",void 0,void 0,(m,x)=>{m&&this.logger.warn(`${s}loading namespace ${h} for language ${c} failed`,m),!m&&x&&this.logger.log(`${s}loaded namespace ${h} for language ${c}`,x),this.loaded(a,m,x)})}saveMissing(a,s,i,c,h,m={},x=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(s)){this.logger.warn(`did not save key "${i}" as the namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend?.create){const v={...m,isUpdate:h},p=this.backend.create.bind(this.backend);if(p.length<6)try{let b;p.length===5?b=p(a,s,i,c,v):b=p(a,s,i,c),b&&typeof b.then=="function"?b.then(y=>x(null,y)).catch(x):x(null,b)}catch(b){x(b)}else p(a,s,i,c,x,v)}!a||!a[0]||this.store.addResource(a[0],s,i,c)}}}const mg=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:o=>{let a={};if(typeof o[1]=="object"&&(a=o[1]),lt(o[1])&&(a.defaultValue=o[1]),lt(o[2])&&(a.tDescription=o[2]),typeof o[2]=="object"||typeof o[3]=="object"){const s=o[3]||o[2];Object.keys(s).forEach(i=>{a[i]=s[i]})}return a},interpolation:{escapeValue:!0,format:o=>o,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),gg=o=>(lt(o.ns)&&(o.ns=[o.ns]),lt(o.fallbackLng)&&(o.fallbackLng=[o.fallbackLng]),lt(o.fallbackNS)&&(o.fallbackNS=[o.fallbackNS]),o.supportedLngs?.indexOf?.("cimode")<0&&(o.supportedLngs=o.supportedLngs.concat(["cimode"])),typeof o.initImmediate=="boolean"&&(o.initAsync=o.initImmediate),o),Jc=()=>{},p1=o=>{Object.getOwnPropertyNames(Object.getPrototypeOf(o)).forEach(s=>{typeof o[s]=="function"&&(o[s]=o[s].bind(o))})};class Fl extends Qu{constructor(a={},s){if(super(),this.options=gg(a),this.services={},this.logger=br,this.modules={external:[]},p1(this),s&&!this.isInitialized&&!a.isClone){if(!this.options.initAsync)return this.init(a,s),this;setTimeout(()=>{this.init(a,s)},0)}}init(a={},s){this.isInitializing=!0,typeof a=="function"&&(s=a,a={}),a.defaultNS==null&&a.ns&&(lt(a.ns)?a.defaultNS=a.ns:a.ns.indexOf("translation")<0&&(a.defaultNS=a.ns[0]));const i=mg();this.options={...i,...this.options,...gg(a)},this.options.interpolation={...i.interpolation,...this.options.interpolation},a.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=a.keySeparator),a.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=a.nsSeparator);const c=p=>p?typeof p=="function"?new p:p:null;if(!this.options.isClone){this.modules.logger?br.init(c(this.modules.logger),this.options):br.init(null,this.options);let p;this.modules.formatter?p=this.modules.formatter:p=d1;const b=new ug(this.options);this.store=new lg(this.options.resources,this.options);const y=this.services;y.logger=br,y.resourceStore=this.store,y.languageUtils=b,y.pluralResolver=new i1(b,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),p&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(y.formatter=c(p),y.formatter.init&&y.formatter.init(y,this.options),this.options.interpolation.format=y.formatter.format.bind(y.formatter)),y.interpolator=new l1(this.options),y.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},y.backendConnector=new h1(c(this.modules.backend),y.resourceStore,y,this.options),y.backendConnector.on("*",(D,...B)=>{this.emit(D,...B)}),this.modules.languageDetector&&(y.languageDetector=c(this.modules.languageDetector),y.languageDetector.init&&y.languageDetector.init(y,this.options.detection,this.options)),this.modules.i18nFormat&&(y.i18nFormat=c(this.modules.i18nFormat),y.i18nFormat.init&&y.i18nFormat.init(this)),this.translator=new Xu(this.services,this.options),this.translator.on("*",(D,...B)=>{this.emit(D,...B)}),this.modules.external.forEach(D=>{D.init&&D.init(this)})}if(this.format=this.options.interpolation.format,s||(s=Jc),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const p=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);p.length>0&&p[0]!=="dev"&&(this.options.lng=p[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(p=>{this[p]=(...b)=>this.store[p](...b)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(p=>{this[p]=(...b)=>(this.store[p](...b),this)});const x=Tl(),v=()=>{const p=(b,y)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),x.resolve(y),s(b,y)};if(this.languages&&!this.isInitialized)return p(null,this.t.bind(this));this.changeLanguage(this.options.lng,p)};return this.options.resources||!this.options.initAsync?v():setTimeout(v,0),x}loadResources(a,s=Jc){let i=s;const c=lt(a)?a:this.language;if(typeof a=="function"&&(i=a),!this.options.resources||this.options.partialBundledLanguages){if(c?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const h=[],m=x=>{if(!x||x==="cimode")return;this.services.languageUtils.toResolveHierarchy(x).forEach(p=>{p!=="cimode"&&h.indexOf(p)<0&&h.push(p)})};c?m(c):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(v=>m(v)),this.options.preload?.forEach?.(x=>m(x)),this.services.backendConnector.load(h,this.options.ns,x=>{!x&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(x)})}else i(null)}reloadResources(a,s,i){const c=Tl();return typeof a=="function"&&(i=a,a=void 0),typeof s=="function"&&(i=s,s=void 0),a||(a=this.languages),s||(s=this.options.ns),i||(i=Jc),this.services.backendConnector.reload(a,s,h=>{c.resolve(),i(h)}),c}use(a){if(!a)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!a.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return a.type==="backend"&&(this.modules.backend=a),(a.type==="logger"||a.log&&a.warn&&a.error)&&(this.modules.logger=a),a.type==="languageDetector"&&(this.modules.languageDetector=a),a.type==="i18nFormat"&&(this.modules.i18nFormat=a),a.type==="postProcessor"&&Mx.addPostProcessor(a),a.type==="formatter"&&(this.modules.formatter=a),a.type==="3rdParty"&&this.modules.external.push(a),this}setResolvedLanguage(a){if(!(!a||!this.languages)&&!(["cimode","dev"].indexOf(a)>-1)){for(let s=0;s<this.languages.length;s++){const i=this.languages[s];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(a)<0&&this.store.hasLanguageSomeTranslations(a)&&(this.resolvedLanguage=a,this.languages.unshift(a))}}changeLanguage(a,s){this.isLanguageChangingTo=a;const i=Tl();this.emit("languageChanging",a);const c=x=>{this.language=x,this.languages=this.services.languageUtils.toResolveHierarchy(x),this.resolvedLanguage=void 0,this.setResolvedLanguage(x)},h=(x,v)=>{v?this.isLanguageChangingTo===a&&(c(v),this.translator.changeLanguage(v),this.isLanguageChangingTo=void 0,this.emit("languageChanged",v),this.logger.log("languageChanged",v)):this.isLanguageChangingTo=void 0,i.resolve((...p)=>this.t(...p)),s&&s(x,(...p)=>this.t(...p))},m=x=>{!a&&!x&&this.services.languageDetector&&(x=[]);const v=lt(x)?x:x&&x[0],p=this.store.hasLanguageSomeTranslations(v)?v:this.services.languageUtils.getBestMatchFromCodes(lt(x)?[x]:x);p&&(this.language||c(p),this.translator.language||this.translator.changeLanguage(p),this.services.languageDetector?.cacheUserLanguage?.(p)),this.loadResources(p,b=>{h(b,p)})};return!a&&this.services.languageDetector&&!this.services.languageDetector.async?m(this.services.languageDetector.detect()):!a&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(m):this.services.languageDetector.detect(m):m(a),i}getFixedT(a,s,i){const c=(h,m,...x)=>{let v;typeof m!="object"?v=this.options.overloadTranslationOptionHandler([h,m].concat(x)):v={...m},v.lng=v.lng||c.lng,v.lngs=v.lngs||c.lngs,v.ns=v.ns||c.ns,v.keyPrefix!==""&&(v.keyPrefix=v.keyPrefix||i||c.keyPrefix);const p=this.options.keySeparator||".";let b;return v.keyPrefix&&Array.isArray(h)?b=h.map(y=>(typeof y=="function"&&(y=yf(y,{...this.options,...m})),`${v.keyPrefix}${p}${y}`)):(typeof h=="function"&&(h=yf(h,{...this.options,...m})),b=v.keyPrefix?`${v.keyPrefix}${p}${h}`:h),this.t(b,v)};return lt(a)?c.lng=a:c.lngs=a,c.ns=s,c.keyPrefix=i,c}t(...a){return this.translator?.translate(...a)}exists(...a){return this.translator?.exists(...a)}setDefaultNamespace(a){this.options.defaultNS=a}hasLoadedNamespace(a,s={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=s.lng||this.resolvedLanguage||this.languages[0],c=this.options?this.options.fallbackLng:!1,h=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const m=(x,v)=>{const p=this.services.backendConnector.state[`${x}|${v}`];return p===-1||p===0||p===2};if(s.precheck){const x=s.precheck(this,m);if(x!==void 0)return x}return!!(this.hasResourceBundle(i,a)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||m(i,a)&&(!c||m(h,a)))}loadNamespaces(a,s){const i=Tl();return this.options.ns?(lt(a)&&(a=[a]),a.forEach(c=>{this.options.ns.indexOf(c)<0&&this.options.ns.push(c)}),this.loadResources(c=>{i.resolve(),s&&s(c)}),i):(s&&s(),Promise.resolve())}loadLanguages(a,s){const i=Tl();lt(a)&&(a=[a]);const c=this.options.preload||[],h=a.filter(m=>c.indexOf(m)<0&&this.services.languageUtils.isSupportedCode(m));return h.length?(this.options.preload=c.concat(h),this.loadResources(m=>{i.resolve(),s&&s(m)}),i):(s&&s(),Promise.resolve())}dir(a){if(a||(a=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!a)return"rtl";try{const c=new Intl.Locale(a);if(c&&c.getTextInfo){const h=c.getTextInfo();if(h&&h.direction)return h.direction}}catch{}const s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services?.languageUtils||new ug(mg());return a.toLowerCase().indexOf("-latn")>1?"ltr":s.indexOf(i.getLanguagePartFromCode(a))>-1||a.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(a={},s){return new Fl(a,s)}cloneInstance(a={},s=Jc){const i=a.forkResourceStore;i&&delete a.forkResourceStore;const c={...this.options,...a,isClone:!0},h=new Fl(c);if((a.debug!==void 0||a.prefix!==void 0)&&(h.logger=h.logger.clone(a)),["store","services","language"].forEach(x=>{h[x]=this[x]}),h.services={...this.services},h.services.utils={hasLoadedNamespace:h.hasLoadedNamespace.bind(h)},i){const x=Object.keys(this.store.data).reduce((v,p)=>(v[p]={...this.store.data[p]},v[p]=Object.keys(v[p]).reduce((b,y)=>(b[y]={...v[p][y]},b),v[p]),v),{});h.store=new lg(x,c),h.services.resourceStore=h.store}return h.translator=new Xu(h.services,c),h.translator.on("*",(x,...v)=>{h.emit(x,...v)}),h.init(c,s),h.translator.options=c,h.translator.backendConnector.services.utils={hasLoadedNamespace:h.hasLoadedNamespace.bind(h)},h}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Vn=Fl.createInstance();Vn.createInstance=Fl.createInstance;Vn.createInstance;Vn.dir;Vn.init;Vn.loadResources;Vn.reloadResources;Vn.use;Vn.changeLanguage;Vn.getFixedT;Vn.t;Vn.exists;Vn.setDefaultNamespace;Vn.hasLoadedNamespace;Vn.loadNamespaces;Vn.loadLanguages;const m1=(o,a,s,i)=>{const c=[s,{code:a,...i||{}}];if(o?.services?.logger?.forward)return o.services.logger.forward(c,"warn","react-i18next::",!0);Es(c[0])&&(c[0]=`react-i18next:: ${c[0]}`),o?.services?.logger?.warn?o.services.logger.warn(...c):console?.warn&&console.warn(...c)},xg={},vf=(o,a,s,i)=>{Es(s)&&xg[s]||(Es(s)&&(xg[s]=new Date),m1(o,a,s,i))},zx=(o,a)=>()=>{if(o.isInitialized)a();else{const s=()=>{setTimeout(()=>{o.off("initialized",s)},0),a()};o.on("initialized",s)}},bf=(o,a,s)=>{o.loadNamespaces(a,zx(o,s))},yg=(o,a,s,i)=>{if(Es(s)&&(s=[s]),o.options.preload&&o.options.preload.indexOf(a)>-1)return bf(o,s,i);s.forEach(c=>{o.options.ns.indexOf(c)<0&&o.options.ns.push(c)}),o.loadLanguages(a,zx(o,i))},g1=(o,a,s={})=>!a.languages||!a.languages.length?(vf(a,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:a.languages}),!0):a.hasLoadedNamespace(o,{lng:s.lng,precheck:(i,c)=>{if(s.bindI18n&&s.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!c(i.isLanguageChangingTo,o))return!1}}),Es=o=>typeof o=="string",x1=o=>typeof o=="object"&&o!==null,y1=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,v1={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},b1=o=>v1[o],w1=o=>o.replace(y1,b1);let wf={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:w1};const E1=(o={})=>{wf={...wf,...o}},S1=()=>wf;let Fx;const A1=o=>{Fx=o},C1=()=>Fx,_1={type:"3rdParty",init(o){E1(o.options.react),A1(o)}},D1=_e.createContext();class B1{constructor(){this.usedNamespaces={}}addUsedNamespaces(a){a.forEach(s=>{this.usedNamespaces[s]||(this.usedNamespaces[s]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const T1=(o,a)=>{const s=_e.useRef();return _e.useEffect(()=>{s.current=o},[o,a]),s.current},Lx=(o,a,s,i)=>o.getFixedT(a,s,i),N1=(o,a,s,i)=>_e.useCallback(Lx(o,a,s,i),[o,a,s,i]),Zu=(o,a={})=>{const{i18n:s}=a,{i18n:i,defaultNS:c}=_e.useContext(D1)||{},h=s||i||C1();if(h&&!h.reportNamespaces&&(h.reportNamespaces=new B1),!h){vf(h,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const z=(G,V)=>Es(V)?V:x1(V)&&Es(V.defaultValue)?V.defaultValue:Array.isArray(G)?G[G.length-1]:G,te=[z,{},!1];return te.t=z,te.i18n={},te.ready=!1,te}h.options.react?.wait&&vf(h,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const m={...S1(),...h.options.react,...a},{useSuspense:x,keyPrefix:v}=m;let p=o||c||h.options?.defaultNS;p=Es(p)?[p]:p||["translation"],h.reportNamespaces.addUsedNamespaces?.(p);const b=(h.isInitialized||h.initializedStoreOnce)&&p.every(z=>g1(z,h,m)),y=N1(h,a.lng||null,m.nsMode==="fallback"?p:p[0],v),C=()=>y,D=()=>Lx(h,a.lng||null,m.nsMode==="fallback"?p:p[0],v),[B,j]=_e.useState(C);let O=p.join();a.lng&&(O=`${a.lng}${O}`);const F=T1(O),k=_e.useRef(!0);_e.useEffect(()=>{const{bindI18n:z,bindI18nStore:te}=m;k.current=!0,!b&&!x&&(a.lng?yg(h,a.lng,p,()=>{k.current&&j(D)}):bf(h,p,()=>{k.current&&j(D)})),b&&F&&F!==O&&k.current&&j(D);const G=()=>{k.current&&j(D)};return z&&h?.on(z,G),te&&h?.store.on(te,G),()=>{k.current=!1,h&&z&&z?.split(" ").forEach(V=>h.off(V,G)),te&&h&&te.split(" ").forEach(V=>h.store.off(V,G))}},[h,O]),_e.useEffect(()=>{k.current&&b&&j(C)},[h,v,b]);const M=[B,h,b];if(M.t=B,M.i18n=h,M.ready=b,b||!b&&!x)return M;throw new Promise(z=>{a.lng?yg(h,a.lng,p,()=>z()):bf(h,p,()=>z())})};var su={exports:{}},k1=su.exports,vg;function j1(){return vg||(vg=1,(function(o,a){(function(s,i){o.exports=i()})(k1,function(){var s=function(l,d){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,w){g.__proto__=w}||function(g,w){for(var A in w)Object.prototype.hasOwnProperty.call(w,A)&&(g[A]=w[A])})(l,d)},i=function(){return(i=Object.assign||function(l){for(var d,g=1,w=arguments.length;g<w;g++)for(var A in d=arguments[g])Object.prototype.hasOwnProperty.call(d,A)&&(l[A]=d[A]);return l}).apply(this,arguments)};function c(l,d,g){for(var w,A=0,_=d.length;A<_;A++)!w&&A in d||((w=w||Array.prototype.slice.call(d,0,A))[A]=d[A]);return l.concat(w||Array.prototype.slice.call(d))}var h=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:ru,m=Object.keys,x=Array.isArray;function v(l,d){return typeof d!="object"||m(d).forEach(function(g){l[g]=d[g]}),l}typeof Promise>"u"||h.Promise||(h.Promise=Promise);var p=Object.getPrototypeOf,b={}.hasOwnProperty;function y(l,d){return b.call(l,d)}function C(l,d){typeof d=="function"&&(d=d(p(l))),(typeof Reflect>"u"?m:Reflect.ownKeys)(d).forEach(function(g){B(l,g,d[g])})}var D=Object.defineProperty;function B(l,d,g,w){D(l,d,v(g&&y(g,"get")&&typeof g.get=="function"?{get:g.get,set:g.set,configurable:!0}:{value:g,configurable:!0,writable:!0},w))}function j(l){return{from:function(d){return l.prototype=Object.create(d.prototype),B(l.prototype,"constructor",l),{extend:C.bind(null,l.prototype)}}}}var O=Object.getOwnPropertyDescriptor,F=[].slice;function k(l,d,g){return F.call(l,d,g)}function M(l,d){return d(l)}function z(l){if(!l)throw new Error("Assertion Failed")}function te(l){h.setImmediate?setImmediate(l):setTimeout(l,0)}function G(l,d){if(typeof d=="string"&&y(l,d))return l[d];if(!d)return l;if(typeof d!="string"){for(var g=[],w=0,A=d.length;w<A;++w){var _=G(l,d[w]);g.push(_)}return g}var R=d.indexOf(".");if(R!==-1){var H=l[d.substr(0,R)];return H==null?void 0:G(H,d.substr(R+1))}}function V(l,d,g){if(l&&d!==void 0&&!("isFrozen"in Object&&Object.isFrozen(l)))if(typeof d!="string"&&"length"in d){z(typeof g!="string"&&"length"in g);for(var w=0,A=d.length;w<A;++w)V(l,d[w],g[w])}else{var _,R,H=d.indexOf(".");H!==-1?(_=d.substr(0,H),(R=d.substr(H+1))===""?g===void 0?x(l)&&!isNaN(parseInt(_))?l.splice(_,1):delete l[_]:l[_]=g:V(H=!(H=l[_])||!y(l,_)?l[_]={}:H,R,g)):g===void 0?x(l)&&!isNaN(parseInt(d))?l.splice(d,1):delete l[d]:l[d]=g}}function J(l){var d,g={};for(d in l)y(l,d)&&(g[d]=l[d]);return g}var Se=[].concat;function ee(l){return Se.apply([],l)}var on="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ee([8,16,32,64].map(function(l){return["Int","Uint","Float"].map(function(d){return d+l+"Array"})}))).filter(function(l){return h[l]}),ce=new Set(on.map(function(l){return h[l]})),ye=null;function pe(l){return ye=new WeakMap,l=(function d(g){if(!g||typeof g!="object")return g;var w=ye.get(g);if(w)return w;if(x(g)){w=[],ye.set(g,w);for(var A=0,_=g.length;A<_;++A)w.push(d(g[A]))}else if(ce.has(g.constructor))w=g;else{var R,H=p(g);for(R in w=H===Object.prototype?{}:Object.create(H),ye.set(g,w),g)y(g,R)&&(w[R]=d(g[R]))}return w})(l),ye=null,l}var je={}.toString;function qe(l){return je.call(l).slice(8,-1)}var Y=typeof Symbol<"u"?Symbol.iterator:"@@iterator",xe=typeof Y=="symbol"?function(l){var d;return l!=null&&(d=l[Y])&&d.apply(l)}:function(){return null};function he(l,d){return d=l.indexOf(d),0<=d&&l.splice(d,1),0<=d}var Ke={};function ze(l){var d,g,w,A;if(arguments.length===1){if(x(l))return l.slice();if(this===Ke&&typeof l=="string")return[l];if(A=xe(l)){for(g=[];!(w=A.next()).done;)g.push(w.value);return g}if(l==null)return[l];if(typeof(d=l.length)!="number")return[l];for(g=new Array(d);d--;)g[d]=l[d];return g}for(d=arguments.length,g=new Array(d);d--;)g[d]=arguments[d];return g}var N=typeof Symbol<"u"?function(l){return l[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ra=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Wn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ra),P={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function U(l,d){this.name=l,this.message=d}function X(l,d){return l+". Errors: "+Object.keys(d).map(function(g){return d[g].toString()}).filter(function(g,w,A){return A.indexOf(g)===w}).join(`
`)}function De(l,d,g,w){this.failures=d,this.failedKeys=w,this.successCount=g,this.message=X(l,d)}function Oe(l,d){this.name="BulkError",this.failures=Object.keys(d).map(function(g){return d[g]}),this.failuresByPos=d,this.message=X(l,this.failures)}j(U).from(Error).extend({toString:function(){return this.name+": "+this.message}}),j(De).from(U),j(Oe).from(U);var Ye=Wn.reduce(function(l,d){return l[d]=d+"Error",l},{}),Fe=U,Te=Wn.reduce(function(l,d){var g=d+"Error";function w(A,_){this.name=g,A?typeof A=="string"?(this.message="".concat(A).concat(_?`
 `+_:""),this.inner=_||null):typeof A=="object"&&(this.message="".concat(A.name," ").concat(A.message),this.inner=A):(this.message=P[d]||g,this.inner=null)}return j(w).from(Fe),l[d]=w,l},{});Te.Syntax=SyntaxError,Te.Type=TypeError,Te.Range=RangeError;var Yt=Ra.reduce(function(l,d){return l[d+"Error"]=Te[d],l},{}),an=Wn.reduce(function(l,d){return["Syntax","Type","Range"].indexOf(d)===-1&&(l[d+"Error"]=Te[d]),l},{});function rt(){}function rn(l){return l}function qt(l,d){return l==null||l===rn?d:function(g){return d(l(g))}}function _n(l,d){return function(){l.apply(this,arguments),d.apply(this,arguments)}}function la(l,d){return l===rt?d:function(){var g=l.apply(this,arguments);g!==void 0&&(arguments[0]=g);var w=this.onsuccess,A=this.onerror;this.onsuccess=null,this.onerror=null;var _=d.apply(this,arguments);return w&&(this.onsuccess=this.onsuccess?_n(w,this.onsuccess):w),A&&(this.onerror=this.onerror?_n(A,this.onerror):A),_!==void 0?_:g}}function ca(l,d){return l===rt?d:function(){l.apply(this,arguments);var g=this.onsuccess,w=this.onerror;this.onsuccess=this.onerror=null,d.apply(this,arguments),g&&(this.onsuccess=this.onsuccess?_n(g,this.onsuccess):g),w&&(this.onerror=this.onerror?_n(w,this.onerror):w)}}function ba(l,d){return l===rt?d:function(g){var w=l.apply(this,arguments);v(g,w);var A=this.onsuccess,_=this.onerror;return this.onsuccess=null,this.onerror=null,g=d.apply(this,arguments),A&&(this.onsuccess=this.onsuccess?_n(A,this.onsuccess):A),_&&(this.onerror=this.onerror?_n(_,this.onerror):_),w===void 0?g===void 0?void 0:g:v(w,g)}}function Sn(l,d){return l===rt?d:function(){return d.apply(this,arguments)!==!1&&l.apply(this,arguments)}}function na(l,d){return l===rt?d:function(){var g=l.apply(this,arguments);if(g&&typeof g.then=="function"){for(var w=this,A=arguments.length,_=new Array(A);A--;)_[A]=arguments[A];return g.then(function(){return d.apply(w,_)})}return d.apply(this,arguments)}}an.ModifyError=De,an.DexieError=U,an.BulkError=Oe;var Mt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Tt(l){Mt=l}var Wt={},Jt=100,on=typeof Promise>"u"?[]:(function(){var l=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[l,p(l),l];var d=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[d,p(d),l]})(),Ra=on[0],Wn=on[1],on=on[2],Wn=Wn&&Wn.then,Dn=Ra&&Ra.constructor,wa=!!on,ua=function(l,d){Za.push([l,d]),$n&&(queueMicrotask(gn),$n=!1)},Yn=!0,$n=!0,sn=[],da=[],ln=rn,en={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:rt,pgp:!1,env:{},finalize:rt},Ve=en,Za=[],Gn=0,Mn=[];function He(l){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var d=this._PSD=Ve;if(typeof l!="function"){if(l!==Wt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&In(this,this._value))}this._state=null,this._value=null,++d.ref,(function g(w,A){try{A(function(_){if(w._state===null){if(_===w)throw new TypeError("A promise cannot be resolved with itself.");var R=w._lib&&Rn();_&&typeof _.then=="function"?g(w,function(H,$){_ instanceof He?_._then(H,$):_.then(H,$)}):(w._state=!0,w._value=_,tt(w)),R&&Ct()}},In.bind(null,w))}catch(_){In(w,_)}})(this,l)}var za={get:function(){var l=Ve,d=$o;function g(w,A){var _=this,R=!l.global&&(l!==Ve||d!==$o),H=R&&!ra(),$=new He(function(Z,ae){kt(_,new Ea(_s(w,l,R,H),_s(A,l,R,H),Z,ae,l))});return this._consoleTask&&($._consoleTask=this._consoleTask),$}return g.prototype=Wt,g},set:function(l){B(this,"then",l&&l.prototype===Wt?za:{get:function(){return l},set:za.set})}};function Ea(l,d,g,w,A){this.onFulfilled=typeof l=="function"?l:null,this.onRejected=typeof d=="function"?d:null,this.resolve=g,this.reject=w,this.psd=A}function In(l,d){var g,w;da.push(d),l._state===null&&(g=l._lib&&Rn(),d=ln(d),l._state=!1,l._value=d,w=l,sn.some(function(A){return A._value===w._value})||sn.push(w),tt(l),g&&Ct())}function tt(l){var d=l._listeners;l._listeners=[];for(var g=0,w=d.length;g<w;++g)kt(l,d[g]);var A=l._PSD;--A.ref||A.finalize(),Gn===0&&(++Gn,ua(function(){--Gn==0&&xn()},[]))}function kt(l,d){if(l._state!==null){var g=l._state?d.onFulfilled:d.onRejected;if(g===null)return(l._state?d.resolve:d.reject)(l._value);++d.psd.ref,++Gn,ua(tn,[g,l,d])}else l._listeners.push(d)}function tn(l,d,g){try{var w,A=d._value;!d._state&&da.length&&(da=[]),w=Mt&&d._consoleTask?d._consoleTask.run(function(){return l(A)}):l(A),d._state||da.indexOf(A)!==-1||(function(_){for(var R=sn.length;R;)if(sn[--R]._value===_._value)return sn.splice(R,1)})(d),g.resolve(w)}catch(_){g.reject(_)}finally{--Gn==0&&xn(),--g.psd.ref||g.psd.finalize()}}function gn(){Sa(en,function(){Rn()&&Ct()})}function Rn(){var l=Yn;return $n=Yn=!1,l}function Ct(){var l,d,g;do for(;0<Za.length;)for(l=Za,Za=[],g=l.length,d=0;d<g;++d){var w=l[d];w[0].apply(null,w[1])}while(0<Za.length);$n=Yn=!0}function xn(){var l=sn;sn=[],l.forEach(function(w){w._PSD.onunhandled.call(null,w._value,w)});for(var d=Mn.slice(0),g=d.length;g;)d[--g]()}function aa(l){return new He(Wt,!1,l)}function et(l,d){var g=Ve;return function(){var w=Rn(),A=Ve;try{return ir(g,!0),l.apply(this,arguments)}catch(_){d&&d(_)}finally{ir(A,!1),w&&Ct()}}}C(He.prototype,{then:za,_then:function(l,d){kt(this,new Ea(null,null,l,d,Ve))},catch:function(l){if(arguments.length===1)return this.then(null,l);var d=l,g=arguments[1];return typeof d=="function"?this.then(null,function(w){return(w instanceof d?g:aa)(w)}):this.then(null,function(w){return(w&&w.name===d?g:aa)(w)})},finally:function(l){return this.then(function(d){return He.resolve(l()).then(function(){return d})},function(d){return He.resolve(l()).then(function(){return aa(d)})})},timeout:function(l,d){var g=this;return l<1/0?new He(function(w,A){var _=setTimeout(function(){return A(new Te.Timeout(d))},l);g.then(w,A).finally(clearTimeout.bind(null,_))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&B(He.prototype,Symbol.toStringTag,"Dexie.Promise"),en.env=Ei(),C(He,{all:function(){var l=ze.apply(null,arguments).map(ao);return new He(function(d,g){l.length===0&&d([]);var w=l.length;l.forEach(function(A,_){return He.resolve(A).then(function(R){l[_]=R,--w||d(l)},g)})})},resolve:function(l){return l instanceof He?l:l&&typeof l.then=="function"?new He(function(d,g){l.then(d,g)}):new He(Wt,!0,l)},reject:aa,race:function(){var l=ze.apply(null,arguments).map(ao);return new He(function(d,g){l.map(function(w){return He.resolve(w).then(d,g)})})},PSD:{get:function(){return Ve},set:function(l){return Ve=l}},totalEchoes:{get:function(){return $o}},newPSD:Pt,usePSD:Sa,scheduler:{get:function(){return ua},set:function(l){ua=l}},rejectionMapper:{get:function(){return ln},set:function(l){ln=l}},follow:function(l,d){return new He(function(g,w){return Pt(function(A,_){var R=Ve;R.unhandleds=[],R.onunhandled=_,R.finalize=_n(function(){var H,$=this;H=function(){$.unhandleds.length===0?A():_($.unhandleds[0])},Mn.push(function Z(){H(),Mn.splice(Mn.indexOf(Z),1)}),++Gn,ua(function(){--Gn==0&&xn()},[])},R.finalize),l()},d,g,w)})}}),Dn&&(Dn.allSettled&&B(He,"allSettled",function(){var l=ze.apply(null,arguments).map(ao);return new He(function(d){l.length===0&&d([]);var g=l.length,w=new Array(g);l.forEach(function(A,_){return He.resolve(A).then(function(R){return w[_]={status:"fulfilled",value:R}},function(R){return w[_]={status:"rejected",reason:R}}).then(function(){return--g||d(w)})})})}),Dn.any&&typeof AggregateError<"u"&&B(He,"any",function(){var l=ze.apply(null,arguments).map(ao);return new He(function(d,g){l.length===0&&g(new AggregateError([]));var w=l.length,A=new Array(w);l.forEach(function(_,R){return He.resolve(_).then(function(H){return d(H)},function(H){A[R]=H,--w||g(new AggregateError(A))})})})}),Dn.withResolvers&&(He.withResolvers=Dn.withResolvers));var ut={awaits:0,echoes:0,id:0},Wa=0,Bn=[],no=0,$o=0,sr=0;function Pt(l,d,g,w){var A=Ve,_=Object.create(A);return _.parent=A,_.ref=0,_.global=!1,_.id=++sr,en.env,_.env=wa?{Promise:He,PromiseProp:{value:He,configurable:!0,writable:!0},all:He.all,race:He.race,allSettled:He.allSettled,any:He.any,resolve:He.resolve,reject:He.reject}:{},d&&v(_,d),++A.ref,_.finalize=function(){--this.parent.ref||this.parent.finalize()},w=Sa(_,l,g,w),_.ref===0&&_.finalize(),w}function dn(){return ut.id||(ut.id=++Wa),++ut.awaits,ut.echoes+=Jt,ut.id}function ra(){return!!ut.awaits&&(--ut.awaits==0&&(ut.id=0),ut.echoes=ut.awaits*Jt,!0)}function ao(l){return ut.echoes&&l&&l.constructor===Dn?(dn(),l.then(function(d){return ra(),d},function(d){return ra(),Rt(d)})):l}function a0(){var l=Bn[Bn.length-1];Bn.pop(),ir(l,!1)}function ir(l,d){var g,w=Ve;(d?!ut.echoes||no++&&l===Ve:!no||--no&&l===Ve)||queueMicrotask(d?(function(A){++$o,ut.echoes&&--ut.echoes!=0||(ut.echoes=ut.awaits=ut.id=0),Bn.push(Ve),ir(A,!0)}).bind(null,l):a0),l!==Ve&&(Ve=l,w===en&&(en.env=Ei()),wa&&(g=en.env.Promise,d=l.env,(w.global||l.global)&&(Object.defineProperty(h,"Promise",d.PromiseProp),g.all=d.all,g.race=d.race,g.resolve=d.resolve,g.reject=d.reject,d.allSettled&&(g.allSettled=d.allSettled),d.any&&(g.any=d.any))))}function Ei(){var l=h.Promise;return wa?{Promise:l,PromiseProp:Object.getOwnPropertyDescriptor(h,"Promise"),all:l.all,race:l.race,allSettled:l.allSettled,any:l.any,resolve:l.resolve,reject:l.reject}:{}}function Sa(l,d,g,w,A){var _=Ve;try{return ir(l,!0),d(g,w,A)}finally{ir(_,!1)}}function _s(l,d,g,w){return typeof l!="function"?l:function(){var A=Ve;g&&dn(),ir(d,!0);try{return l.apply(this,arguments)}finally{ir(A,!1),w&&queueMicrotask(ra)}}}function lr(l){Promise===Dn&&ut.echoes===0?no===0?l():enqueueNativeMicroTask(l):setTimeout(l,0)}(""+Wn).indexOf("[native code]")===-1&&(dn=ra=rt);var Rt=He.reject,Aa="",Xn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",fn="String expected.",Sr=[],Go="__dbnames",Ja="readonly",cr="readwrite";function Ar(l,d){return l?d?function(){return l.apply(this,arguments)&&d.apply(this,arguments)}:l:d}var Si={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Io(l){return typeof l!="string"||/\./.test(l)?function(d){return d}:function(d){return d[l]===void 0&&l in d&&delete(d=pe(d))[l],d}}function ql(){throw Te.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function pt(l,d){try{var g=Xo(l),w=Xo(d);if(g!==w)return g==="Array"?1:w==="Array"?-1:g==="binary"?1:w==="binary"?-1:g==="string"?1:w==="string"?-1:g==="Date"?1:w!=="Date"?NaN:-1;switch(g){case"number":case"Date":case"string":return d<l?1:l<d?-1:0;case"binary":return(function(A,_){for(var R=A.length,H=_.length,$=R<H?R:H,Z=0;Z<$;++Z)if(A[Z]!==_[Z])return A[Z]<_[Z]?-1:1;return R===H?0:R<H?-1:1})(Fa(l),Fa(d));case"Array":return(function(A,_){for(var R=A.length,H=_.length,$=R<H?R:H,Z=0;Z<$;++Z){var ae=pt(A[Z],_[Z]);if(ae!==0)return ae}return R===H?0:R<H?-1:1})(l,d)}}catch{}return NaN}function Xo(l){var d=typeof l;return d!="object"?d:ArrayBuffer.isView(l)?"binary":(l=qe(l),l==="ArrayBuffer"?"binary":l)}function Fa(l){return l instanceof Uint8Array?l:ArrayBuffer.isView(l)?new Uint8Array(l.buffer,l.byteOffset,l.byteLength):new Uint8Array(l)}function zn(l,d,g){var w=l.schema.yProps;return w?(d&&0<g.numFailures&&(d=d.filter(function(A,_){return!g.failures[_]})),Promise.all(w.map(function(A){return A=A.updatesTable,d?l.db.table(A).where("k").anyOf(d).delete():l.db.table(A).clear()})).then(function(){return g})):g}var Ai=(Ut.prototype._trans=function(l,d,g){var w=this._tx||Ve.trans,A=this.name,_=Mt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(l==="readonly"?"read":"write"," ").concat(this.name));function R(Z,ae,q){if(!q.schema[A])throw new Te.NotFound("Table "+A+" not part of transaction");return d(q.idbtrans,q)}var H=Rn();try{var $=w&&w.db._novip===this.db._novip?w===Ve.trans?w._promise(l,R,g):Pt(function(){return w._promise(l,R,g)},{trans:w,transless:Ve.transless||Ve}):(function Z(ae,q,ie,I){if(ae.idbdb&&(ae._state.openComplete||Ve.letThrough||ae._vip)){var ne=ae._createTransaction(q,ie,ae._dbSchema);try{ne.create(),ae._state.PR1398_maxLoop=3}catch(oe){return oe.name===Ye.InvalidState&&ae.isOpen()&&0<--ae._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),ae.close({disableAutoOpen:!1}),ae.open().then(function(){return Z(ae,q,ie,I)})):Rt(oe)}return ne._promise(q,function(oe,re){return Pt(function(){return Ve.trans=ne,I(oe,re,ne)})}).then(function(oe){if(q==="readwrite")try{ne.idbtrans.commit()}catch{}return q==="readonly"?oe:ne._completion.then(function(){return oe})})}if(ae._state.openComplete)return Rt(new Te.DatabaseClosed(ae._state.dbOpenError));if(!ae._state.isBeingOpened){if(!ae._state.autoOpen)return Rt(new Te.DatabaseClosed);ae.open().catch(rt)}return ae._state.dbReadyPromise.then(function(){return Z(ae,q,ie,I)})})(this.db,l,[this.name],R);return _&&($._consoleTask=_,$=$.catch(function(Z){return console.trace(Z),Rt(Z)})),$}finally{H&&Ct()}},Ut.prototype.get=function(l,d){var g=this;return l&&l.constructor===Object?this.where(l).first(d):l==null?Rt(new Te.Type("Invalid argument to Table.get()")):this._trans("readonly",function(w){return g.core.get({trans:w,key:l}).then(function(A){return g.hook.reading.fire(A)})}).then(d)},Ut.prototype.where=function(l){if(typeof l=="string")return new this.db.WhereClause(this,l);if(x(l))return new this.db.WhereClause(this,"[".concat(l.join("+"),"]"));var d=m(l);if(d.length===1)return this.where(d[0]).equals(l[d[0]]);var g=this.schema.indexes.concat(this.schema.primKey).filter(function(H){if(H.compound&&d.every(function(Z){return 0<=H.keyPath.indexOf(Z)})){for(var $=0;$<d.length;++$)if(d.indexOf(H.keyPath[$])===-1)return!1;return!0}return!1}).sort(function(H,$){return H.keyPath.length-$.keyPath.length})[0];if(g&&this.db._maxKey!==Aa){var _=g.keyPath.slice(0,d.length);return this.where(_).equals(_.map(function($){return l[$]}))}!g&&Mt&&console.warn("The query ".concat(JSON.stringify(l)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(d.join("+"),"]"));var w=this.schema.idxByName;function A(H,$){return pt(H,$)===0}var R=d.reduce(function(q,$){var Z=q[0],ae=q[1],q=w[$],ie=l[$];return[Z||q,Z||!q?Ar(ae,q&&q.multi?function(I){return I=G(I,$),x(I)&&I.some(function(ne){return A(ie,ne)})}:function(I){return A(ie,G(I,$))}):ae]},[null,null]),_=R[0],R=R[1];return _?this.where(_.name).equals(l[_.keyPath]).filter(R):g?this.filter(R):this.where(d).equals("")},Ut.prototype.filter=function(l){return this.toCollection().and(l)},Ut.prototype.count=function(l){return this.toCollection().count(l)},Ut.prototype.offset=function(l){return this.toCollection().offset(l)},Ut.prototype.limit=function(l){return this.toCollection().limit(l)},Ut.prototype.each=function(l){return this.toCollection().each(l)},Ut.prototype.toArray=function(l){return this.toCollection().toArray(l)},Ut.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Ut.prototype.orderBy=function(l){return new this.db.Collection(new this.db.WhereClause(this,x(l)?"[".concat(l.join("+"),"]"):l))},Ut.prototype.reverse=function(){return this.toCollection().reverse()},Ut.prototype.mapToClass=function(l){var d,g=this.db,w=this.name;function A(){return d!==null&&d.apply(this,arguments)||this}(this.schema.mappedClass=l).prototype instanceof ql&&((function($,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Class extends value "+String(Z)+" is not a constructor or null");function ae(){this.constructor=$}s($,Z),$.prototype=Z===null?Object.create(Z):(ae.prototype=Z.prototype,new ae)})(A,d=l),Object.defineProperty(A.prototype,"db",{get:function(){return g},enumerable:!1,configurable:!0}),A.prototype.table=function(){return w},l=A);for(var _=new Set,R=l.prototype;R;R=p(R))Object.getOwnPropertyNames(R).forEach(function($){return _.add($)});function H($){if(!$)return $;var Z,ae=Object.create(l.prototype);for(Z in $)if(!_.has(Z))try{ae[Z]=$[Z]}catch{}return ae}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=H,this.hook("reading",H),l},Ut.prototype.defineClass=function(){return this.mapToClass(function(l){v(this,l)})},Ut.prototype.add=function(l,d){var g=this,w=this.schema.primKey,A=w.auto,_=w.keyPath,R=l;return _&&A&&(R=Io(_)(l)),this._trans("readwrite",function(H){return g.core.mutate({trans:H,type:"add",keys:d!=null?[d]:null,values:[R]})}).then(function(H){return H.numFailures?He.reject(H.failures[0]):H.lastResult}).then(function(H){if(_)try{V(l,_,H)}catch{}return H})},Ut.prototype.update=function(l,d){return typeof l!="object"||x(l)?this.where(":id").equals(l).modify(d):(l=G(l,this.schema.primKey.keyPath),l===void 0?Rt(new Te.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(l).modify(d))},Ut.prototype.put=function(l,d){var g=this,w=this.schema.primKey,A=w.auto,_=w.keyPath,R=l;return _&&A&&(R=Io(_)(l)),this._trans("readwrite",function(H){return g.core.mutate({trans:H,type:"put",values:[R],keys:d!=null?[d]:null})}).then(function(H){return H.numFailures?He.reject(H.failures[0]):H.lastResult}).then(function(H){if(_)try{V(l,_,H)}catch{}return H})},Ut.prototype.delete=function(l){var d=this;return this._trans("readwrite",function(g){return d.core.mutate({trans:g,type:"delete",keys:[l]}).then(function(w){return zn(d,[l],w)}).then(function(w){return w.numFailures?He.reject(w.failures[0]):void 0})})},Ut.prototype.clear=function(){var l=this;return this._trans("readwrite",function(d){return l.core.mutate({trans:d,type:"deleteRange",range:Si}).then(function(g){return zn(l,null,g)})}).then(function(d){return d.numFailures?He.reject(d.failures[0]):void 0})},Ut.prototype.bulkGet=function(l){var d=this;return this._trans("readonly",function(g){return d.core.getMany({keys:l,trans:g}).then(function(w){return w.map(function(A){return d.hook.reading.fire(A)})})})},Ut.prototype.bulkAdd=function(l,d,g){var w=this,A=Array.isArray(d)?d:void 0,_=(g=g||(A?void 0:d))?g.allKeys:void 0;return this._trans("readwrite",function(R){var Z=w.schema.primKey,H=Z.auto,Z=Z.keyPath;if(Z&&A)throw new Te.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(A&&A.length!==l.length)throw new Te.InvalidArgument("Arguments objects and keys must have the same length");var $=l.length,Z=Z&&H?l.map(Io(Z)):l;return w.core.mutate({trans:R,type:"add",keys:A,values:Z,wantResults:_}).then(function(ne){var q=ne.numFailures,ie=ne.results,I=ne.lastResult,ne=ne.failures;if(q===0)return _?ie:I;throw new Oe("".concat(w.name,".bulkAdd(): ").concat(q," of ").concat($," operations failed"),ne)})})},Ut.prototype.bulkPut=function(l,d,g){var w=this,A=Array.isArray(d)?d:void 0,_=(g=g||(A?void 0:d))?g.allKeys:void 0;return this._trans("readwrite",function(R){var Z=w.schema.primKey,H=Z.auto,Z=Z.keyPath;if(Z&&A)throw new Te.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(A&&A.length!==l.length)throw new Te.InvalidArgument("Arguments objects and keys must have the same length");var $=l.length,Z=Z&&H?l.map(Io(Z)):l;return w.core.mutate({trans:R,type:"put",keys:A,values:Z,wantResults:_}).then(function(ne){var q=ne.numFailures,ie=ne.results,I=ne.lastResult,ne=ne.failures;if(q===0)return _?ie:I;throw new Oe("".concat(w.name,".bulkPut(): ").concat(q," of ").concat($," operations failed"),ne)})})},Ut.prototype.bulkUpdate=function(l){var d=this,g=this.core,w=l.map(function(R){return R.key}),A=l.map(function(R){return R.changes}),_=[];return this._trans("readwrite",function(R){return g.getMany({trans:R,keys:w,cache:"clone"}).then(function(H){var $=[],Z=[];l.forEach(function(q,ie){var I=q.key,ne=q.changes,oe=H[ie];if(oe){for(var re=0,le=Object.keys(ne);re<le.length;re++){var me=le[re],ve=ne[me];if(me===d.schema.primKey.keyPath){if(pt(ve,I)!==0)throw new Te.Constraint("Cannot update primary key in bulkUpdate()")}else V(oe,me,ve)}_.push(ie),$.push(I),Z.push(oe)}});var ae=$.length;return g.mutate({trans:R,type:"put",keys:$,values:Z,updates:{keys:w,changeSpecs:A}}).then(function(q){var ie=q.numFailures,I=q.failures;if(ie===0)return ae;for(var ne=0,oe=Object.keys(I);ne<oe.length;ne++){var re,le=oe[ne],me=_[Number(le)];me!=null&&(re=I[le],delete I[le],I[me]=re)}throw new Oe("".concat(d.name,".bulkUpdate(): ").concat(ie," of ").concat(ae," operations failed"),I)})})})},Ut.prototype.bulkDelete=function(l){var d=this,g=l.length;return this._trans("readwrite",function(w){return d.core.mutate({trans:w,type:"delete",keys:l}).then(function(A){return zn(d,l,A)})}).then(function(R){var A=R.numFailures,_=R.lastResult,R=R.failures;if(A===0)return _;throw new Oe("".concat(d.name,".bulkDelete(): ").concat(A," of ").concat(g," operations failed"),R)})},Ut);function Ut(){}function Cr(l){function d(R,H){if(H){for(var $=arguments.length,Z=new Array($-1);--$;)Z[$-1]=arguments[$];return g[R].subscribe.apply(null,Z),l}if(typeof R=="string")return g[R]}var g={};d.addEventType=_;for(var w=1,A=arguments.length;w<A;++w)_(arguments[w]);return d;function _(R,H,$){if(typeof R!="object"){var Z;H=H||Sn;var ae={subscribers:[],fire:$=$||rt,subscribe:function(q){ae.subscribers.indexOf(q)===-1&&(ae.subscribers.push(q),ae.fire=H(ae.fire,q))},unsubscribe:function(q){ae.subscribers=ae.subscribers.filter(function(ie){return ie!==q}),ae.fire=ae.subscribers.reduce(H,$)}};return g[R]=d[R]=ae}m(Z=R).forEach(function(q){var ie=Z[q];if(x(ie))_(q,Z[q][0],Z[q][1]);else{if(ie!=="asap")throw new Te.InvalidArgument("Invalid event config");var I=_(q,rn,function(){for(var ne=arguments.length,oe=new Array(ne);ne--;)oe[ne]=arguments[ne];I.subscribers.forEach(function(re){te(function(){re.apply(null,oe)})})})}})}}function ro(l,d){return j(d).from({prototype:l}),d}function er(l,d){return!(l.filter||l.algorithm||l.or)&&(d?l.justLimit:!l.replayFilter)}function Ci(l,d){l.filter=Ar(l.filter,d)}function Qn(l,d,g){var w=l.replayFilter;l.replayFilter=w?function(){return Ar(w(),d())}:d,l.justLimit=g&&!w}function oo(l,d){if(l.isPrimKey)return d.primaryKey;var g=d.getIndexByKeyPath(l.index);if(!g)throw new Te.Schema("KeyPath "+l.index+" on object store "+d.name+" is not indexed");return g}function _i(l,d,g){var w=oo(l,d.schema);return d.openCursor({trans:g,values:!l.keysOnly,reverse:l.dir==="prev",unique:!!l.unique,query:{index:w,range:l.range}})}function so(l,d,g,w){var A=l.replayFilter?Ar(l.filter,l.replayFilter()):l.filter;if(l.or){var _={},R=function(H,$,Z){var ae,q;A&&!A($,Z,function(ie){return $.stop(ie)},function(ie){return $.fail(ie)})||((q=""+(ae=$.primaryKey))=="[object ArrayBuffer]"&&(q=""+new Uint8Array(ae)),y(_,q)||(_[q]=!0,d(H,$,Z)))};return Promise.all([l.or._iterate(R,g),_r(_i(l,w,g),l.algorithm,R,!l.keysOnly&&l.valueMapper)])}return _r(_i(l,w,g),Ar(l.algorithm,A),d,!l.keysOnly&&l.valueMapper)}function _r(l,d,g,w){var A=et(w?function(_,R,H){return g(w(_),R,H)}:g);return l.then(function(_){if(_)return _.start(function(){var R=function(){return _.continue()};d&&!d(_,function(H){return R=H},function(H){_.stop(H),R=rt},function(H){_.fail(H),R=rt})||A(_.value,_,function(H){return R=H}),R()})})}var io=(Di.prototype.execute=function(l){var d=this["@@propmod"];if(d.add!==void 0){var g=d.add;if(x(g))return c(c([],x(l)?l:[],!0),g).sort();if(typeof g=="number")return(Number(l)||0)+g;if(typeof g=="bigint")try{return BigInt(l)+g}catch{return BigInt(0)+g}throw new TypeError("Invalid term ".concat(g))}if(d.remove!==void 0){var w=d.remove;if(x(w))return x(l)?l.filter(function(A){return!w.includes(A)}).sort():[];if(typeof w=="number")return Number(l)-w;if(typeof w=="bigint")try{return BigInt(l)-w}catch{return BigInt(0)-w}throw new TypeError("Invalid subtrahend ".concat(w))}return g=(g=d.replacePrefix)===null||g===void 0?void 0:g[0],g&&typeof l=="string"&&l.startsWith(g)?d.replacePrefix[1]+l.substring(g.length):l},Di);function Di(l){this["@@propmod"]=l}var lo=(At.prototype._read=function(l,d){var g=this._ctx;return g.error?g.table._trans(null,Rt.bind(null,g.error)):g.table._trans("readonly",l).then(d)},At.prototype._write=function(l){var d=this._ctx;return d.error?d.table._trans(null,Rt.bind(null,d.error)):d.table._trans("readwrite",l,"locked")},At.prototype._addAlgorithm=function(l){var d=this._ctx;d.algorithm=Ar(d.algorithm,l)},At.prototype._iterate=function(l,d){return so(this._ctx,l,d,this._ctx.table.core)},At.prototype.clone=function(l){var d=Object.create(this.constructor.prototype),g=Object.create(this._ctx);return l&&v(g,l),d._ctx=g,d},At.prototype.raw=function(){return this._ctx.valueMapper=null,this},At.prototype.each=function(l){var d=this._ctx;return this._read(function(g){return so(d,l,g,d.table.core)})},At.prototype.count=function(l){var d=this;return this._read(function(g){var w=d._ctx,A=w.table.core;if(er(w,!0))return A.count({trans:g,query:{index:oo(w,A.schema),range:w.range}}).then(function(R){return Math.min(R,w.limit)});var _=0;return so(w,function(){return++_,!1},g,A).then(function(){return _})}).then(l)},At.prototype.sortBy=function(l,d){var g=l.split(".").reverse(),w=g[0],A=g.length-1;function _($,Z){return Z?_($[g[Z]],Z-1):$[w]}var R=this._ctx.dir==="next"?1:-1;function H($,Z){return pt(_($,A),_(Z,A))*R}return this.toArray(function($){return $.sort(H)}).then(d)},At.prototype.toArray=function(l){var d=this;return this._read(function(g){var w=d._ctx;if(w.dir==="next"&&er(w,!0)&&0<w.limit){var A=w.valueMapper,_=oo(w,w.table.core.schema);return w.table.core.query({trans:g,limit:w.limit,values:!0,query:{index:_,range:w.range}}).then(function(H){return H=H.result,A?H.map(A):H})}var R=[];return so(w,function(H){return R.push(H)},g,w.table.core).then(function(){return R})},l)},At.prototype.offset=function(l){var d=this._ctx;return l<=0||(d.offset+=l,er(d)?Qn(d,function(){var g=l;return function(w,A){return g===0||(g===1?--g:A(function(){w.advance(g),g=0}),!1)}}):Qn(d,function(){var g=l;return function(){return--g<0}})),this},At.prototype.limit=function(l){return this._ctx.limit=Math.min(this._ctx.limit,l),Qn(this._ctx,function(){var d=l;return function(g,w,A){return--d<=0&&w(A),0<=d}},!0),this},At.prototype.until=function(l,d){return Ci(this._ctx,function(g,w,A){return!l(g.value)||(w(A),d)}),this},At.prototype.first=function(l){return this.limit(1).toArray(function(d){return d[0]}).then(l)},At.prototype.last=function(l){return this.reverse().first(l)},At.prototype.filter=function(l){var d;return Ci(this._ctx,function(g){return l(g.value)}),(d=this._ctx).isMatch=Ar(d.isMatch,l),this},At.prototype.and=function(l){return this.filter(l)},At.prototype.or=function(l){return new this.db.WhereClause(this._ctx.table,l,this)},At.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},At.prototype.desc=function(){return this.reverse()},At.prototype.eachKey=function(l){var d=this._ctx;return d.keysOnly=!d.isMatch,this.each(function(g,w){l(w.key,w)})},At.prototype.eachUniqueKey=function(l){return this._ctx.unique="unique",this.eachKey(l)},At.prototype.eachPrimaryKey=function(l){var d=this._ctx;return d.keysOnly=!d.isMatch,this.each(function(g,w){l(w.primaryKey,w)})},At.prototype.keys=function(l){var d=this._ctx;d.keysOnly=!d.isMatch;var g=[];return this.each(function(w,A){g.push(A.key)}).then(function(){return g}).then(l)},At.prototype.primaryKeys=function(l){var d=this._ctx;if(d.dir==="next"&&er(d,!0)&&0<d.limit)return this._read(function(w){var A=oo(d,d.table.core.schema);return d.table.core.query({trans:w,values:!1,limit:d.limit,query:{index:A,range:d.range}})}).then(function(w){return w.result}).then(l);d.keysOnly=!d.isMatch;var g=[];return this.each(function(w,A){g.push(A.primaryKey)}).then(function(){return g}).then(l)},At.prototype.uniqueKeys=function(l){return this._ctx.unique="unique",this.keys(l)},At.prototype.firstKey=function(l){return this.limit(1).keys(function(d){return d[0]}).then(l)},At.prototype.lastKey=function(l){return this.reverse().firstKey(l)},At.prototype.distinct=function(){var l=this._ctx,l=l.index&&l.table.schema.idxByName[l.index];if(!l||!l.multi)return this;var d={};return Ci(this._ctx,function(A){var w=A.primaryKey.toString(),A=y(d,w);return d[w]=!0,!A}),this},At.prototype.modify=function(l){var d=this,g=this._ctx;return this._write(function(w){var A,_,R;R=typeof l=="function"?l:(A=m(l),_=A.length,function(le){for(var me=!1,ve=0;ve<_;++ve){var we=A[ve],Be=l[we],Re=G(le,we);Be instanceof io?(V(le,we,Be.execute(Re)),me=!0):Re!==Be&&(V(le,we,Be),me=!0)}return me});var H=g.table.core,q=H.schema.primaryKey,$=q.outbound,Z=q.extractKey,ae=200,q=d.db._options.modifyChunkSize;q&&(ae=typeof q=="object"?q[H.name]||q["*"]||200:q);function ie(le,we){var ve=we.failures,we=we.numFailures;ne+=le-we;for(var Be=0,Re=m(ve);Be<Re.length;Be++){var Ne=Re[Be];I.push(ve[Ne])}}var I=[],ne=0,oe=[],re=l===Bi;return d.clone().primaryKeys().then(function(le){function me(we){var Be=Math.min(ae,le.length-we),Re=le.slice(we,we+Be);return(re?Promise.resolve([]):H.getMany({trans:w,keys:Re,cache:"immutable"})).then(function(Ne){var ke=[],Pe=[],Ue=$?[]:null,Le=re?Re:[];if(!re)for(var st=0;st<Be;++st){var it=Ne[st],nt={value:pe(it),primKey:le[we+st]};R.call(nt,nt.value,nt)!==!1&&(nt.value==null?Le.push(le[we+st]):$||pt(Z(it),Z(nt.value))===0?(Pe.push(nt.value),$&&Ue.push(le[we+st])):(Le.push(le[we+st]),ke.push(nt.value)))}return Promise.resolve(0<ke.length&&H.mutate({trans:w,type:"add",values:ke}).then(function(Vt){for(var ot in Vt.failures)Le.splice(parseInt(ot),1);ie(ke.length,Vt)})).then(function(){return(0<Pe.length||ve&&typeof l=="object")&&H.mutate({trans:w,type:"put",keys:Ue,values:Pe,criteria:ve,changeSpec:typeof l!="function"&&l,isAdditionalChunk:0<we}).then(function(Vt){return ie(Pe.length,Vt)})}).then(function(){return(0<Le.length||ve&&re)&&H.mutate({trans:w,type:"delete",keys:Le,criteria:ve,isAdditionalChunk:0<we}).then(function(Vt){return zn(g.table,Le,Vt)}).then(function(Vt){return ie(Le.length,Vt)})}).then(function(){return le.length>we+Be&&me(we+ae)})})}var ve=er(g)&&g.limit===1/0&&(typeof l!="function"||re)&&{index:g.index,range:g.range};return me(0).then(function(){if(0<I.length)throw new De("Error modifying one or more objects",I,ne,oe);return le.length})})})},At.prototype.delete=function(){var l=this._ctx,d=l.range;return!er(l)||l.table.schema.yProps||!l.isPrimKey&&d.type!==3?this.modify(Bi):this._write(function(g){var w=l.table.core.schema.primaryKey,A=d;return l.table.core.count({trans:g,query:{index:w,range:A}}).then(function(_){return l.table.core.mutate({trans:g,type:"deleteRange",range:A}).then(function($){var H=$.failures,$=$.numFailures;if($)throw new De("Could not delete some values",Object.keys(H).map(function(Z){return H[Z]}),_-$);return _-$})})})},At);function At(){}var Bi=function(l,d){return d.value=null};function Ul(l,d){return l<d?-1:l===d?0:1}function Ti(l,d){return d<l?-1:l===d?0:1}function oa(l,d,g){return l=l instanceof Bs?new l.Collection(l):l,l._ctx.error=new(g||TypeError)(d),l}function co(l){return new l.Collection(l,function(){return Ds("")}).limit(0)}function Dr(l,d,g,w){var A,_,R,H,$,Z,ae,q=g.length;if(!g.every(function(ne){return typeof ne=="string"}))return oa(l,fn);function ie(ne){A=ne==="next"?function(re){return re.toUpperCase()}:function(re){return re.toLowerCase()},_=ne==="next"?function(re){return re.toLowerCase()}:function(re){return re.toUpperCase()},R=ne==="next"?Ul:Ti;var oe=g.map(function(re){return{lower:_(re),upper:A(re)}}).sort(function(re,le){return R(re.lower,le.lower)});H=oe.map(function(re){return re.upper}),$=oe.map(function(re){return re.lower}),ae=(Z=ne)==="next"?"":w}ie("next"),l=new l.Collection(l,function(){return Tn(H[0],$[q-1]+w)}),l._ondirectionchange=function(ne){ie(ne)};var I=0;return l._addAlgorithm(function(ne,oe,re){var le=ne.key;if(typeof le!="string")return!1;var me=_(le);if(d(me,$,I))return!0;for(var ve=null,we=I;we<q;++we){var Be=(function(Re,Ne,ke,Pe,Ue,Le){for(var st=Math.min(Re.length,Pe.length),it=-1,nt=0;nt<st;++nt){var Vt=Ne[nt];if(Vt!==Pe[nt])return Ue(Re[nt],ke[nt])<0?Re.substr(0,nt)+ke[nt]+ke.substr(nt+1):Ue(Re[nt],Pe[nt])<0?Re.substr(0,nt)+Pe[nt]+ke.substr(nt+1):0<=it?Re.substr(0,it)+Ne[it]+ke.substr(it+1):null;Ue(Re[nt],Vt)<0&&(it=nt)}return st<Pe.length&&Le==="next"?Re+ke.substr(Re.length):st<Re.length&&Le==="prev"?Re.substr(0,ke.length):it<0?null:Re.substr(0,it)+Pe[it]+ke.substr(it+1)})(le,me,H[we],$[we],R,Z);Be===null&&ve===null?I=we+1:(ve===null||0<R(ve,Be))&&(ve=Be)}return oe(ve!==null?function(){ne.continue(ve+ae)}:re),!1}),l}function Tn(l,d,g,w){return{type:2,lower:l,upper:d,lowerOpen:g,upperOpen:w}}function Ds(l){return{type:1,lower:l,upper:l}}var Bs=(Object.defineProperty($t.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),$t.prototype.between=function(l,d,g,w){g=g!==!1,w=w===!0;try{return 0<this._cmp(l,d)||this._cmp(l,d)===0&&(g||w)&&(!g||!w)?co(this):new this.Collection(this,function(){return Tn(l,d,!g,!w)})}catch{return oa(this,Xn)}},$t.prototype.equals=function(l){return l==null?oa(this,Xn):new this.Collection(this,function(){return Ds(l)})},$t.prototype.above=function(l){return l==null?oa(this,Xn):new this.Collection(this,function(){return Tn(l,void 0,!0)})},$t.prototype.aboveOrEqual=function(l){return l==null?oa(this,Xn):new this.Collection(this,function(){return Tn(l,void 0,!1)})},$t.prototype.below=function(l){return l==null?oa(this,Xn):new this.Collection(this,function(){return Tn(void 0,l,!1,!0)})},$t.prototype.belowOrEqual=function(l){return l==null?oa(this,Xn):new this.Collection(this,function(){return Tn(void 0,l)})},$t.prototype.startsWith=function(l){return typeof l!="string"?oa(this,fn):this.between(l,l+Aa,!0,!0)},$t.prototype.startsWithIgnoreCase=function(l){return l===""?this.startsWith(l):Dr(this,function(d,g){return d.indexOf(g[0])===0},[l],Aa)},$t.prototype.equalsIgnoreCase=function(l){return Dr(this,function(d,g){return d===g[0]},[l],"")},$t.prototype.anyOfIgnoreCase=function(){var l=ze.apply(Ke,arguments);return l.length===0?co(this):Dr(this,function(d,g){return g.indexOf(d)!==-1},l,"")},$t.prototype.startsWithAnyOfIgnoreCase=function(){var l=ze.apply(Ke,arguments);return l.length===0?co(this):Dr(this,function(d,g){return g.some(function(w){return d.indexOf(w)===0})},l,Aa)},$t.prototype.anyOf=function(){var l=this,d=ze.apply(Ke,arguments),g=this._cmp;try{d.sort(g)}catch{return oa(this,Xn)}if(d.length===0)return co(this);var w=new this.Collection(this,function(){return Tn(d[0],d[d.length-1])});w._ondirectionchange=function(_){g=_==="next"?l._ascending:l._descending,d.sort(g)};var A=0;return w._addAlgorithm(function(_,R,H){for(var $=_.key;0<g($,d[A]);)if(++A===d.length)return R(H),!1;return g($,d[A])===0||(R(function(){_.continue(d[A])}),!1)}),w},$t.prototype.notEqual=function(l){return this.inAnyRange([[-1/0,l],[l,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},$t.prototype.noneOf=function(){var l=ze.apply(Ke,arguments);if(l.length===0)return new this.Collection(this);try{l.sort(this._ascending)}catch{return oa(this,Xn)}var d=l.reduce(function(g,w){return g?g.concat([[g[g.length-1][1],w]]):[[-1/0,w]]},null);return d.push([l[l.length-1],this.db._maxKey]),this.inAnyRange(d,{includeLowers:!1,includeUppers:!1})},$t.prototype.inAnyRange=function(le,d){var g=this,w=this._cmp,A=this._ascending,_=this._descending,R=this._min,H=this._max;if(le.length===0)return co(this);if(!le.every(function(me){return me[0]!==void 0&&me[1]!==void 0&&A(me[0],me[1])<=0}))return oa(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Te.InvalidArgument);var $=!d||d.includeLowers!==!1,Z=d&&d.includeUppers===!0,ae,q=A;function ie(me,ve){return q(me[0],ve[0])}try{(ae=le.reduce(function(me,ve){for(var we=0,Be=me.length;we<Be;++we){var Re=me[we];if(w(ve[0],Re[1])<0&&0<w(ve[1],Re[0])){Re[0]=R(Re[0],ve[0]),Re[1]=H(Re[1],ve[1]);break}}return we===Be&&me.push(ve),me},[])).sort(ie)}catch{return oa(this,Xn)}var I=0,ne=Z?function(me){return 0<A(me,ae[I][1])}:function(me){return 0<=A(me,ae[I][1])},oe=$?function(me){return 0<_(me,ae[I][0])}:function(me){return 0<=_(me,ae[I][0])},re=ne,le=new this.Collection(this,function(){return Tn(ae[0][0],ae[ae.length-1][1],!$,!Z)});return le._ondirectionchange=function(me){q=me==="next"?(re=ne,A):(re=oe,_),ae.sort(ie)},le._addAlgorithm(function(me,ve,we){for(var Be,Re=me.key;re(Re);)if(++I===ae.length)return ve(we),!1;return!ne(Be=Re)&&!oe(Be)||(g._cmp(Re,ae[I][1])===0||g._cmp(Re,ae[I][0])===0||ve(function(){q===A?me.continue(ae[I][0]):me.continue(ae[I][1])}),!1)}),le},$t.prototype.startsWithAnyOf=function(){var l=ze.apply(Ke,arguments);return l.every(function(d){return typeof d=="string"})?l.length===0?co(this):this.inAnyRange(l.map(function(d){return[d,d+Aa]})):oa(this,"startsWithAnyOf() only works with strings")},$t);function $t(){}function Fn(l){return et(function(d){return uo(d),l(d.target.error),!1})}function uo(l){l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault()}var Br="storagemutated",Ts="x-storagemutated-1",fa=Cr(null,Br),tr=(ha.prototype._lock=function(){return z(!Ve.global),++this._reculock,this._reculock!==1||Ve.global||(Ve.lockOwnerFor=this),this},ha.prototype._unlock=function(){if(z(!Ve.global),--this._reculock==0)for(Ve.global||(Ve.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var l=this._blockedFuncs.shift();try{Sa(l[1],l[0])}catch{}}return this},ha.prototype._locked=function(){return this._reculock&&Ve.lockOwnerFor!==this},ha.prototype.create=function(l){var d=this;if(!this.mode)return this;var g=this.db.idbdb,w=this.db._state.dbOpenError;if(z(!this.idbtrans),!l&&!g)switch(w&&w.name){case"DatabaseClosedError":throw new Te.DatabaseClosed(w);case"MissingAPIError":throw new Te.MissingAPI(w.message,w);default:throw new Te.OpenFailed(w)}if(!this.active)throw new Te.TransactionInactive;return z(this._completion._state===null),(l=this.idbtrans=l||(this.db.core||g).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=et(function(A){uo(A),d._reject(l.error)}),l.onabort=et(function(A){uo(A),d.active&&d._reject(new Te.Abort(l.error)),d.active=!1,d.on("abort").fire(A)}),l.oncomplete=et(function(){d.active=!1,d._resolve(),"mutatedParts"in l&&fa.storagemutated.fire(l.mutatedParts)}),this},ha.prototype._promise=function(l,d,g){var w=this;if(l==="readwrite"&&this.mode!=="readwrite")return Rt(new Te.ReadOnly("Transaction is readonly"));if(!this.active)return Rt(new Te.TransactionInactive);if(this._locked())return new He(function(_,R){w._blockedFuncs.push([function(){w._promise(l,d,g).then(_,R)},Ve])});if(g)return Pt(function(){var _=new He(function(R,H){w._lock();var $=d(R,H,w);$&&$.then&&$.then(R,H)});return _.finally(function(){return w._unlock()}),_._lib=!0,_});var A=new He(function(_,R){var H=d(_,R,w);H&&H.then&&H.then(_,R)});return A._lib=!0,A},ha.prototype._root=function(){return this.parent?this.parent._root():this},ha.prototype.waitFor=function(l){var d,g=this._root(),w=He.resolve(l);g._waitingFor?g._waitingFor=g._waitingFor.then(function(){return w}):(g._waitingFor=w,g._waitingQueue=[],d=g.idbtrans.objectStore(g.storeNames[0]),(function _(){for(++g._spinCount;g._waitingQueue.length;)g._waitingQueue.shift()();g._waitingFor&&(d.get(-1/0).onsuccess=_)})());var A=g._waitingFor;return new He(function(_,R){w.then(function(H){return g._waitingQueue.push(et(_.bind(null,H)))},function(H){return g._waitingQueue.push(et(R.bind(null,H)))}).finally(function(){g._waitingFor===A&&(g._waitingFor=null)})})},ha.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Te.Abort))},ha.prototype.table=function(l){var d=this._memoizedTables||(this._memoizedTables={});if(y(d,l))return d[l];var g=this.schema[l];if(!g)throw new Te.NotFound("Table "+l+" not part of transaction");return g=new this.db.Table(l,g,this),g.core=this.db.core.table(l),d[l]=g},ha);function ha(){}function Tr(l,d,g,w,A,_,R,H){return{name:l,keyPath:d,unique:g,multi:w,auto:A,compound:_,src:(g&&!R?"&":"")+(w?"*":"")+(A?"++":"")+nr(d),type:H}}function nr(l){return typeof l=="string"?l:l?"["+[].join.call(l,"+")+"]":""}function Qo(l,d,g){return{name:l,primKey:d,indexes:g,mappedClass:null,idxByName:(w=function(A){return[A.name,A]},g.reduce(function(A,_,R){return R=w(_,R),R&&(A[R[0]]=R[1]),A},{}))};var w}var ur=function(l){try{return l.only([[]]),ur=function(){return[[]]},[[]]}catch{return ur=function(){return Aa},Aa}};function Ns(l){return l==null?function(){}:typeof l=="string"?(d=l).split(".").length===1?function(g){return g[d]}:function(g){return G(g,d)}:function(g){return G(g,l)};var d}function Zo(l){return[].slice.call(l)}var ks=0;function fo(l){return l==null?":id":typeof l=="string"?l:"[".concat(l.join("+"),"]")}function Zn(l,d,$){function w(re){if(re.type===3)return null;if(re.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var I=re.lower,ne=re.upper,oe=re.lowerOpen,re=re.upperOpen;return I===void 0?ne===void 0?null:d.upperBound(ne,!!re):ne===void 0?d.lowerBound(I,!!oe):d.bound(I,ne,!!oe,!!re)}function A(ie){var I,ne=ie.name;return{name:ne,schema:ie,mutate:function(oe){var re=oe.trans,le=oe.type,me=oe.keys,ve=oe.values,we=oe.range;return new Promise(function(Be,Re){Be=et(Be);var Ne=re.objectStore(ne),ke=Ne.keyPath==null,Pe=le==="put"||le==="add";if(!Pe&&le!=="delete"&&le!=="deleteRange")throw new Error("Invalid operation type: "+le);var Ue,Le=(me||ve||{length:1}).length;if(me&&ve&&me.length!==ve.length)throw new Error("Given keys array must have same length as given values array.");if(Le===0)return Be({numFailures:0,failures:{},results:[],lastResult:void 0});function st(kn){++Vt,uo(kn)}var it=[],nt=[],Vt=0;if(le==="deleteRange"){if(we.type===4)return Be({numFailures:Vt,failures:nt,results:[],lastResult:void 0});we.type===3?it.push(Ue=Ne.clear()):it.push(Ue=Ne.delete(w(we)))}else{var ke=Pe?ke?[ve,me]:[ve,null]:[me,null],ot=ke[0],hn=ke[1];if(Pe)for(var yn=0;yn<Le;++yn)it.push(Ue=hn&&hn[yn]!==void 0?Ne[le](ot[yn],hn[yn]):Ne[le](ot[yn])),Ue.onerror=st;else for(yn=0;yn<Le;++yn)it.push(Ue=Ne[le](ot[yn])),Ue.onerror=st}function Ha(kn){kn=kn.target.result,it.forEach(function(qa,hr){return qa.error!=null&&(nt[hr]=qa.error)}),Be({numFailures:Vt,failures:nt,results:le==="delete"?me:it.map(function(qa){return qa.result}),lastResult:kn})}Ue.onerror=function(kn){st(kn),Ha(kn)},Ue.onsuccess=Ha})},getMany:function(oe){var re=oe.trans,le=oe.keys;return new Promise(function(me,ve){me=et(me);for(var we,Be=re.objectStore(ne),Re=le.length,Ne=new Array(Re),ke=0,Pe=0,Ue=function(it){it=it.target,Ne[it._pos]=it.result,++Pe===ke&&me(Ne)},Le=Fn(ve),st=0;st<Re;++st)le[st]!=null&&((we=Be.get(le[st]))._pos=st,we.onsuccess=Ue,we.onerror=Le,++ke);ke===0&&me(Ne)})},get:function(oe){var re=oe.trans,le=oe.key;return new Promise(function(me,ve){me=et(me);var we=re.objectStore(ne).get(le);we.onsuccess=function(Be){return me(Be.target.result)},we.onerror=Fn(ve)})},query:(I=Z,function(oe){return new Promise(function(re,le){re=et(re);var me,ve,we,ke=oe.trans,Be=oe.values,Re=oe.limit,Ue=oe.query,Ne=Re===1/0?void 0:Re,Pe=Ue.index,Ue=Ue.range,ke=ke.objectStore(ne),Pe=Pe.isPrimaryKey?ke:ke.index(Pe.name),Ue=w(Ue);if(Re===0)return re({result:[]});I?((Ne=Be?Pe.getAll(Ue,Ne):Pe.getAllKeys(Ue,Ne)).onsuccess=function(Le){return re({result:Le.target.result})},Ne.onerror=Fn(le)):(me=0,ve=!Be&&"openKeyCursor"in Pe?Pe.openKeyCursor(Ue):Pe.openCursor(Ue),we=[],ve.onsuccess=function(Le){var st=ve.result;return st?(we.push(Be?st.value:st.primaryKey),++me===Re?re({result:we}):void st.continue()):re({result:we})},ve.onerror=Fn(le))})}),openCursor:function(oe){var re=oe.trans,le=oe.values,me=oe.query,ve=oe.reverse,we=oe.unique;return new Promise(function(Be,Re){Be=et(Be);var Pe=me.index,Ne=me.range,ke=re.objectStore(ne),ke=Pe.isPrimaryKey?ke:ke.index(Pe.name),Pe=ve?we?"prevunique":"prev":we?"nextunique":"next",Ue=!le&&"openKeyCursor"in ke?ke.openKeyCursor(w(Ne),Pe):ke.openCursor(w(Ne),Pe);Ue.onerror=Fn(Re),Ue.onsuccess=et(function(Le){var st,it,nt,Vt,ot=Ue.result;ot?(ot.___id=++ks,ot.done=!1,st=ot.continue.bind(ot),it=(it=ot.continuePrimaryKey)&&it.bind(ot),nt=ot.advance.bind(ot),Vt=function(){throw new Error("Cursor not stopped")},ot.trans=re,ot.stop=ot.continue=ot.continuePrimaryKey=ot.advance=function(){throw new Error("Cursor not started")},ot.fail=et(Re),ot.next=function(){var hn=this,yn=1;return this.start(function(){return yn--?hn.continue():hn.stop()}).then(function(){return hn})},ot.start=function(hn){function yn(){if(Ue.result)try{hn()}catch(kn){ot.fail(kn)}else ot.done=!0,ot.start=function(){throw new Error("Cursor behind last entry")},ot.stop()}var Ha=new Promise(function(kn,qa){kn=et(kn),Ue.onerror=Fn(qa),ot.fail=qa,ot.stop=function(hr){ot.stop=ot.continue=ot.continuePrimaryKey=ot.advance=Vt,kn(hr)}});return Ue.onsuccess=et(function(kn){Ue.onsuccess=yn,yn()}),ot.continue=st,ot.continuePrimaryKey=it,ot.advance=nt,yn(),Ha},Be(ot)):Be(null)},Re)})},count:function(oe){var re=oe.query,le=oe.trans,me=re.index,ve=re.range;return new Promise(function(we,Be){var Re=le.objectStore(ne),Ne=me.isPrimaryKey?Re:Re.index(me.name),Re=w(ve),Ne=Re?Ne.count(Re):Ne.count();Ne.onsuccess=et(function(ke){return we(ke.target.result)}),Ne.onerror=Fn(Be)})}}}var _,R,H,ae=(R=$,H=Zo((_=l).objectStoreNames),{schema:{name:_.name,tables:H.map(function(ie){return R.objectStore(ie)}).map(function(ie){var I=ie.keyPath,re=ie.autoIncrement,ne=x(I),oe={},re={name:ie.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:I==null,compound:ne,keyPath:I,autoIncrement:re,unique:!0,extractKey:Ns(I)},indexes:Zo(ie.indexNames).map(function(le){return ie.index(le)}).map(function(we){var me=we.name,ve=we.unique,Be=we.multiEntry,we=we.keyPath,Be={name:me,compound:x(we),keyPath:we,unique:ve,multiEntry:Be,extractKey:Ns(we)};return oe[fo(we)]=Be}),getIndexByKeyPath:function(le){return oe[fo(le)]}};return oe[":id"]=re.primaryKey,I!=null&&(oe[fo(I)]=re.primaryKey),re})},hasGetAll:0<H.length&&"getAll"in R.objectStore(H[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),$=ae.schema,Z=ae.hasGetAll,ae=$.tables.map(A),q={};return ae.forEach(function(ie){return q[ie.name]=ie}),{stack:"dbcore",transaction:l.transaction.bind(l),table:function(ie){if(!q[ie])throw new Error("Table '".concat(ie,"' not found"));return q[ie]},MIN_KEY:-1/0,MAX_KEY:ur(d),schema:$}}function Nr(l,d,g,w){var A=g.IDBKeyRange;return g.indexedDB,{dbcore:(w=Zn(d,A,w),l.dbcore.reduce(function(_,R){return R=R.create,i(i({},_),R(_))},w))}}function kr(l,w){var g=w.db,w=Nr(l._middlewares,g,l._deps,w);l.core=w.dbcore,l.tables.forEach(function(A){var _=A.name;l.core.schema.tables.some(function(R){return R.name===_})&&(A.core=l.core.table(_),l[_]instanceof l.Table&&(l[_].core=A.core))})}function dr(l,d,g,w){g.forEach(function(A){var _=w[A];d.forEach(function(R){var H=(function $(Z,ae){return O(Z,ae)||(Z=p(Z))&&$(Z,ae)})(R,A);(!H||"value"in H&&H.value===void 0)&&(R===l.Transaction.prototype||R instanceof l.Transaction?B(R,A,{get:function(){return this.table(A)},set:function($){D(this,A,{value:$,writable:!0,configurable:!0,enumerable:!0})}}):R[A]=new l.Table(A,_))})})}function Ni(l,d){d.forEach(function(g){for(var w in g)g[w]instanceof l.Table&&delete g[w]})}function ki(l,d){return l._cfg.version-d._cfg.version}function ji(l,d,g,w){var A=l._dbSchema;g.objectStoreNames.contains("$meta")&&!A.$meta&&(A.$meta=Qo("$meta",Pl("")[0],[]),l._storeNames.push("$meta"));var _=l._createTransaction("readwrite",l._storeNames,A);_.create(g),_._completion.catch(w);var R=_._reject.bind(_),H=Ve.transless||Ve;Pt(function(){return Ve.trans=_,Ve.transless=H,d!==0?(kr(l,g),Z=d,(($=_).storeNames.includes("$meta")?$.table("$meta").get("version").then(function(ae){return ae??Z}):He.resolve(Z)).then(function(ae){return ie=ae,I=_,ne=g,oe=[],ae=(q=l)._versions,re=q._dbSchema=Ms(0,q.idbdb,ne),(ae=ae.filter(function(le){return le._cfg.version>=ie})).length!==0?(ae.forEach(function(le){oe.push(function(){var me=re,ve=le._cfg.dbschema;po(q,me,ne),po(q,ve,ne),re=q._dbSchema=ve;var we=ho(me,ve);we.add.forEach(function(Pe){js(ne,Pe[0],Pe[1].primKey,Pe[1].indexes)}),we.change.forEach(function(Pe){if(Pe.recreate)throw new Te.Upgrade("Not yet support for changing primary key");var Ue=ne.objectStore(Pe.name);Pe.add.forEach(function(Le){return Os(Ue,Le)}),Pe.change.forEach(function(Le){Ue.deleteIndex(Le.name),Os(Ue,Le)}),Pe.del.forEach(function(Le){return Ue.deleteIndex(Le)})});var Be=le._cfg.contentUpgrade;if(Be&&le._cfg.version>ie){kr(q,ne),I._memoizedTables={};var Re=J(ve);we.del.forEach(function(Pe){Re[Pe]=me[Pe]}),Ni(q,[q.Transaction.prototype]),dr(q,[q.Transaction.prototype],m(Re),Re),I.schema=Re;var Ne,ke=N(Be);return ke&&dn(),we=He.follow(function(){var Pe;(Ne=Be(I))&&ke&&(Pe=ra.bind(null,null),Ne.then(Pe,Pe))}),Ne&&typeof Ne.then=="function"?He.resolve(Ne):we.then(function(){return Ne})}}),oe.push(function(me){var ve,we,Be=le._cfg.dbschema;ve=Be,we=me,[].slice.call(we.db.objectStoreNames).forEach(function(Re){return ve[Re]==null&&we.db.deleteObjectStore(Re)}),Ni(q,[q.Transaction.prototype]),dr(q,[q.Transaction.prototype],q._storeNames,q._dbSchema),I.schema=q._dbSchema}),oe.push(function(me){q.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(q.idbdb.version/10)===le._cfg.version?(q.idbdb.deleteObjectStore("$meta"),delete q._dbSchema.$meta,q._storeNames=q._storeNames.filter(function(ve){return ve!=="$meta"})):me.objectStore("$meta").put(le._cfg.version,"version"))})}),(function le(){return oe.length?He.resolve(oe.shift()(I.idbtrans)).then(le):He.resolve()})().then(function(){Kl(re,ne)})):He.resolve();var q,ie,I,ne,oe,re}).catch(R)):(m(A).forEach(function(ae){js(g,ae,A[ae].primKey,A[ae].indexes)}),kr(l,g),void He.follow(function(){return l.on.populate.fire(_)}).catch(R));var $,Z})}function Wo(l,d){Kl(l._dbSchema,d),d.db.version%10!=0||d.objectStoreNames.contains("$meta")||d.db.createObjectStore("$meta").add(Math.ceil(d.db.version/10-1),"version");var g=Ms(0,l.idbdb,d);po(l,l._dbSchema,d);for(var w=0,A=ho(g,l._dbSchema).change;w<A.length;w++){var _=(function(R){if(R.change.length||R.recreate)return console.warn("Unable to patch indexes of table ".concat(R.name," because it has changes on the type of index or primary key.")),{value:void 0};var H=d.objectStore(R.name);R.add.forEach(function($){Mt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(R.name,".").concat($.src)),Os(H,$)})})(A[w]);if(typeof _=="object")return _.value}}function ho(l,d){var g,w={del:[],add:[],change:[]};for(g in l)d[g]||w.del.push(g);for(g in d){var A=l[g],_=d[g];if(A){var R={name:g,def:_,recreate:!1,del:[],add:[],change:[]};if(""+(A.primKey.keyPath||"")!=""+(_.primKey.keyPath||"")||A.primKey.auto!==_.primKey.auto)R.recreate=!0,w.change.push(R);else{var H=A.idxByName,$=_.idxByName,Z=void 0;for(Z in H)$[Z]||R.del.push(Z);for(Z in $){var ae=H[Z],q=$[Z];ae?ae.src!==q.src&&R.change.push(q):R.add.push(q)}(0<R.del.length||0<R.add.length||0<R.change.length)&&w.change.push(R)}}else w.add.push([g,_])}return w}function js(l,d,g,w){var A=l.db.createObjectStore(d,g.keyPath?{keyPath:g.keyPath,autoIncrement:g.auto}:{autoIncrement:g.auto});return w.forEach(function(_){return Os(A,_)}),A}function Kl(l,d){m(l).forEach(function(g){d.db.objectStoreNames.contains(g)||(Mt&&console.debug("Dexie: Creating missing table",g),js(d,g,l[g].primKey,l[g].indexes))})}function Os(l,d){l.createIndex(d.name,d.keyPath,{unique:d.unique,multiEntry:d.multi})}function Ms(l,d,g){var w={};return k(d.objectStoreNames,0).forEach(function(A){for(var _=g.objectStore(A),R=Tr(nr(Z=_.keyPath),Z||"",!0,!1,!!_.autoIncrement,Z&&typeof Z!="string",!0),H=[],$=0;$<_.indexNames.length;++$){var ae=_.index(_.indexNames[$]),Z=ae.keyPath,ae=Tr(ae.name,Z,!!ae.unique,!!ae.multiEntry,!1,Z&&typeof Z!="string",!1);H.push(ae)}w[A]=Qo(A,R,H)}),w}function po(l,d,g){for(var w=g.db.objectStoreNames,A=0;A<w.length;++A){var _=w[A],R=g.objectStore(_);l._hasGetAll="getAll"in R;for(var H=0;H<R.indexNames.length;++H){var $=R.indexNames[H],Z=R.index($).keyPath,ae=typeof Z=="string"?Z:"["+k(Z).join("+")+"]";!d[_]||(Z=d[_].idxByName[ae])&&(Z.name=$,delete d[_].idxByName[ae],d[_].idxByName[$]=Z)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&h.WorkerGlobalScope&&h instanceof h.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(l._hasGetAll=!1)}function Pl(l){return l.split(",").map(function(d,g){var _=d.split(":"),w=(A=_[1])===null||A===void 0?void 0:A.trim(),A=(d=_[0].trim()).replace(/([&*]|\+\+)/g,""),_=/^\[/.test(A)?A.match(/^\[(.*)\]$/)[1].split("+"):A;return Tr(A,_||null,/\&/.test(d),/\*/.test(d),/\+\+/.test(d),x(_),g===0,w)})}var r0=(mo.prototype._createTableSchema=Qo,mo.prototype._parseIndexSyntax=Pl,mo.prototype._parseStoresSpec=function(l,d){var g=this;m(l).forEach(function(w){if(l[w]!==null){var A=g._parseIndexSyntax(l[w]),_=A.shift();if(!_)throw new Te.Schema("Invalid schema for table "+w+": "+l[w]);if(_.unique=!0,_.multi)throw new Te.Schema("Primary key cannot be multiEntry*");A.forEach(function(R){if(R.auto)throw new Te.Schema("Only primary key can be marked as autoIncrement (++)");if(!R.keyPath)throw new Te.Schema("Index must have a name and cannot be an empty string")}),A=g._createTableSchema(w,_,A),d[w]=A}})},mo.prototype.stores=function(g){var d=this.db;this._cfg.storesSource=this._cfg.storesSource?v(this._cfg.storesSource,g):g;var g=d._versions,w={},A={};return g.forEach(function(_){v(w,_._cfg.storesSource),A=_._cfg.dbschema={},_._parseStoresSpec(w,A)}),d._dbSchema=A,Ni(d,[d._allTables,d,d.Transaction.prototype]),dr(d,[d._allTables,d,d.Transaction.prototype,this._cfg.tables],m(A),A),d._storeNames=m(A),this},mo.prototype.upgrade=function(l){return this._cfg.contentUpgrade=na(this._cfg.contentUpgrade||rt,l),this},mo);function mo(){}function Oi(l,d){var g=l._dbNamesDB;return g||(g=l._dbNamesDB=new La(Go,{addons:[],indexedDB:l,IDBKeyRange:d})).version(1).stores({dbnames:"name"}),g.table("dbnames")}function Mi(l){return l&&typeof l.databases=="function"}function Rs(l){return Pt(function(){return Ve.letThrough=!0,l()})}function Ri(l){return!("from"in l)}var Nn=function(l,d){if(!this){var g=new Nn;return l&&"d"in l&&v(g,l),g}v(this,arguments.length?{d:1,from:l,to:1<arguments.length?d:l}:{d:0})};function Jo(l,d,g){var w=pt(d,g);if(!isNaN(w)){if(0<w)throw RangeError();if(Ri(l))return v(l,{from:d,to:g,d:1});var A=l.l,w=l.r;if(pt(g,l.from)<0)return A?Jo(A,d,g):l.l={from:d,to:g,d:1,l:null,r:null},Vl(l);if(0<pt(d,l.to))return w?Jo(w,d,g):l.r={from:d,to:g,d:1,l:null,r:null},Vl(l);pt(d,l.from)<0&&(l.from=d,l.l=null,l.d=w?w.d+1:1),0<pt(g,l.to)&&(l.to=g,l.r=null,l.d=l.l?l.l.d+1:1),g=!l.r,A&&!l.l&&es(l,A),w&&g&&es(l,w)}}function es(l,d){Ri(d)||(function g(w,$){var _=$.from,R=$.to,H=$.l,$=$.r;Jo(w,_,R),H&&g(w,H),$&&g(w,$)})(l,d)}function zs(l,d){var g=Fs(d),w=g.next();if(w.done)return!1;for(var A=w.value,_=Fs(l),R=_.next(A.from),H=R.value;!w.done&&!R.done;){if(pt(H.from,A.to)<=0&&0<=pt(H.to,A.from))return!0;pt(A.from,H.from)<0?A=(w=g.next(H.from)).value:H=(R=_.next(A.from)).value}return!1}function Fs(l){var d=Ri(l)?null:{s:0,n:l};return{next:function(g){for(var w=0<arguments.length;d;)switch(d.s){case 0:if(d.s=1,w)for(;d.n.l&&pt(g,d.n.from)<0;)d={up:d,n:d.n.l,s:1};else for(;d.n.l;)d={up:d,n:d.n.l,s:1};case 1:if(d.s=2,!w||pt(g,d.n.to)<=0)return{value:d.n,done:!1};case 2:if(d.n.r){d.s=3,d={up:d,n:d.n.r,s:0};continue}case 3:d=d.up}return{done:!0}}}}function Vl(l){var d,g,w=(((d=l.r)===null||d===void 0?void 0:d.d)||0)-(((g=l.l)===null||g===void 0?void 0:g.d)||0),A=1<w?"r":w<-1?"l":"";A&&(d=A=="r"?"l":"r",g=i({},l),w=l[A],l.from=w.from,l.to=w.to,l[A]=w[A],g[A]=w[d],(l[d]=g).d=Yl(g)),l.d=Yl(l)}function Yl(g){var d=g.r,g=g.l;return(d?g?Math.max(d.d,g.d):d.d:g?g.d:0)+1}function ts(l,d){return m(d).forEach(function(g){l[g]?es(l[g],d[g]):l[g]=(function w(A){var _,R,H={};for(_ in A)y(A,_)&&(R=A[_],H[_]=!R||typeof R!="object"||ce.has(R.constructor)?R:w(R));return H})(d[g])}),l}function zi(l,d){return l.all||d.all||Object.keys(l).some(function(g){return d[g]&&zs(d[g],l[g])})}C(Nn.prototype,((Wn={add:function(l){return es(this,l),this},addKey:function(l){return Jo(this,l,l),this},addKeys:function(l){var d=this;return l.forEach(function(g){return Jo(d,g,g)}),this},hasKey:function(l){var d=Fs(this).next(l).value;return d&&pt(d.from,l)<=0&&0<=pt(d.to,l)}})[Y]=function(){return Fs(this)},Wn));var jr={},Fi={},Li=!1;function Ls(l){ts(Fi,l),Li||(Li=!0,setTimeout(function(){Li=!1,Hi(Fi,!(Fi={}))},0))}function Hi(l,d){d===void 0&&(d=!1);var g=new Set;if(l.all)for(var w=0,A=Object.values(jr);w<A.length;w++)$l(R=A[w],l,g,d);else for(var _ in l){var R,H=/^idb\:\/\/(.*)\/(.*)\//.exec(_);H&&(_=H[1],H=H[2],(R=jr["idb://".concat(_,"/").concat(H)])&&$l(R,l,g,d))}g.forEach(function($){return $()})}function $l(l,d,g,w){for(var A=[],_=0,R=Object.entries(l.queries.query);_<R.length;_++){for(var H=R[_],$=H[0],Z=[],ae=0,q=H[1];ae<q.length;ae++){var ie=q[ae];zi(d,ie.obsSet)?ie.subscribers.forEach(function(re){return g.add(re)}):w&&Z.push(ie)}w&&A.push([$,Z])}if(w)for(var I=0,ne=A;I<ne.length;I++){var oe=ne[I],$=oe[0],Z=oe[1];l.queries.query[$]=Z}}function o0(l){var d=l._state,g=l._deps.indexedDB;if(d.isBeingOpened||l.idbdb)return d.dbReadyPromise.then(function(){return d.dbOpenError?Rt(d.dbOpenError):l});d.isBeingOpened=!0,d.dbOpenError=null,d.openComplete=!1;var w=d.openCanceller,A=Math.round(10*l.verno),_=!1;function R(){if(d.openCanceller!==w)throw new Te.DatabaseClosed("db.open() was cancelled")}function H(){return new He(function(ie,I){if(R(),!g)throw new Te.MissingAPI;var ne=l.name,oe=d.autoSchema||!A?g.open(ne):g.open(ne,A);if(!oe)throw new Te.MissingAPI;oe.onerror=Fn(I),oe.onblocked=et(l._fireOnBlocked),oe.onupgradeneeded=et(function(re){var le;ae=oe.transaction,d.autoSchema&&!l._options.allowEmptyDB?(oe.onerror=uo,ae.abort(),oe.result.close(),(le=g.deleteDatabase(ne)).onsuccess=le.onerror=et(function(){I(new Te.NoSuchDatabase("Database ".concat(ne," doesnt exist")))})):(ae.onerror=Fn(I),re=re.oldVersion>Math.pow(2,62)?0:re.oldVersion,q=re<1,l.idbdb=oe.result,_&&Wo(l,ae),ji(l,re/10,ae,I))},I),oe.onsuccess=et(function(){ae=null;var re,le,me,ve,we,Be=l.idbdb=oe.result,Re=k(Be.objectStoreNames);if(0<Re.length)try{var Ne=Be.transaction((ve=Re).length===1?ve[0]:ve,"readonly");if(d.autoSchema)le=Be,me=Ne,(re=l).verno=le.version/10,me=re._dbSchema=Ms(0,le,me),re._storeNames=k(le.objectStoreNames,0),dr(re,[re._allTables],m(me),me);else if(po(l,l._dbSchema,Ne),((we=ho(Ms(0,(we=l).idbdb,Ne),we._dbSchema)).add.length||we.change.some(function(ke){return ke.add.length||ke.change.length}))&&!_)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Be.close(),A=Be.version+1,_=!0,ie(H());kr(l,Ne)}catch{}Sr.push(l),Be.onversionchange=et(function(ke){d.vcFired=!0,l.on("versionchange").fire(ke)}),Be.onclose=et(function(ke){l.on("close").fire(ke)}),q&&(we=l._deps,Ne=ne,Be=we.indexedDB,we=we.IDBKeyRange,Mi(Be)||Ne===Go||Oi(Be,we).put({name:Ne}).catch(rt)),ie()},I)}).catch(function(ie){switch(ie?.name){case"UnknownError":if(0<d.PR1398_maxLoop)return d.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),H();break;case"VersionError":if(0<A)return A=0,H()}return He.reject(ie)})}var $,Z=d.dbReadyResolve,ae=null,q=!1;return He.race([w,(typeof navigator>"u"?He.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(ie){function I(){return indexedDB.databases().finally(ie)}$=setInterval(I,100),I()}).finally(function(){return clearInterval($)}):Promise.resolve()).then(H)]).then(function(){return R(),d.onReadyBeingFired=[],He.resolve(Rs(function(){return l.on.ready.fire(l.vip)})).then(function ie(){if(0<d.onReadyBeingFired.length){var I=d.onReadyBeingFired.reduce(na,rt);return d.onReadyBeingFired=[],He.resolve(Rs(function(){return I(l.vip)})).then(ie)}})}).finally(function(){d.openCanceller===w&&(d.onReadyBeingFired=null,d.isBeingOpened=!1)}).catch(function(ie){d.dbOpenError=ie;try{ae&&ae.abort()}catch{}return w===d.openCanceller&&l._close(),Rt(ie)}).finally(function(){d.openComplete=!0,Z()}).then(function(){var ie;return q&&(ie={},l.tables.forEach(function(I){I.schema.indexes.forEach(function(ne){ne.name&&(ie["idb://".concat(l.name,"/").concat(I.name,"/").concat(ne.name)]=new Nn(-1/0,[[[]]]))}),ie["idb://".concat(l.name,"/").concat(I.name,"/")]=ie["idb://".concat(l.name,"/").concat(I.name,"/:dels")]=new Nn(-1/0,[[[]]])}),fa(Br).fire(ie),Hi(ie,!0)),l})}function qi(l){function d(_){return l.next(_)}var g=A(d),w=A(function(_){return l.throw(_)});function A(_){return function($){var H=_($),$=H.value;return H.done?$:$&&typeof $.then=="function"?$.then(g,w):x($)?Promise.all($).then(g,w):g($)}}return A(d)()}function go(l,d,g){for(var w=x(l)?l.slice():[l],A=0;A<g;++A)w.push(d);return w}var ns={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(l){return i(i({},l),{table:function(d){var g=l.table(d),w=g.schema,A={},_=[];function R(q,ie,I){var ne=fo(q),oe=A[ne]=A[ne]||[],re=q==null?0:typeof q=="string"?1:q.length,le=0<ie,le=i(i({},I),{name:le?"".concat(ne,"(virtual-from:").concat(I.name,")"):I.name,lowLevelIndex:I,isVirtual:le,keyTail:ie,keyLength:re,extractKey:Ns(q),unique:!le&&I.unique});return oe.push(le),le.isPrimaryKey||_.push(le),1<re&&R(re===2?q[0]:q.slice(0,re-1),ie+1,I),oe.sort(function(me,ve){return me.keyTail-ve.keyTail}),le}d=R(w.primaryKey.keyPath,0,w.primaryKey),A[":id"]=[d];for(var H=0,$=w.indexes;H<$.length;H++){var Z=$[H];R(Z.keyPath,0,Z)}function ae(q){var ie,I=q.query.index;return I.isVirtual?i(i({},q),{query:{index:I.lowLevelIndex,range:(ie=q.query.range,I=I.keyTail,{type:ie.type===1?2:ie.type,lower:go(ie.lower,ie.lowerOpen?l.MAX_KEY:l.MIN_KEY,I),lowerOpen:!0,upper:go(ie.upper,ie.upperOpen?l.MIN_KEY:l.MAX_KEY,I),upperOpen:!0})}}):q}return i(i({},g),{schema:i(i({},w),{primaryKey:d,indexes:_,getIndexByKeyPath:function(q){return(q=A[fo(q)])&&q[0]}}),count:function(q){return g.count(ae(q))},query:function(q){return g.query(ae(q))},openCursor:function(q){var ie=q.query.index,I=ie.keyTail,ne=ie.isVirtual,oe=ie.keyLength;return ne?g.openCursor(ae(q)).then(function(le){return le&&re(le)}):g.openCursor(q);function re(le){return Object.create(le,{continue:{value:function(me){me!=null?le.continue(go(me,q.reverse?l.MAX_KEY:l.MIN_KEY,I)):q.unique?le.continue(le.key.slice(0,oe).concat(q.reverse?l.MIN_KEY:l.MAX_KEY,I)):le.continue()}},continuePrimaryKey:{value:function(me,ve){le.continuePrimaryKey(go(me,l.MAX_KEY,I),ve)}},primaryKey:{get:function(){return le.primaryKey}},key:{get:function(){var me=le.key;return oe===1?me[0]:me.slice(0,oe)}},value:{get:function(){return le.value}}})}}})}})}};function Ui(l,d,g,w){return g=g||{},w=w||"",m(l).forEach(function(A){var _,R,H;y(d,A)?(_=l[A],R=d[A],typeof _=="object"&&typeof R=="object"&&_&&R?(H=qe(_))!==qe(R)?g[w+A]=d[A]:H==="Object"?Ui(_,R,g,w+A+"."):_!==R&&(g[w+A]=d[A]):_!==R&&(g[w+A]=d[A])):g[w+A]=void 0}),m(d).forEach(function(A){y(l,A)||(g[w+A]=d[A])}),g}function Hs(l,d){return d.type==="delete"?d.keys:d.keys||d.values.map(l.extractKey)}var Gl={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(l){return i(i({},l),{table:function(d){var g=l.table(d),w=g.schema.primaryKey;return i(i({},g),{mutate:function(A){var _=Ve.trans,R=_.table(d).hook,H=R.deleting,$=R.creating,Z=R.updating;switch(A.type){case"add":if($.fire===rt)break;return _._promise("readwrite",function(){return ae(A)},!0);case"put":if($.fire===rt&&Z.fire===rt)break;return _._promise("readwrite",function(){return ae(A)},!0);case"delete":if(H.fire===rt)break;return _._promise("readwrite",function(){return ae(A)},!0);case"deleteRange":if(H.fire===rt)break;return _._promise("readwrite",function(){return(function q(ie,I,ne){return g.query({trans:ie,values:!1,query:{index:w,range:I},limit:ne}).then(function(oe){var re=oe.result;return ae({type:"delete",keys:re,trans:ie}).then(function(le){return 0<le.numFailures?Promise.reject(le.failures[0]):re.length<ne?{failures:[],numFailures:0,lastResult:void 0}:q(ie,i(i({},I),{lower:re[re.length-1],lowerOpen:!0}),ne)})})})(A.trans,A.range,1e4)},!0)}return g.mutate(A);function ae(q){var ie,I,ne,oe=Ve.trans,re=q.keys||Hs(w,q);if(!re)throw new Error("Keys missing");return(q=q.type==="add"||q.type==="put"?i(i({},q),{keys:re}):i({},q)).type!=="delete"&&(q.values=c([],q.values)),q.keys&&(q.keys=c([],q.keys)),ie=g,ne=re,((I=q).type==="add"?Promise.resolve([]):ie.getMany({trans:I.trans,keys:ne,cache:"immutable"})).then(function(le){var me=re.map(function(ve,we){var Be,Re,Ne,ke=le[we],Pe={onerror:null,onsuccess:null};return q.type==="delete"?H.fire.call(Pe,ve,ke,oe):q.type==="add"||ke===void 0?(Be=$.fire.call(Pe,ve,q.values[we],oe),ve==null&&Be!=null&&(q.keys[we]=ve=Be,w.outbound||V(q.values[we],w.keyPath,ve))):(Be=Ui(ke,q.values[we]),(Re=Z.fire.call(Pe,Be,ve,ke,oe))&&(Ne=q.values[we],Object.keys(Re).forEach(function(Ue){y(Ne,Ue)?Ne[Ue]=Re[Ue]:V(Ne,Ue,Re[Ue])}))),Pe});return g.mutate(q).then(function(ve){for(var we=ve.failures,Be=ve.results,Re=ve.numFailures,ve=ve.lastResult,Ne=0;Ne<re.length;++Ne){var ke=(Be||re)[Ne],Pe=me[Ne];ke==null?Pe.onerror&&Pe.onerror(we[Ne]):Pe.onsuccess&&Pe.onsuccess(q.type==="put"&&le[Ne]?q.values[Ne]:ke)}return{failures:we,results:Be,numFailures:Re,lastResult:ve}}).catch(function(ve){return me.forEach(function(we){return we.onerror&&we.onerror(ve)}),Promise.reject(ve)})})}}})}})}};function Ki(l,d,g){try{if(!d||d.keys.length<l.length)return null;for(var w=[],A=0,_=0;A<d.keys.length&&_<l.length;++A)pt(d.keys[A],l[_])===0&&(w.push(g?pe(d.values[A]):d.values[A]),++_);return w.length===l.length?w:null}catch{return null}}var Il={stack:"dbcore",level:-1,create:function(l){return{table:function(d){var g=l.table(d);return i(i({},g),{getMany:function(w){if(!w.cache)return g.getMany(w);var A=Ki(w.keys,w.trans._cache,w.cache==="clone");return A?He.resolve(A):g.getMany(w).then(function(_){return w.trans._cache={keys:w.keys,values:w.cache==="clone"?pe(_):_},_})},mutate:function(w){return w.type!=="add"&&(w.trans._cache=null),g.mutate(w)}})}}}};function Pi(l,d){return l.trans.mode==="readonly"&&!!l.subscr&&!l.trans.explicit&&l.trans.db._options.cache!=="disabled"&&!d.schema.primaryKey.outbound}function Or(l,d){switch(l){case"query":return d.values&&!d.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var s0={stack:"dbcore",level:0,name:"Observability",create:function(l){var d=l.schema.name,g=new Nn(l.MIN_KEY,l.MAX_KEY);return i(i({},l),{transaction:function(w,A,_){if(Ve.subscr&&A!=="readonly")throw new Te.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ve.querier));return l.transaction(w,A,_)},table:function(w){var A=l.table(w),_=A.schema,R=_.primaryKey,q=_.indexes,H=R.extractKey,$=R.outbound,Z=R.autoIncrement&&q.filter(function(I){return I.compound&&I.keyPath.includes(R.keyPath)}),ae=i(i({},A),{mutate:function(I){function ne(Ue){return Ue="idb://".concat(d,"/").concat(w,"/").concat(Ue),ve[Ue]||(ve[Ue]=new Nn)}var oe,re,le,me=I.trans,ve=I.mutatedParts||(I.mutatedParts={}),we=ne(""),Be=ne(":dels"),Re=I.type,Pe=I.type==="deleteRange"?[I.range]:I.type==="delete"?[I.keys]:I.values.length<50?[Hs(R,I).filter(function(Ue){return Ue}),I.values]:[],Ne=Pe[0],ke=Pe[1],Pe=I.trans._cache;return x(Ne)?(we.addKeys(Ne),(Pe=Re==="delete"||Ne.length===ke.length?Ki(Ne,Pe):null)||Be.addKeys(Ne),(Pe||ke)&&(oe=ne,re=Pe,le=ke,_.indexes.forEach(function(Ue){var Le=oe(Ue.name||"");function st(nt){return nt!=null?Ue.extractKey(nt):null}function it(nt){return Ue.multiEntry&&x(nt)?nt.forEach(function(Vt){return Le.addKey(Vt)}):Le.addKey(nt)}(re||le).forEach(function(nt,hn){var ot=re&&st(re[hn]),hn=le&&st(le[hn]);pt(ot,hn)!==0&&(ot!=null&&it(ot),hn!=null&&it(hn))})}))):Ne?(ke={from:(ke=Ne.lower)!==null&&ke!==void 0?ke:l.MIN_KEY,to:(ke=Ne.upper)!==null&&ke!==void 0?ke:l.MAX_KEY},Be.add(ke),we.add(ke)):(we.add(g),Be.add(g),_.indexes.forEach(function(Ue){return ne(Ue.name).add(g)})),A.mutate(I).then(function(Ue){return!Ne||I.type!=="add"&&I.type!=="put"||(we.addKeys(Ue.results),Z&&Z.forEach(function(Le){for(var st=I.values.map(function(ot){return Le.extractKey(ot)}),it=Le.keyPath.findIndex(function(ot){return ot===R.keyPath}),nt=0,Vt=Ue.results.length;nt<Vt;++nt)st[nt][it]=Ue.results[nt];ne(Le.name).addKeys(st)})),me.mutatedParts=ts(me.mutatedParts||{},ve),Ue})}}),q=function(ne){var oe=ne.query,ne=oe.index,oe=oe.range;return[ne,new Nn((ne=oe.lower)!==null&&ne!==void 0?ne:l.MIN_KEY,(oe=oe.upper)!==null&&oe!==void 0?oe:l.MAX_KEY)]},ie={get:function(I){return[R,new Nn(I.key)]},getMany:function(I){return[R,new Nn().addKeys(I.keys)]},count:q,query:q,openCursor:q};return m(ie).forEach(function(I){ae[I]=function(ne){var oe=Ve.subscr,re=!!oe,le=Pi(Ve,A)&&Or(I,ne)?ne.obsSet={}:oe;if(re){var me=function(ke){return ke="idb://".concat(d,"/").concat(w,"/").concat(ke),le[ke]||(le[ke]=new Nn)},ve=me(""),we=me(":dels"),oe=ie[I](ne),re=oe[0],oe=oe[1];if((I==="query"&&re.isPrimaryKey&&!ne.values?we:me(re.name||"")).add(oe),!re.isPrimaryKey){if(I!=="count"){var Be=I==="query"&&$&&ne.values&&A.query(i(i({},ne),{values:!1}));return A[I].apply(this,arguments).then(function(ke){if(I==="query"){if($&&ne.values)return Be.then(function(st){return st=st.result,ve.addKeys(st),ke});var Pe=ne.values?ke.result.map(H):ke.result;(ne.values?ve:we).addKeys(Pe)}else if(I==="openCursor"){var Ue=ke,Le=ne.values;return Ue&&Object.create(Ue,{key:{get:function(){return we.addKey(Ue.primaryKey),Ue.key}},primaryKey:{get:function(){var st=Ue.primaryKey;return we.addKey(st),st}},value:{get:function(){return Le&&ve.addKey(Ue.primaryKey),Ue.value}}})}return ke})}we.add(g)}}return A[I].apply(this,arguments)}}),ae}})}};function Xl(l,d,g){if(g.numFailures===0)return d;if(d.type==="deleteRange")return null;var w=d.keys?d.keys.length:"values"in d&&d.values?d.values.length:1;return g.numFailures===w?null:(d=i({},d),x(d.keys)&&(d.keys=d.keys.filter(function(A,_){return!(_ in g.failures)})),"values"in d&&x(d.values)&&(d.values=d.values.filter(function(A,_){return!(_ in g.failures)})),d)}function Vi(l,d){return g=l,((w=d).lower===void 0||(w.lowerOpen?0<pt(g,w.lower):0<=pt(g,w.lower)))&&(l=l,(d=d).upper===void 0||(d.upperOpen?pt(l,d.upper)<0:pt(l,d.upper)<=0));var g,w}function Yi(l,d,ie,w,A,_){if(!ie||ie.length===0)return l;var R=d.query.index,H=R.multiEntry,$=d.query.range,Z=w.schema.primaryKey.extractKey,ae=R.extractKey,q=(R.lowLevelIndex||R).extractKey,ie=ie.reduce(function(I,ne){var oe=I,re=[];if(ne.type==="add"||ne.type==="put")for(var le=new Nn,me=ne.values.length-1;0<=me;--me){var ve,we=ne.values[me],Be=Z(we);le.hasKey(Be)||(ve=ae(we),(H&&x(ve)?ve.some(function(Ue){return Vi(Ue,$)}):Vi(ve,$))&&(le.addKey(Be),re.push(we)))}switch(ne.type){case"add":var Re=new Nn().addKeys(d.values?I.map(function(Le){return Z(Le)}):I),oe=I.concat(d.values?re.filter(function(Le){return Le=Z(Le),!Re.hasKey(Le)&&(Re.addKey(Le),!0)}):re.map(function(Le){return Z(Le)}).filter(function(Le){return!Re.hasKey(Le)&&(Re.addKey(Le),!0)}));break;case"put":var Ne=new Nn().addKeys(ne.values.map(function(Le){return Z(Le)}));oe=I.filter(function(Le){return!Ne.hasKey(d.values?Z(Le):Le)}).concat(d.values?re:re.map(function(Le){return Z(Le)}));break;case"delete":var ke=new Nn().addKeys(ne.keys);oe=I.filter(function(Le){return!ke.hasKey(d.values?Z(Le):Le)});break;case"deleteRange":var Pe=ne.range;oe=I.filter(function(Le){return!Vi(Z(Le),Pe)})}return oe},l);return ie===l?l:(ie.sort(function(I,ne){return pt(q(I),q(ne))||pt(Z(I),Z(ne))}),d.limit&&d.limit<1/0&&(ie.length>d.limit?ie.length=d.limit:l.length===d.limit&&ie.length<d.limit&&(A.dirty=!0)),_?Object.freeze(ie):ie)}function $i(l,d){return pt(l.lower,d.lower)===0&&pt(l.upper,d.upper)===0&&!!l.lowerOpen==!!d.lowerOpen&&!!l.upperOpen==!!d.upperOpen}function as(l,d){return(function(g,w,A,_){if(g===void 0)return w!==void 0?-1:0;if(w===void 0)return 1;if((w=pt(g,w))===0){if(A&&_)return 0;if(A)return 1;if(_)return-1}return w})(l.lower,d.lower,l.lowerOpen,d.lowerOpen)<=0&&0<=(function(g,w,A,_){if(g===void 0)return w!==void 0?1:0;if(w===void 0)return-1;if((w=pt(g,w))===0){if(A&&_)return 0;if(A)return-1;if(_)return 1}return w})(l.upper,d.upper,l.upperOpen,d.upperOpen)}function rs(l,d,g,w){l.subscribers.add(g),w.addEventListener("abort",function(){var A,_;l.subscribers.delete(g),l.subscribers.size===0&&(A=l,_=d,setTimeout(function(){A.subscribers.size===0&&he(_,A)},3e3))})}var i0={stack:"dbcore",level:0,name:"Cache",create:function(l){var d=l.schema.name;return i(i({},l),{transaction:function(g,w,A){var _,R,H=l.transaction(g,w,A);return w==="readwrite"&&(R=(_=new AbortController).signal,A=function($){return function(){if(_.abort(),w==="readwrite"){for(var Z=new Set,ae=0,q=g;ae<q.length;ae++){var ie=q[ae],I=jr["idb://".concat(d,"/").concat(ie)];if(I){var ne=l.table(ie),oe=I.optimisticOps.filter(function(Le){return Le.trans===H});if(H._explicit&&$&&H.mutatedParts)for(var re=0,le=Object.values(I.queries.query);re<le.length;re++)for(var me=0,ve=(Re=le[re]).slice();me<ve.length;me++)zi((Ne=ve[me]).obsSet,H.mutatedParts)&&(he(Re,Ne),Ne.subscribers.forEach(function(Le){return Z.add(Le)}));else if(0<oe.length){I.optimisticOps=I.optimisticOps.filter(function(Le){return Le.trans!==H});for(var we=0,Be=Object.values(I.queries.query);we<Be.length;we++)for(var Re,Ne,ke,Pe=0,Ue=(Re=Be[we]).slice();Pe<Ue.length;Pe++)(Ne=Ue[Pe]).res!=null&&H.mutatedParts&&($&&!Ne.dirty?(ke=Object.isFrozen(Ne.res),ke=Yi(Ne.res,Ne.req,oe,ne,Ne,ke),Ne.dirty?(he(Re,Ne),Ne.subscribers.forEach(function(Le){return Z.add(Le)})):ke!==Ne.res&&(Ne.res=ke,Ne.promise=He.resolve({result:ke}))):(Ne.dirty&&he(Re,Ne),Ne.subscribers.forEach(function(Le){return Z.add(Le)})))}}}Z.forEach(function(Le){return Le()})}}},H.addEventListener("abort",A(!1),{signal:R}),H.addEventListener("error",A(!1),{signal:R}),H.addEventListener("complete",A(!0),{signal:R})),H},table:function(g){var w=l.table(g),A=w.schema.primaryKey;return i(i({},w),{mutate:function(_){var R=Ve.trans;if(A.outbound||R.db._options.cache==="disabled"||R.explicit||R.idbtrans.mode!=="readwrite")return w.mutate(_);var H=jr["idb://".concat(d,"/").concat(g)];return H?(R=w.mutate(_),_.type!=="add"&&_.type!=="put"||!(50<=_.values.length||Hs(A,_).some(function($){return $==null}))?(H.optimisticOps.push(_),_.mutatedParts&&Ls(_.mutatedParts),R.then(function($){0<$.numFailures&&(he(H.optimisticOps,_),($=Xl(0,_,$))&&H.optimisticOps.push($),_.mutatedParts&&Ls(_.mutatedParts))}),R.catch(function(){he(H.optimisticOps,_),_.mutatedParts&&Ls(_.mutatedParts)})):R.then(function($){var Z=Xl(0,i(i({},_),{values:_.values.map(function(ae,q){var ie;return $.failures[q]?ae:(ae=(ie=A.keyPath)!==null&&ie!==void 0&&ie.includes(".")?pe(ae):i({},ae),V(ae,A.keyPath,$.results[q]),ae)})}),$);H.optimisticOps.push(Z),queueMicrotask(function(){return _.mutatedParts&&Ls(_.mutatedParts)})}),R):w.mutate(_)},query:function(_){if(!Pi(Ve,w)||!Or("query",_))return w.query(_);var R=((Z=Ve.trans)===null||Z===void 0?void 0:Z.db._options.cache)==="immutable",q=Ve,H=q.requery,$=q.signal,Z=(function(ne,oe,re,le){var me=jr["idb://".concat(ne,"/").concat(oe)];if(!me)return[];if(!(oe=me.queries[re]))return[null,!1,me,null];var ve=oe[(le.query?le.query.index.name:null)||""];if(!ve)return[null,!1,me,null];switch(re){case"query":var we=ve.find(function(Be){return Be.req.limit===le.limit&&Be.req.values===le.values&&$i(Be.req.query.range,le.query.range)});return we?[we,!0,me,ve]:[ve.find(function(Be){return("limit"in Be.req?Be.req.limit:1/0)>=le.limit&&(!le.values||Be.req.values)&&as(Be.req.query.range,le.query.range)}),!1,me,ve];case"count":return we=ve.find(function(Be){return $i(Be.req.query.range,le.query.range)}),[we,!!we,me,ve]}})(d,g,"query",_),ae=Z[0],q=Z[1],ie=Z[2],I=Z[3];return ae&&q?ae.obsSet=_.obsSet:(q=w.query(_).then(function(ne){var oe=ne.result;if(ae&&(ae.res=oe),R){for(var re=0,le=oe.length;re<le;++re)Object.freeze(oe[re]);Object.freeze(oe)}else ne.result=pe(oe);return ne}).catch(function(ne){return I&&ae&&he(I,ae),Promise.reject(ne)}),ae={obsSet:_.obsSet,promise:q,subscribers:new Set,type:"query",req:_,dirty:!1},I?I.push(ae):(I=[ae],(ie=ie||(jr["idb://".concat(d,"/").concat(g)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[_.query.index.name||""]=I)),rs(ae,I,H,$),ae.promise.then(function(ne){return{result:Yi(ne.result,_,ie?.optimisticOps,w,ae,R)}})}})}})}};function Mr(l,d){return new Proxy(l,{get:function(g,w,A){return w==="db"?d:Reflect.get(g,w,A)}})}var La=(Qt.prototype.version=function(l){if(isNaN(l)||l<.1)throw new Te.Type("Given version is not a positive number");if(l=Math.round(10*l)/10,this.idbdb||this._state.isBeingOpened)throw new Te.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,l);var d=this._versions,g=d.filter(function(w){return w._cfg.version===l})[0];return g||(g=new this.Version(l),d.push(g),d.sort(ki),g.stores({}),this._state.autoSchema=!1,g)},Qt.prototype._whenReady=function(l){var d=this;return this.idbdb&&(this._state.openComplete||Ve.letThrough||this._vip)?l():new He(function(g,w){if(d._state.openComplete)return w(new Te.DatabaseClosed(d._state.dbOpenError));if(!d._state.isBeingOpened){if(!d._state.autoOpen)return void w(new Te.DatabaseClosed);d.open().catch(rt)}d._state.dbReadyPromise.then(g,w)}).then(l)},Qt.prototype.use=function(l){var d=l.stack,g=l.create,w=l.level,A=l.name;return A&&this.unuse({stack:d,name:A}),l=this._middlewares[d]||(this._middlewares[d]=[]),l.push({stack:d,create:g,level:w??10,name:A}),l.sort(function(_,R){return _.level-R.level}),this},Qt.prototype.unuse=function(l){var d=l.stack,g=l.name,w=l.create;return d&&this._middlewares[d]&&(this._middlewares[d]=this._middlewares[d].filter(function(A){return w?A.create!==w:!!g&&A.name!==g})),this},Qt.prototype.open=function(){var l=this;return Sa(en,function(){return o0(l)})},Qt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var l=this._state,d=Sr.indexOf(this);if(0<=d&&Sr.splice(d,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}l.isBeingOpened||(l.dbReadyPromise=new He(function(g){l.dbReadyResolve=g}),l.openCanceller=new He(function(g,w){l.cancelOpen=w}))},Qt.prototype.close=function(g){var d=(g===void 0?{disableAutoOpen:!0}:g).disableAutoOpen,g=this._state;d?(g.isBeingOpened&&g.cancelOpen(new Te.DatabaseClosed),this._close(),g.autoOpen=!1,g.dbOpenError=new Te.DatabaseClosed):(this._close(),g.autoOpen=this._options.autoOpen||g.isBeingOpened,g.openComplete=!1,g.dbOpenError=null)},Qt.prototype.delete=function(l){var d=this;l===void 0&&(l={disableAutoOpen:!0});var g=0<arguments.length&&typeof arguments[0]!="object",w=this._state;return new He(function(A,_){function R(){d.close(l);var H=d._deps.indexedDB.deleteDatabase(d.name);H.onsuccess=et(function(){var $,Z,ae;$=d._deps,Z=d.name,ae=$.indexedDB,$=$.IDBKeyRange,Mi(ae)||Z===Go||Oi(ae,$).delete(Z).catch(rt),A()}),H.onerror=Fn(_),H.onblocked=d._fireOnBlocked}if(g)throw new Te.InvalidArgument("Invalid closeOptions argument to db.delete()");w.isBeingOpened?w.dbReadyPromise.then(R):R()})},Qt.prototype.backendDB=function(){return this.idbdb},Qt.prototype.isOpen=function(){return this.idbdb!==null},Qt.prototype.hasBeenClosed=function(){var l=this._state.dbOpenError;return l&&l.name==="DatabaseClosed"},Qt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Qt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Qt.prototype,"tables",{get:function(){var l=this;return m(this._allTables).map(function(d){return l._allTables[d]})},enumerable:!1,configurable:!0}),Qt.prototype.transaction=function(){var l=(function(d,g,w){var A=arguments.length;if(A<2)throw new Te.InvalidArgument("Too few arguments");for(var _=new Array(A-1);--A;)_[A-1]=arguments[A];return w=_.pop(),[d,ee(_),w]}).apply(this,arguments);return this._transaction.apply(this,l)},Qt.prototype._transaction=function(l,d,g){var w=this,A=Ve.trans;A&&A.db===this&&l.indexOf("!")===-1||(A=null);var _,R,H=l.indexOf("?")!==-1;l=l.replace("!","").replace("?","");try{if(R=d.map(function(Z){if(Z=Z instanceof w.Table?Z.name:Z,typeof Z!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Z}),l=="r"||l===Ja)_=Ja;else{if(l!="rw"&&l!=cr)throw new Te.InvalidArgument("Invalid transaction mode: "+l);_=cr}if(A){if(A.mode===Ja&&_===cr){if(!H)throw new Te.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");A=null}A&&R.forEach(function(Z){if(A&&A.storeNames.indexOf(Z)===-1){if(!H)throw new Te.SubTransaction("Table "+Z+" not included in parent transaction.");A=null}}),H&&A&&!A.active&&(A=null)}}catch(Z){return A?A._promise(null,function(ae,q){q(Z)}):Rt(Z)}var $=(function Z(ae,q,ie,I,ne){return He.resolve().then(function(){var oe=Ve.transless||Ve,re=ae._createTransaction(q,ie,ae._dbSchema,I);if(re.explicit=!0,oe={trans:re,transless:oe},I)re.idbtrans=I.idbtrans;else try{re.create(),re.idbtrans._explicit=!0,ae._state.PR1398_maxLoop=3}catch(ve){return ve.name===Ye.InvalidState&&ae.isOpen()&&0<--ae._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),ae.close({disableAutoOpen:!1}),ae.open().then(function(){return Z(ae,q,ie,null,ne)})):Rt(ve)}var le,me=N(ne);return me&&dn(),oe=He.follow(function(){var ve;(le=ne.call(re,re))&&(me?(ve=ra.bind(null,null),le.then(ve,ve)):typeof le.next=="function"&&typeof le.throw=="function"&&(le=qi(le)))},oe),(le&&typeof le.then=="function"?He.resolve(le).then(function(ve){return re.active?ve:Rt(new Te.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):oe.then(function(){return le})).then(function(ve){return I&&re._resolve(),re._completion.then(function(){return ve})}).catch(function(ve){return re._reject(ve),Rt(ve)})})}).bind(null,this,_,R,A,g);return A?A._promise(_,$,"lock"):Ve.trans?Sa(Ve.transless,function(){return w._whenReady($)}):this._whenReady($)},Qt.prototype.table=function(l){if(!y(this._allTables,l))throw new Te.InvalidTable("Table ".concat(l," does not exist"));return this._allTables[l]},Qt);function Qt(l,d){var g=this;this._middlewares={},this.verno=0;var w=Qt.dependencies;this._options=d=i({addons:Qt.addons,autoOpen:!0,indexedDB:w.indexedDB,IDBKeyRange:w.IDBKeyRange,cache:"cloned"},d),this._deps={indexedDB:d.indexedDB,IDBKeyRange:d.IDBKeyRange},w=d.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var A,_,R,H,$,Z={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:rt,dbReadyPromise:null,cancelOpen:rt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:d.autoOpen};Z.dbReadyPromise=new He(function(q){Z.dbReadyResolve=q}),Z.openCanceller=new He(function(q,ie){Z.cancelOpen=ie}),this._state=Z,this.name=l,this.on=Cr(this,"populate","blocked","versionchange","close",{ready:[na,rt]}),this.once=function(q,ie){var I=function(){for(var ne=[],oe=0;oe<arguments.length;oe++)ne[oe]=arguments[oe];g.on(q).unsubscribe(I),ie.apply(g,ne)};return g.on(q,I)},this.on.ready.subscribe=M(this.on.ready.subscribe,function(q){return function(ie,I){Qt.vip(function(){var ne,oe=g._state;oe.openComplete?(oe.dbOpenError||He.resolve().then(ie),I&&q(ie)):oe.onReadyBeingFired?(oe.onReadyBeingFired.push(ie),I&&q(ie)):(q(ie),ne=g,I||q(function re(){ne.on.ready.unsubscribe(ie),ne.on.ready.unsubscribe(re)}))})}}),this.Collection=(A=this,ro(lo.prototype,function(le,re){this.db=A;var I=Si,ne=null;if(re)try{I=re()}catch(me){ne=me}var oe=le._ctx,re=oe.table,le=re.hook.reading.fire;this._ctx={table:re,index:oe.index,isPrimKey:!oe.index||re.schema.primKey.keyPath&&oe.index===re.schema.primKey.name,range:I,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:ne,or:oe.or,valueMapper:le!==rn?le:null}})),this.Table=(_=this,ro(Ai.prototype,function(q,ie,I){this.db=_,this._tx=I,this.name=q,this.schema=ie,this.hook=_._allTables[q]?_._allTables[q].hook:Cr(null,{creating:[la,rt],reading:[qt,rn],updating:[ba,rt],deleting:[ca,rt]})})),this.Transaction=(R=this,ro(tr.prototype,function(q,ie,I,ne,oe){var re=this;q!=="readonly"&&ie.forEach(function(le){le=(le=I[le])===null||le===void 0?void 0:le.yProps,le&&(ie=ie.concat(le.map(function(me){return me.updatesTable})))}),this.db=R,this.mode=q,this.storeNames=ie,this.schema=I,this.chromeTransactionDurability=ne,this.idbtrans=null,this.on=Cr(this,"complete","error","abort"),this.parent=oe||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new He(function(le,me){re._resolve=le,re._reject=me}),this._completion.then(function(){re.active=!1,re.on.complete.fire()},function(le){var me=re.active;return re.active=!1,re.on.error.fire(le),re.parent?re.parent._reject(le):me&&re.idbtrans&&re.idbtrans.abort(),Rt(le)})})),this.Version=(H=this,ro(r0.prototype,function(q){this.db=H,this._cfg={version:q,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=($=this,ro(Bs.prototype,function(q,ie,I){if(this.db=$,this._ctx={table:q,index:ie===":id"?null:ie,or:I},this._cmp=this._ascending=pt,this._descending=function(ne,oe){return pt(oe,ne)},this._max=function(ne,oe){return 0<pt(ne,oe)?ne:oe},this._min=function(ne,oe){return pt(ne,oe)<0?ne:oe},this._IDBKeyRange=$._deps.IDBKeyRange,!this._IDBKeyRange)throw new Te.MissingAPI})),this.on("versionchange",function(q){0<q.newVersion?console.warn("Another connection wants to upgrade database '".concat(g.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(g.name,"'. Closing db now to resume the delete request.")),g.close({disableAutoOpen:!1})}),this.on("blocked",function(q){!q.newVersion||q.newVersion<q.oldVersion?console.warn("Dexie.delete('".concat(g.name,"') was blocked")):console.warn("Upgrade '".concat(g.name,"' blocked by other connection holding version ").concat(q.oldVersion/10))}),this._maxKey=ur(d.IDBKeyRange),this._createTransaction=function(q,ie,I,ne){return new g.Transaction(q,ie,I,g._options.chromeTransactionDurability,ne)},this._fireOnBlocked=function(q){g.on("blocked").fire(q),Sr.filter(function(ie){return ie.name===g.name&&ie!==g&&!ie._state.vcFired}).map(function(ie){return ie.on("versionchange").fire(q)})},this.use(Il),this.use(i0),this.use(s0),this.use(ns),this.use(Gl);var ae=new Proxy(this,{get:function(q,ie,I){if(ie==="_vip")return!0;if(ie==="table")return function(oe){return Mr(g.table(oe),ae)};var ne=Reflect.get(q,ie,I);return ne instanceof Ai?Mr(ne,ae):ie==="tables"?ne.map(function(oe){return Mr(oe,ae)}):ie==="_createTransaction"?function(){return Mr(ne.apply(this,arguments),ae)}:ne}});this.vip=ae,w.forEach(function(q){return q(g)})}var xo,Wn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Ql=(qs.prototype.subscribe=function(l,d,g){return this._subscribe(l&&typeof l!="function"?l:{next:l,error:d,complete:g})},qs.prototype[Wn]=function(){return this},qs);function qs(l){this._subscribe=l}try{xo={indexedDB:h.indexedDB||h.mozIndexedDB||h.webkitIndexedDB||h.msIndexedDB,IDBKeyRange:h.IDBKeyRange||h.webkitIDBKeyRange}}catch{xo={indexedDB:null,IDBKeyRange:null}}function Gi(l){var d,g=!1,w=new Ql(function(A){var _=N(l),R,H=!1,$={},Z={},ae={get closed(){return H},unsubscribe:function(){H||(H=!0,R&&R.abort(),q&&fa.storagemutated.unsubscribe(I))}};A.start&&A.start(ae);var q=!1,ie=function(){return lr(ne)},I=function(oe){ts($,oe),zi(Z,$)&&ie()},ne=function(){var oe,re,le;!H&&xo.indexedDB&&($={},oe={},R&&R.abort(),R=new AbortController,le=(function(me){var ve=Rn();try{_&&dn();var we=Pt(l,me);return we=_?we.finally(ra):we}finally{ve&&Ct()}})(re={subscr:oe,signal:R.signal,requery:ie,querier:l,trans:null}),Promise.resolve(le).then(function(me){g=!0,d=me,H||re.signal.aborted||($={},(function(ve){for(var we in ve)if(y(ve,we))return;return 1})(Z=oe)||q||(fa(Br,I),q=!0),lr(function(){return!H&&A.next&&A.next(me)}))},function(me){g=!1,["DatabaseClosedError","AbortError"].includes(me?.name)||H||lr(function(){H||A.error&&A.error(me)})}))};return setTimeout(ie,0),ae});return w.hasValue=function(){return g},w.getValue=function(){return d},w}var Rr=La;function Ii(l){var d=fr;try{fr=!0,fa.storagemutated.fire(l),Hi(l,!0)}finally{fr=d}}C(Rr,i(i({},an),{delete:function(l){return new Rr(l,{addons:[]}).delete()},exists:function(l){return new Rr(l,{addons:[]}).open().then(function(d){return d.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(l){try{return d=Rr.dependencies,g=d.indexedDB,d=d.IDBKeyRange,(Mi(g)?Promise.resolve(g.databases()).then(function(w){return w.map(function(A){return A.name}).filter(function(A){return A!==Go})}):Oi(g,d).toCollection().primaryKeys()).then(l)}catch{return Rt(new Te.MissingAPI)}var d,g},defineClass:function(){return function(l){v(this,l)}},ignoreTransaction:function(l){return Ve.trans?Sa(Ve.transless,l):l()},vip:Rs,async:function(l){return function(){try{var d=qi(l.apply(this,arguments));return d&&typeof d.then=="function"?d:He.resolve(d)}catch(g){return Rt(g)}}},spawn:function(l,d,g){try{var w=qi(l.apply(g,d||[]));return w&&typeof w.then=="function"?w:He.resolve(w)}catch(A){return Rt(A)}},currentTransaction:{get:function(){return Ve.trans||null}},waitFor:function(l,d){return d=He.resolve(typeof l=="function"?Rr.ignoreTransaction(l):l).timeout(d||6e4),Ve.trans?Ve.trans.waitFor(d):d},Promise:He,debug:{get:function(){return Mt},set:function(l){Tt(l)}},derive:j,extend:v,props:C,override:M,Events:Cr,on:fa,liveQuery:Gi,extendObservabilitySet:ts,getByKeyPath:G,setByKeyPath:V,delByKeyPath:function(l,d){typeof d=="string"?V(l,d,void 0):"length"in d&&[].map.call(d,function(g){V(l,g,void 0)})},shallowClone:J,deepClone:pe,getObjectDiff:Ui,cmp:pt,asap:te,minKey:-1/0,addons:[],connections:Sr,errnames:Ye,dependencies:xo,cache:jr,semVer:"4.2.0",version:"4.2.0".split(".").map(function(l){return parseInt(l)}).reduce(function(l,d,g){return l+d/Math.pow(10,2*g)})})),Rr.maxKey=ur(Rr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(fa(Br,function(l){fr||(l=new CustomEvent(Ts,{detail:l}),fr=!0,dispatchEvent(l),fr=!1)}),addEventListener(Ts,function(l){l=l.detail,fr||Ii(l)}));var yo,fr=!1,Zl=function(){};return typeof BroadcastChannel<"u"&&((Zl=function(){(yo=new BroadcastChannel(Ts)).onmessage=function(l){return l.data&&Ii(l.data)}})(),typeof yo.unref=="function"&&yo.unref(),fa(Br,function(l){fr||yo.postMessage(l)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(l){if(!La.disableBfCache&&l.persisted){Mt&&console.debug("Dexie: handling persisted pagehide"),yo?.close();for(var d=0,g=Sr;d<g.length;d++)g[d].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(l){!La.disableBfCache&&l.persisted&&(Mt&&console.debug("Dexie: handling persisted pageshow"),Zl(),Ii({all:new Nn(-1/0,[[]])}))})),He.rejectionMapper=function(l,d){return!l||l instanceof U||l instanceof TypeError||l instanceof SyntaxError||!l.name||!Yt[l.name]?l:(d=new Yt[l.name](d||l.message,l),"stack"in l&&B(d,"stack",{get:function(){return this.inner.stack}}),d)},Tt(Mt),i(La,Object.freeze({__proto__:null,Dexie:La,liveQuery:Gi,Entity:ql,cmp:pt,PropModification:io,replacePrefix:function(l,d){return new io({replacePrefix:[l,d]})},add:function(l){return new io({add:l})},remove:function(l){return new io({remove:l})},default:La,RangeSet:Nn,mergeRanges:es,rangesOverlap:zs}),{default:La}),La})})(su)),su.exports}var O1=j1();const Ef=Df(O1),bg=Symbol.for("Dexie"),vi=globalThis[bg]||(globalThis[bg]=Ef);if(Ef.semVer!==vi.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Ef.semVer} and ${vi.semVer}`);const{liveQuery:bE,mergeRanges:wE,rangesOverlap:EE,RangeSet:SE,cmp:AE,Entity:CE,PropModification:_E,replacePrefix:DE,add:BE,remove:TE,DexieYProvider:NE}=vi,Hx="__SYSTEM_INITIAL_STATE__";class M1 extends vi{saves;settings;constructor(a){super(`${a}-gamedb`),this.version(1).stores({saves:"++id, name, timestamp",settings:"++id, &key, timestamp"}),this.version(2).stores({saves:"++id, name, timestamp, isSystemSave",settings:"++id, &key, timestamp"})}}const tf=new Map;function R1(o){if(!tf.has(o)){const a=new M1(o);tf.set(o,a)}return tf.get(o)}function z1(){return R1(Er().gameId)}const Qa=z1();async function F1(o,a,s,i){const c=await Qa.saves.add({name:`${o}`,gameData:a,timestamp:new Date,version:Er().gameVersion,description:String(s),screenshot:String(i)});if(c===void 0)throw new Error("Failed to save game");return c}async function qx(o){return Qa.saves.where({name:`${o}`}).first()}async function L1(){return Qa.saves.filter(o=>!o.isSystemSave).toArray()}async function H1(o){await Qa.saves.where({name:`${o}`}).delete()}async function q1(o,a){const s=await Qa.settings.where("key").equals(o).first();if(s)return await Qa.settings.update(s.id,{value:a,timestamp:new Date,version:Er().gameVersion}),s.id;{const i=await Qa.settings.add({key:o,value:a,timestamp:new Date,version:Er().gameVersion});if(i===void 0)throw new Error("Failed to create setting");return i}}async function U1(o,a){const s=await Qa.settings.where("key").equals(o).first();return s?s.value:a}async function Ux(){return Qa.saves.where("name").equals(Hx).first()}async function K1(o){const a=await Ux();if(a?.id)return await Qa.saves.update(a.id,{gameData:o,timestamp:new Date,version:Er().gameVersion}),a.id;{const s=await Qa.saves.add({name:Hx,gameData:o,timestamp:new Date,version:Er().gameVersion,isSystemSave:!0});if(s===void 0)throw new Error("Failed to create system save");return s}}function P1(o="passages"){const{t:a,i18n:s}=Zu(o),i=async m=>{await s.changeLanguage(m),await q1("language",m)},c=s.options.supportedLngs||[],h=s.options.debug?c:c.filter(m=>m!=="cimode");return{t:a,changeLanguage:i,currentLanguage:s.language,languages:h}}const V1="modulepreload",Y1=function(o,a){return new URL(o,a).href},wg={},$1=function(a,s,i){let c=Promise.resolve();if(s&&s.length>0){let p=function(b){return Promise.all(b.map(y=>Promise.resolve(y).then(C=>({status:"fulfilled",value:C}),C=>({status:"rejected",reason:C}))))};const m=document.getElementsByTagName("link"),x=document.querySelector("meta[property=csp-nonce]"),v=x?.nonce||x?.getAttribute("nonce");c=p(s.map(b=>{if(b=Y1(b,i),b in wg)return;wg[b]=!0;const y=b.endsWith(".css"),C=y?'[rel="stylesheet"]':"";if(i)for(let B=m.length-1;B>=0;B--){const j=m[B];if(j.href===b&&(!y||j.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${b}"]${C}`))return;const D=document.createElement("link");if(D.rel=y?"stylesheet":V1,y||(D.as="script"),D.crossOrigin="",D.href=b,v&&D.setAttribute("nonce",v),document.head.appendChild(D),y)return new Promise((B,j)=>{D.addEventListener("load",B),D.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${b}`)))})}))}function h(m){const x=new Event("vite:preloadError",{cancelable:!0});if(x.payload=m,window.dispatchEvent(x),!x.defaultPrevented)throw m}return c.then(m=>{for(const x of m||[])x.status==="rejected"&&h(x.reason);return a().catch(h)})};async function G1(){try{const{uiTranslations:o}=await $1(async()=>{const{uiTranslations:a}=await import("./index-_X-rlsZz.js");return{uiTranslations:a}},[],import.meta.url);return o}catch{return{}}}async function I1(o){const{defaultLanguage:a="en",fallbackLanguage:s="en",debug:i=!1,resources:c,modules:h=[]}=o||Tx,m=await G1();Object.keys(m).length===0?Ie.log("UI translations not found."):Ie.log("UI translations loaded successfully.");const x={};for(const[y,C]of Object.entries(c||{}))x[y]={...m[y]||{},...C};for(const[y,C]of Object.entries(m))x[y]||(x[y]=C);const v=await U1("language",a);Ie.log(`Saved language: ${v}`);const p=Object.keys(x);let b=Vn.use(_1);h.forEach(y=>{b=b.use(y)}),await b.init({lng:v,fallbackLng:s,supportedLngs:p,defaultNS:"common",debug:i,resources:x,interpolation:{escapeValue:!1}}),Ie.log(`i18n initialized with language: ${Vn.language}, fallback: ${s}, supported languages: ${p.join(", ")}`)}const X1=()=>async o=>{try{await H1(o)}catch(a){return Ie.error("Failed to delete save:",a),{success:!1,message:a.message||"Failed to delete save. Check console for more info."}}};var iu={exports:{}};function Q1(o){throw new Error('Could not dynamically require "'+o+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var lu={exports:{}};const Z1=Rv(_x);var W1=lu.exports,Eg;function St(){return Eg||(Eg=1,(function(o,a){(function(s,i){o.exports=i()})(W1,function(){var s=s||(function(i,c){var h;if(typeof window<"u"&&window.crypto&&(h=window.crypto),typeof self<"u"&&self.crypto&&(h=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(h=globalThis.crypto),!h&&typeof window<"u"&&window.msCrypto&&(h=window.msCrypto),!h&&typeof ru<"u"&&ru.crypto&&(h=ru.crypto),!h&&typeof Q1=="function")try{h=Z1}catch{}var m=function(){if(h){if(typeof h.getRandomValues=="function")try{return h.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof h.randomBytes=="function")try{return h.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},x=Object.create||(function(){function k(){}return function(M){var z;return k.prototype=M,z=new k,k.prototype=null,z}})(),v={},p=v.lib={},b=p.Base=(function(){return{extend:function(k){var M=x(this);return k&&M.mixIn(k),(!M.hasOwnProperty("init")||this.init===M.init)&&(M.init=function(){M.$super.init.apply(this,arguments)}),M.init.prototype=M,M.$super=this,M},create:function(){var k=this.extend();return k.init.apply(k,arguments),k},init:function(){},mixIn:function(k){for(var M in k)k.hasOwnProperty(M)&&(this[M]=k[M]);k.hasOwnProperty("toString")&&(this.toString=k.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),y=p.WordArray=b.extend({init:function(k,M){k=this.words=k||[],M!=c?this.sigBytes=M:this.sigBytes=k.length*4},toString:function(k){return(k||D).stringify(this)},concat:function(k){var M=this.words,z=k.words,te=this.sigBytes,G=k.sigBytes;if(this.clamp(),te%4)for(var V=0;V<G;V++){var J=z[V>>>2]>>>24-V%4*8&255;M[te+V>>>2]|=J<<24-(te+V)%4*8}else for(var Se=0;Se<G;Se+=4)M[te+Se>>>2]=z[Se>>>2];return this.sigBytes+=G,this},clamp:function(){var k=this.words,M=this.sigBytes;k[M>>>2]&=4294967295<<32-M%4*8,k.length=i.ceil(M/4)},clone:function(){var k=b.clone.call(this);return k.words=this.words.slice(0),k},random:function(k){for(var M=[],z=0;z<k;z+=4)M.push(m());return new y.init(M,k)}}),C=v.enc={},D=C.Hex={stringify:function(k){for(var M=k.words,z=k.sigBytes,te=[],G=0;G<z;G++){var V=M[G>>>2]>>>24-G%4*8&255;te.push((V>>>4).toString(16)),te.push((V&15).toString(16))}return te.join("")},parse:function(k){for(var M=k.length,z=[],te=0;te<M;te+=2)z[te>>>3]|=parseInt(k.substr(te,2),16)<<24-te%8*4;return new y.init(z,M/2)}},B=C.Latin1={stringify:function(k){for(var M=k.words,z=k.sigBytes,te=[],G=0;G<z;G++){var V=M[G>>>2]>>>24-G%4*8&255;te.push(String.fromCharCode(V))}return te.join("")},parse:function(k){for(var M=k.length,z=[],te=0;te<M;te++)z[te>>>2]|=(k.charCodeAt(te)&255)<<24-te%4*8;return new y.init(z,M)}},j=C.Utf8={stringify:function(k){try{return decodeURIComponent(escape(B.stringify(k)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(k){return B.parse(unescape(encodeURIComponent(k)))}},O=p.BufferedBlockAlgorithm=b.extend({reset:function(){this._data=new y.init,this._nDataBytes=0},_append:function(k){typeof k=="string"&&(k=j.parse(k)),this._data.concat(k),this._nDataBytes+=k.sigBytes},_process:function(k){var M,z=this._data,te=z.words,G=z.sigBytes,V=this.blockSize,J=V*4,Se=G/J;k?Se=i.ceil(Se):Se=i.max((Se|0)-this._minBufferSize,0);var ee=Se*V,ce=i.min(ee*4,G);if(ee){for(var ye=0;ye<ee;ye+=V)this._doProcessBlock(te,ye);M=te.splice(0,ee),z.sigBytes-=ce}return new y.init(M,ce)},clone:function(){var k=b.clone.call(this);return k._data=this._data.clone(),k},_minBufferSize:0});p.Hasher=O.extend({cfg:b.extend(),init:function(k){this.cfg=this.cfg.extend(k),this.reset()},reset:function(){O.reset.call(this),this._doReset()},update:function(k){return this._append(k),this._process(),this},finalize:function(k){k&&this._append(k);var M=this._doFinalize();return M},blockSize:16,_createHelper:function(k){return function(M,z){return new k.init(z).finalize(M)}},_createHmacHelper:function(k){return function(M,z){return new F.HMAC.init(k,z).finalize(M)}}});var F=v.algo={};return v})(Math);return s})})(lu)),lu.exports}var cu={exports:{}},J1=cu.exports,Sg;function Wu(){return Sg||(Sg=1,(function(o,a){(function(s,i){o.exports=i(St())})(J1,function(s){return(function(i){var c=s,h=c.lib,m=h.Base,x=h.WordArray,v=c.x64={};v.Word=m.extend({init:function(p,b){this.high=p,this.low=b}}),v.WordArray=m.extend({init:function(p,b){p=this.words=p||[],b!=i?this.sigBytes=b:this.sigBytes=p.length*8},toX32:function(){for(var p=this.words,b=p.length,y=[],C=0;C<b;C++){var D=p[C];y.push(D.high),y.push(D.low)}return x.create(y,this.sigBytes)},clone:function(){for(var p=m.clone.call(this),b=p.words=this.words.slice(0),y=b.length,C=0;C<y;C++)b[C]=b[C].clone();return p}})})(),s})})(cu)),cu.exports}var uu={exports:{}},e2=uu.exports,Ag;function t2(){return Ag||(Ag=1,(function(o,a){(function(s,i){o.exports=i(St())})(e2,function(s){return(function(){if(typeof ArrayBuffer=="function"){var i=s,c=i.lib,h=c.WordArray,m=h.init,x=h.init=function(v){if(v instanceof ArrayBuffer&&(v=new Uint8Array(v)),(v instanceof Int8Array||typeof Uint8ClampedArray<"u"&&v instanceof Uint8ClampedArray||v instanceof Int16Array||v instanceof Uint16Array||v instanceof Int32Array||v instanceof Uint32Array||v instanceof Float32Array||v instanceof Float64Array)&&(v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength)),v instanceof Uint8Array){for(var p=v.byteLength,b=[],y=0;y<p;y++)b[y>>>2]|=v[y]<<24-y%4*8;m.call(this,b,p)}else m.apply(this,arguments)};x.prototype=h}})(),s.lib.WordArray})})(uu)),uu.exports}var du={exports:{}},n2=du.exports,Cg;function a2(){return Cg||(Cg=1,(function(o,a){(function(s,i){o.exports=i(St())})(n2,function(s){return(function(){var i=s,c=i.lib,h=c.WordArray,m=i.enc;m.Utf16=m.Utf16BE={stringify:function(v){for(var p=v.words,b=v.sigBytes,y=[],C=0;C<b;C+=2){var D=p[C>>>2]>>>16-C%4*8&65535;y.push(String.fromCharCode(D))}return y.join("")},parse:function(v){for(var p=v.length,b=[],y=0;y<p;y++)b[y>>>1]|=v.charCodeAt(y)<<16-y%2*16;return h.create(b,p*2)}},m.Utf16LE={stringify:function(v){for(var p=v.words,b=v.sigBytes,y=[],C=0;C<b;C+=2){var D=x(p[C>>>2]>>>16-C%4*8&65535);y.push(String.fromCharCode(D))}return y.join("")},parse:function(v){for(var p=v.length,b=[],y=0;y<p;y++)b[y>>>1]|=x(v.charCodeAt(y)<<16-y%2*16);return h.create(b,p*2)}};function x(v){return v<<8&4278255360|v>>>8&16711935}})(),s.enc.Utf16})})(du)),du.exports}var fu={exports:{}},r2=fu.exports,_g;function As(){return _g||(_g=1,(function(o,a){(function(s,i){o.exports=i(St())})(r2,function(s){return(function(){var i=s,c=i.lib,h=c.WordArray,m=i.enc;m.Base64={stringify:function(v){var p=v.words,b=v.sigBytes,y=this._map;v.clamp();for(var C=[],D=0;D<b;D+=3)for(var B=p[D>>>2]>>>24-D%4*8&255,j=p[D+1>>>2]>>>24-(D+1)%4*8&255,O=p[D+2>>>2]>>>24-(D+2)%4*8&255,F=B<<16|j<<8|O,k=0;k<4&&D+k*.75<b;k++)C.push(y.charAt(F>>>6*(3-k)&63));var M=y.charAt(64);if(M)for(;C.length%4;)C.push(M);return C.join("")},parse:function(v){var p=v.length,b=this._map,y=this._reverseMap;if(!y){y=this._reverseMap=[];for(var C=0;C<b.length;C++)y[b.charCodeAt(C)]=C}var D=b.charAt(64);if(D){var B=v.indexOf(D);B!==-1&&(p=B)}return x(v,p,y)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function x(v,p,b){for(var y=[],C=0,D=0;D<p;D++)if(D%4){var B=b[v.charCodeAt(D-1)]<<D%4*2,j=b[v.charCodeAt(D)]>>>6-D%4*2,O=B|j;y[C>>>2]|=O<<24-C%4*8,C++}return h.create(y,C)}})(),s.enc.Base64})})(fu)),fu.exports}var hu={exports:{}},o2=hu.exports,Dg;function s2(){return Dg||(Dg=1,(function(o,a){(function(s,i){o.exports=i(St())})(o2,function(s){return(function(){var i=s,c=i.lib,h=c.WordArray,m=i.enc;m.Base64url={stringify:function(v,p){p===void 0&&(p=!0);var b=v.words,y=v.sigBytes,C=p?this._safe_map:this._map;v.clamp();for(var D=[],B=0;B<y;B+=3)for(var j=b[B>>>2]>>>24-B%4*8&255,O=b[B+1>>>2]>>>24-(B+1)%4*8&255,F=b[B+2>>>2]>>>24-(B+2)%4*8&255,k=j<<16|O<<8|F,M=0;M<4&&B+M*.75<y;M++)D.push(C.charAt(k>>>6*(3-M)&63));var z=C.charAt(64);if(z)for(;D.length%4;)D.push(z);return D.join("")},parse:function(v,p){p===void 0&&(p=!0);var b=v.length,y=p?this._safe_map:this._map,C=this._reverseMap;if(!C){C=this._reverseMap=[];for(var D=0;D<y.length;D++)C[y.charCodeAt(D)]=D}var B=y.charAt(64);if(B){var j=v.indexOf(B);j!==-1&&(b=j)}return x(v,b,C)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function x(v,p,b){for(var y=[],C=0,D=0;D<p;D++)if(D%4){var B=b[v.charCodeAt(D-1)]<<D%4*2,j=b[v.charCodeAt(D)]>>>6-D%4*2,O=B|j;y[C>>>2]|=O<<24-C%4*8,C++}return h.create(y,C)}})(),s.enc.Base64url})})(hu)),hu.exports}var pu={exports:{}},i2=pu.exports,Bg;function Cs(){return Bg||(Bg=1,(function(o,a){(function(s,i){o.exports=i(St())})(i2,function(s){return(function(i){var c=s,h=c.lib,m=h.WordArray,x=h.Hasher,v=c.algo,p=[];(function(){for(var j=0;j<64;j++)p[j]=i.abs(i.sin(j+1))*4294967296|0})();var b=v.MD5=x.extend({_doReset:function(){this._hash=new m.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(j,O){for(var F=0;F<16;F++){var k=O+F,M=j[k];j[k]=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360}var z=this._hash.words,te=j[O+0],G=j[O+1],V=j[O+2],J=j[O+3],Se=j[O+4],ee=j[O+5],ce=j[O+6],ye=j[O+7],pe=j[O+8],je=j[O+9],qe=j[O+10],Y=j[O+11],xe=j[O+12],he=j[O+13],Ke=j[O+14],ze=j[O+15],N=z[0],P=z[1],U=z[2],X=z[3];N=y(N,P,U,X,te,7,p[0]),X=y(X,N,P,U,G,12,p[1]),U=y(U,X,N,P,V,17,p[2]),P=y(P,U,X,N,J,22,p[3]),N=y(N,P,U,X,Se,7,p[4]),X=y(X,N,P,U,ee,12,p[5]),U=y(U,X,N,P,ce,17,p[6]),P=y(P,U,X,N,ye,22,p[7]),N=y(N,P,U,X,pe,7,p[8]),X=y(X,N,P,U,je,12,p[9]),U=y(U,X,N,P,qe,17,p[10]),P=y(P,U,X,N,Y,22,p[11]),N=y(N,P,U,X,xe,7,p[12]),X=y(X,N,P,U,he,12,p[13]),U=y(U,X,N,P,Ke,17,p[14]),P=y(P,U,X,N,ze,22,p[15]),N=C(N,P,U,X,G,5,p[16]),X=C(X,N,P,U,ce,9,p[17]),U=C(U,X,N,P,Y,14,p[18]),P=C(P,U,X,N,te,20,p[19]),N=C(N,P,U,X,ee,5,p[20]),X=C(X,N,P,U,qe,9,p[21]),U=C(U,X,N,P,ze,14,p[22]),P=C(P,U,X,N,Se,20,p[23]),N=C(N,P,U,X,je,5,p[24]),X=C(X,N,P,U,Ke,9,p[25]),U=C(U,X,N,P,J,14,p[26]),P=C(P,U,X,N,pe,20,p[27]),N=C(N,P,U,X,he,5,p[28]),X=C(X,N,P,U,V,9,p[29]),U=C(U,X,N,P,ye,14,p[30]),P=C(P,U,X,N,xe,20,p[31]),N=D(N,P,U,X,ee,4,p[32]),X=D(X,N,P,U,pe,11,p[33]),U=D(U,X,N,P,Y,16,p[34]),P=D(P,U,X,N,Ke,23,p[35]),N=D(N,P,U,X,G,4,p[36]),X=D(X,N,P,U,Se,11,p[37]),U=D(U,X,N,P,ye,16,p[38]),P=D(P,U,X,N,qe,23,p[39]),N=D(N,P,U,X,he,4,p[40]),X=D(X,N,P,U,te,11,p[41]),U=D(U,X,N,P,J,16,p[42]),P=D(P,U,X,N,ce,23,p[43]),N=D(N,P,U,X,je,4,p[44]),X=D(X,N,P,U,xe,11,p[45]),U=D(U,X,N,P,ze,16,p[46]),P=D(P,U,X,N,V,23,p[47]),N=B(N,P,U,X,te,6,p[48]),X=B(X,N,P,U,ye,10,p[49]),U=B(U,X,N,P,Ke,15,p[50]),P=B(P,U,X,N,ee,21,p[51]),N=B(N,P,U,X,xe,6,p[52]),X=B(X,N,P,U,J,10,p[53]),U=B(U,X,N,P,qe,15,p[54]),P=B(P,U,X,N,G,21,p[55]),N=B(N,P,U,X,pe,6,p[56]),X=B(X,N,P,U,ze,10,p[57]),U=B(U,X,N,P,ce,15,p[58]),P=B(P,U,X,N,he,21,p[59]),N=B(N,P,U,X,Se,6,p[60]),X=B(X,N,P,U,Y,10,p[61]),U=B(U,X,N,P,V,15,p[62]),P=B(P,U,X,N,je,21,p[63]),z[0]=z[0]+N|0,z[1]=z[1]+P|0,z[2]=z[2]+U|0,z[3]=z[3]+X|0},_doFinalize:function(){var j=this._data,O=j.words,F=this._nDataBytes*8,k=j.sigBytes*8;O[k>>>5]|=128<<24-k%32;var M=i.floor(F/4294967296),z=F;O[(k+64>>>9<<4)+15]=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360,O[(k+64>>>9<<4)+14]=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360,j.sigBytes=(O.length+1)*4,this._process();for(var te=this._hash,G=te.words,V=0;V<4;V++){var J=G[V];G[V]=(J<<8|J>>>24)&16711935|(J<<24|J>>>8)&4278255360}return te},clone:function(){var j=x.clone.call(this);return j._hash=this._hash.clone(),j}});function y(j,O,F,k,M,z,te){var G=j+(O&F|~O&k)+M+te;return(G<<z|G>>>32-z)+O}function C(j,O,F,k,M,z,te){var G=j+(O&k|F&~k)+M+te;return(G<<z|G>>>32-z)+O}function D(j,O,F,k,M,z,te){var G=j+(O^F^k)+M+te;return(G<<z|G>>>32-z)+O}function B(j,O,F,k,M,z,te){var G=j+(F^(O|~k))+M+te;return(G<<z|G>>>32-z)+O}c.MD5=x._createHelper(b),c.HmacMD5=x._createHmacHelper(b)})(Math),s.MD5})})(pu)),pu.exports}var mu={exports:{}},l2=mu.exports,Tg;function Kx(){return Tg||(Tg=1,(function(o,a){(function(s,i){o.exports=i(St())})(l2,function(s){return(function(){var i=s,c=i.lib,h=c.WordArray,m=c.Hasher,x=i.algo,v=[],p=x.SHA1=m.extend({_doReset:function(){this._hash=new h.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(b,y){for(var C=this._hash.words,D=C[0],B=C[1],j=C[2],O=C[3],F=C[4],k=0;k<80;k++){if(k<16)v[k]=b[y+k]|0;else{var M=v[k-3]^v[k-8]^v[k-14]^v[k-16];v[k]=M<<1|M>>>31}var z=(D<<5|D>>>27)+F+v[k];k<20?z+=(B&j|~B&O)+1518500249:k<40?z+=(B^j^O)+1859775393:k<60?z+=(B&j|B&O|j&O)-1894007588:z+=(B^j^O)-899497514,F=O,O=j,j=B<<30|B>>>2,B=D,D=z}C[0]=C[0]+D|0,C[1]=C[1]+B|0,C[2]=C[2]+j|0,C[3]=C[3]+O|0,C[4]=C[4]+F|0},_doFinalize:function(){var b=this._data,y=b.words,C=this._nDataBytes*8,D=b.sigBytes*8;return y[D>>>5]|=128<<24-D%32,y[(D+64>>>9<<4)+14]=Math.floor(C/4294967296),y[(D+64>>>9<<4)+15]=C,b.sigBytes=y.length*4,this._process(),this._hash},clone:function(){var b=m.clone.call(this);return b._hash=this._hash.clone(),b}});i.SHA1=m._createHelper(p),i.HmacSHA1=m._createHmacHelper(p)})(),s.SHA1})})(mu)),mu.exports}var gu={exports:{}},c2=gu.exports,Ng;function Ff(){return Ng||(Ng=1,(function(o,a){(function(s,i){o.exports=i(St())})(c2,function(s){return(function(i){var c=s,h=c.lib,m=h.WordArray,x=h.Hasher,v=c.algo,p=[],b=[];(function(){function D(F){for(var k=i.sqrt(F),M=2;M<=k;M++)if(!(F%M))return!1;return!0}function B(F){return(F-(F|0))*4294967296|0}for(var j=2,O=0;O<64;)D(j)&&(O<8&&(p[O]=B(i.pow(j,1/2))),b[O]=B(i.pow(j,1/3)),O++),j++})();var y=[],C=v.SHA256=x.extend({_doReset:function(){this._hash=new m.init(p.slice(0))},_doProcessBlock:function(D,B){for(var j=this._hash.words,O=j[0],F=j[1],k=j[2],M=j[3],z=j[4],te=j[5],G=j[6],V=j[7],J=0;J<64;J++){if(J<16)y[J]=D[B+J]|0;else{var Se=y[J-15],ee=(Se<<25|Se>>>7)^(Se<<14|Se>>>18)^Se>>>3,ce=y[J-2],ye=(ce<<15|ce>>>17)^(ce<<13|ce>>>19)^ce>>>10;y[J]=ee+y[J-7]+ye+y[J-16]}var pe=z&te^~z&G,je=O&F^O&k^F&k,qe=(O<<30|O>>>2)^(O<<19|O>>>13)^(O<<10|O>>>22),Y=(z<<26|z>>>6)^(z<<21|z>>>11)^(z<<7|z>>>25),xe=V+Y+pe+b[J]+y[J],he=qe+je;V=G,G=te,te=z,z=M+xe|0,M=k,k=F,F=O,O=xe+he|0}j[0]=j[0]+O|0,j[1]=j[1]+F|0,j[2]=j[2]+k|0,j[3]=j[3]+M|0,j[4]=j[4]+z|0,j[5]=j[5]+te|0,j[6]=j[6]+G|0,j[7]=j[7]+V|0},_doFinalize:function(){var D=this._data,B=D.words,j=this._nDataBytes*8,O=D.sigBytes*8;return B[O>>>5]|=128<<24-O%32,B[(O+64>>>9<<4)+14]=i.floor(j/4294967296),B[(O+64>>>9<<4)+15]=j,D.sigBytes=B.length*4,this._process(),this._hash},clone:function(){var D=x.clone.call(this);return D._hash=this._hash.clone(),D}});c.SHA256=x._createHelper(C),c.HmacSHA256=x._createHmacHelper(C)})(Math),s.SHA256})})(gu)),gu.exports}var xu={exports:{}},u2=xu.exports,kg;function d2(){return kg||(kg=1,(function(o,a){(function(s,i,c){o.exports=i(St(),Ff())})(u2,function(s){return(function(){var i=s,c=i.lib,h=c.WordArray,m=i.algo,x=m.SHA256,v=m.SHA224=x.extend({_doReset:function(){this._hash=new h.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var p=x._doFinalize.call(this);return p.sigBytes-=4,p}});i.SHA224=x._createHelper(v),i.HmacSHA224=x._createHmacHelper(v)})(),s.SHA224})})(xu)),xu.exports}var yu={exports:{}},f2=yu.exports,jg;function Px(){return jg||(jg=1,(function(o,a){(function(s,i,c){o.exports=i(St(),Wu())})(f2,function(s){return(function(){var i=s,c=i.lib,h=c.Hasher,m=i.x64,x=m.Word,v=m.WordArray,p=i.algo;function b(){return x.create.apply(x,arguments)}var y=[b(1116352408,3609767458),b(1899447441,602891725),b(3049323471,3964484399),b(3921009573,2173295548),b(961987163,4081628472),b(1508970993,3053834265),b(2453635748,2937671579),b(2870763221,3664609560),b(3624381080,2734883394),b(310598401,1164996542),b(607225278,1323610764),b(1426881987,3590304994),b(1925078388,4068182383),b(2162078206,991336113),b(2614888103,633803317),b(3248222580,3479774868),b(3835390401,2666613458),b(4022224774,944711139),b(264347078,2341262773),b(604807628,2007800933),b(770255983,1495990901),b(1249150122,1856431235),b(1555081692,3175218132),b(1996064986,2198950837),b(2554220882,3999719339),b(2821834349,766784016),b(2952996808,2566594879),b(3210313671,3203337956),b(3336571891,1034457026),b(3584528711,2466948901),b(113926993,3758326383),b(338241895,168717936),b(666307205,1188179964),b(773529912,1546045734),b(1294757372,1522805485),b(1396182291,2643833823),b(1695183700,2343527390),b(1986661051,1014477480),b(2177026350,1206759142),b(2456956037,344077627),b(2730485921,1290863460),b(2820302411,3158454273),b(3259730800,3505952657),b(3345764771,106217008),b(3516065817,3606008344),b(3600352804,1432725776),b(4094571909,1467031594),b(275423344,851169720),b(430227734,3100823752),b(506948616,1363258195),b(659060556,3750685593),b(883997877,3785050280),b(958139571,3318307427),b(1322822218,3812723403),b(1537002063,2003034995),b(1747873779,3602036899),b(1955562222,1575990012),b(2024104815,1125592928),b(2227730452,2716904306),b(2361852424,442776044),b(2428436474,593698344),b(2756734187,3733110249),b(3204031479,2999351573),b(3329325298,3815920427),b(3391569614,3928383900),b(3515267271,566280711),b(3940187606,3454069534),b(4118630271,4000239992),b(116418474,1914138554),b(174292421,2731055270),b(289380356,3203993006),b(460393269,320620315),b(685471733,587496836),b(852142971,1086792851),b(1017036298,365543100),b(1126000580,2618297676),b(1288033470,3409855158),b(1501505948,4234509866),b(1607167915,987167468),b(1816402316,1246189591)],C=[];(function(){for(var B=0;B<80;B++)C[B]=b()})();var D=p.SHA512=h.extend({_doReset:function(){this._hash=new v.init([new x.init(1779033703,4089235720),new x.init(3144134277,2227873595),new x.init(1013904242,4271175723),new x.init(2773480762,1595750129),new x.init(1359893119,2917565137),new x.init(2600822924,725511199),new x.init(528734635,4215389547),new x.init(1541459225,327033209)])},_doProcessBlock:function(B,j){for(var O=this._hash.words,F=O[0],k=O[1],M=O[2],z=O[3],te=O[4],G=O[5],V=O[6],J=O[7],Se=F.high,ee=F.low,ce=k.high,ye=k.low,pe=M.high,je=M.low,qe=z.high,Y=z.low,xe=te.high,he=te.low,Ke=G.high,ze=G.low,N=V.high,P=V.low,U=J.high,X=J.low,De=Se,Oe=ee,Ye=ce,Fe=ye,Te=pe,Yt=je,an=qe,rt=Y,rn=xe,qt=he,_n=Ke,la=ze,ca=N,ba=P,Sn=U,na=X,Mt=0;Mt<80;Mt++){var Tt,Wt,Jt=C[Mt];if(Mt<16)Wt=Jt.high=B[j+Mt*2]|0,Tt=Jt.low=B[j+Mt*2+1]|0;else{var Ra=C[Mt-15],on=Ra.high,Dn=Ra.low,wa=(on>>>1|Dn<<31)^(on>>>8|Dn<<24)^on>>>7,ua=(Dn>>>1|on<<31)^(Dn>>>8|on<<24)^(Dn>>>7|on<<25),Yn=C[Mt-2],$n=Yn.high,sn=Yn.low,da=($n>>>19|sn<<13)^($n<<3|sn>>>29)^$n>>>6,ln=(sn>>>19|$n<<13)^(sn<<3|$n>>>29)^(sn>>>6|$n<<26),en=C[Mt-7],Ve=en.high,Za=en.low,Gn=C[Mt-16],Mn=Gn.high,He=Gn.low;Tt=ua+Za,Wt=wa+Ve+(Tt>>>0<ua>>>0?1:0),Tt=Tt+ln,Wt=Wt+da+(Tt>>>0<ln>>>0?1:0),Tt=Tt+He,Wt=Wt+Mn+(Tt>>>0<He>>>0?1:0),Jt.high=Wt,Jt.low=Tt}var za=rn&_n^~rn&ca,Ea=qt&la^~qt&ba,In=De&Ye^De&Te^Ye&Te,tt=Oe&Fe^Oe&Yt^Fe&Yt,kt=(De>>>28|Oe<<4)^(De<<30|Oe>>>2)^(De<<25|Oe>>>7),tn=(Oe>>>28|De<<4)^(Oe<<30|De>>>2)^(Oe<<25|De>>>7),gn=(rn>>>14|qt<<18)^(rn>>>18|qt<<14)^(rn<<23|qt>>>9),Rn=(qt>>>14|rn<<18)^(qt>>>18|rn<<14)^(qt<<23|rn>>>9),Ct=y[Mt],xn=Ct.high,aa=Ct.low,et=na+Rn,ut=Sn+gn+(et>>>0<na>>>0?1:0),et=et+Ea,ut=ut+za+(et>>>0<Ea>>>0?1:0),et=et+aa,ut=ut+xn+(et>>>0<aa>>>0?1:0),et=et+Tt,ut=ut+Wt+(et>>>0<Tt>>>0?1:0),Wa=tn+tt,Bn=kt+In+(Wa>>>0<tn>>>0?1:0);Sn=ca,na=ba,ca=_n,ba=la,_n=rn,la=qt,qt=rt+et|0,rn=an+ut+(qt>>>0<rt>>>0?1:0)|0,an=Te,rt=Yt,Te=Ye,Yt=Fe,Ye=De,Fe=Oe,Oe=et+Wa|0,De=ut+Bn+(Oe>>>0<et>>>0?1:0)|0}ee=F.low=ee+Oe,F.high=Se+De+(ee>>>0<Oe>>>0?1:0),ye=k.low=ye+Fe,k.high=ce+Ye+(ye>>>0<Fe>>>0?1:0),je=M.low=je+Yt,M.high=pe+Te+(je>>>0<Yt>>>0?1:0),Y=z.low=Y+rt,z.high=qe+an+(Y>>>0<rt>>>0?1:0),he=te.low=he+qt,te.high=xe+rn+(he>>>0<qt>>>0?1:0),ze=G.low=ze+la,G.high=Ke+_n+(ze>>>0<la>>>0?1:0),P=V.low=P+ba,V.high=N+ca+(P>>>0<ba>>>0?1:0),X=J.low=X+na,J.high=U+Sn+(X>>>0<na>>>0?1:0)},_doFinalize:function(){var B=this._data,j=B.words,O=this._nDataBytes*8,F=B.sigBytes*8;j[F>>>5]|=128<<24-F%32,j[(F+128>>>10<<5)+30]=Math.floor(O/4294967296),j[(F+128>>>10<<5)+31]=O,B.sigBytes=j.length*4,this._process();var k=this._hash.toX32();return k},clone:function(){var B=h.clone.call(this);return B._hash=this._hash.clone(),B},blockSize:1024/32});i.SHA512=h._createHelper(D),i.HmacSHA512=h._createHmacHelper(D)})(),s.SHA512})})(yu)),yu.exports}var vu={exports:{}},h2=vu.exports,Og;function p2(){return Og||(Og=1,(function(o,a){(function(s,i,c){o.exports=i(St(),Wu(),Px())})(h2,function(s){return(function(){var i=s,c=i.x64,h=c.Word,m=c.WordArray,x=i.algo,v=x.SHA512,p=x.SHA384=v.extend({_doReset:function(){this._hash=new m.init([new h.init(3418070365,3238371032),new h.init(1654270250,914150663),new h.init(2438529370,812702999),new h.init(355462360,4144912697),new h.init(1731405415,4290775857),new h.init(2394180231,1750603025),new h.init(3675008525,1694076839),new h.init(1203062813,3204075428)])},_doFinalize:function(){var b=v._doFinalize.call(this);return b.sigBytes-=16,b}});i.SHA384=v._createHelper(p),i.HmacSHA384=v._createHmacHelper(p)})(),s.SHA384})})(vu)),vu.exports}var bu={exports:{}},m2=bu.exports,Mg;function g2(){return Mg||(Mg=1,(function(o,a){(function(s,i,c){o.exports=i(St(),Wu())})(m2,function(s){return(function(i){var c=s,h=c.lib,m=h.WordArray,x=h.Hasher,v=c.x64,p=v.Word,b=c.algo,y=[],C=[],D=[];(function(){for(var O=1,F=0,k=0;k<24;k++){y[O+5*F]=(k+1)*(k+2)/2%64;var M=F%5,z=(2*O+3*F)%5;O=M,F=z}for(var O=0;O<5;O++)for(var F=0;F<5;F++)C[O+5*F]=F+(2*O+3*F)%5*5;for(var te=1,G=0;G<24;G++){for(var V=0,J=0,Se=0;Se<7;Se++){if(te&1){var ee=(1<<Se)-1;ee<32?J^=1<<ee:V^=1<<ee-32}te&128?te=te<<1^113:te<<=1}D[G]=p.create(V,J)}})();var B=[];(function(){for(var O=0;O<25;O++)B[O]=p.create()})();var j=b.SHA3=x.extend({cfg:x.cfg.extend({outputLength:512}),_doReset:function(){for(var O=this._state=[],F=0;F<25;F++)O[F]=new p.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(O,F){for(var k=this._state,M=this.blockSize/2,z=0;z<M;z++){var te=O[F+2*z],G=O[F+2*z+1];te=(te<<8|te>>>24)&16711935|(te<<24|te>>>8)&4278255360,G=(G<<8|G>>>24)&16711935|(G<<24|G>>>8)&4278255360;var V=k[z];V.high^=G,V.low^=te}for(var J=0;J<24;J++){for(var Se=0;Se<5;Se++){for(var ee=0,ce=0,ye=0;ye<5;ye++){var V=k[Se+5*ye];ee^=V.high,ce^=V.low}var pe=B[Se];pe.high=ee,pe.low=ce}for(var Se=0;Se<5;Se++)for(var je=B[(Se+4)%5],qe=B[(Se+1)%5],Y=qe.high,xe=qe.low,ee=je.high^(Y<<1|xe>>>31),ce=je.low^(xe<<1|Y>>>31),ye=0;ye<5;ye++){var V=k[Se+5*ye];V.high^=ee,V.low^=ce}for(var he=1;he<25;he++){var ee,ce,V=k[he],Ke=V.high,ze=V.low,N=y[he];N<32?(ee=Ke<<N|ze>>>32-N,ce=ze<<N|Ke>>>32-N):(ee=ze<<N-32|Ke>>>64-N,ce=Ke<<N-32|ze>>>64-N);var P=B[C[he]];P.high=ee,P.low=ce}var U=B[0],X=k[0];U.high=X.high,U.low=X.low;for(var Se=0;Se<5;Se++)for(var ye=0;ye<5;ye++){var he=Se+5*ye,V=k[he],De=B[he],Oe=B[(Se+1)%5+5*ye],Ye=B[(Se+2)%5+5*ye];V.high=De.high^~Oe.high&Ye.high,V.low=De.low^~Oe.low&Ye.low}var V=k[0],Fe=D[J];V.high^=Fe.high,V.low^=Fe.low}},_doFinalize:function(){var O=this._data,F=O.words;this._nDataBytes*8;var k=O.sigBytes*8,M=this.blockSize*32;F[k>>>5]|=1<<24-k%32,F[(i.ceil((k+1)/M)*M>>>5)-1]|=128,O.sigBytes=F.length*4,this._process();for(var z=this._state,te=this.cfg.outputLength/8,G=te/8,V=[],J=0;J<G;J++){var Se=z[J],ee=Se.high,ce=Se.low;ee=(ee<<8|ee>>>24)&16711935|(ee<<24|ee>>>8)&4278255360,ce=(ce<<8|ce>>>24)&16711935|(ce<<24|ce>>>8)&4278255360,V.push(ce),V.push(ee)}return new m.init(V,te)},clone:function(){for(var O=x.clone.call(this),F=O._state=this._state.slice(0),k=0;k<25;k++)F[k]=F[k].clone();return O}});c.SHA3=x._createHelper(j),c.HmacSHA3=x._createHmacHelper(j)})(Math),s.SHA3})})(bu)),bu.exports}var wu={exports:{}},x2=wu.exports,Rg;function y2(){return Rg||(Rg=1,(function(o,a){(function(s,i){o.exports=i(St())})(x2,function(s){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return(function(i){var c=s,h=c.lib,m=h.WordArray,x=h.Hasher,v=c.algo,p=m.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),b=m.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),y=m.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),C=m.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),D=m.create([0,1518500249,1859775393,2400959708,2840853838]),B=m.create([1352829926,1548603684,1836072691,2053994217,0]),j=v.RIPEMD160=x.extend({_doReset:function(){this._hash=m.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(G,V){for(var J=0;J<16;J++){var Se=V+J,ee=G[Se];G[Se]=(ee<<8|ee>>>24)&16711935|(ee<<24|ee>>>8)&4278255360}var ce=this._hash.words,ye=D.words,pe=B.words,je=p.words,qe=b.words,Y=y.words,xe=C.words,he,Ke,ze,N,P,U,X,De,Oe,Ye;U=he=ce[0],X=Ke=ce[1],De=ze=ce[2],Oe=N=ce[3],Ye=P=ce[4];for(var Fe,J=0;J<80;J+=1)Fe=he+G[V+je[J]]|0,J<16?Fe+=O(Ke,ze,N)+ye[0]:J<32?Fe+=F(Ke,ze,N)+ye[1]:J<48?Fe+=k(Ke,ze,N)+ye[2]:J<64?Fe+=M(Ke,ze,N)+ye[3]:Fe+=z(Ke,ze,N)+ye[4],Fe=Fe|0,Fe=te(Fe,Y[J]),Fe=Fe+P|0,he=P,P=N,N=te(ze,10),ze=Ke,Ke=Fe,Fe=U+G[V+qe[J]]|0,J<16?Fe+=z(X,De,Oe)+pe[0]:J<32?Fe+=M(X,De,Oe)+pe[1]:J<48?Fe+=k(X,De,Oe)+pe[2]:J<64?Fe+=F(X,De,Oe)+pe[3]:Fe+=O(X,De,Oe)+pe[4],Fe=Fe|0,Fe=te(Fe,xe[J]),Fe=Fe+Ye|0,U=Ye,Ye=Oe,Oe=te(De,10),De=X,X=Fe;Fe=ce[1]+ze+Oe|0,ce[1]=ce[2]+N+Ye|0,ce[2]=ce[3]+P+U|0,ce[3]=ce[4]+he+X|0,ce[4]=ce[0]+Ke+De|0,ce[0]=Fe},_doFinalize:function(){var G=this._data,V=G.words,J=this._nDataBytes*8,Se=G.sigBytes*8;V[Se>>>5]|=128<<24-Se%32,V[(Se+64>>>9<<4)+14]=(J<<8|J>>>24)&16711935|(J<<24|J>>>8)&4278255360,G.sigBytes=(V.length+1)*4,this._process();for(var ee=this._hash,ce=ee.words,ye=0;ye<5;ye++){var pe=ce[ye];ce[ye]=(pe<<8|pe>>>24)&16711935|(pe<<24|pe>>>8)&4278255360}return ee},clone:function(){var G=x.clone.call(this);return G._hash=this._hash.clone(),G}});function O(G,V,J){return G^V^J}function F(G,V,J){return G&V|~G&J}function k(G,V,J){return(G|~V)^J}function M(G,V,J){return G&J|V&~J}function z(G,V,J){return G^(V|~J)}function te(G,V){return G<<V|G>>>32-V}c.RIPEMD160=x._createHelper(j),c.HmacRIPEMD160=x._createHmacHelper(j)})(),s.RIPEMD160})})(wu)),wu.exports}var Eu={exports:{}},v2=Eu.exports,zg;function Lf(){return zg||(zg=1,(function(o,a){(function(s,i){o.exports=i(St())})(v2,function(s){(function(){var i=s,c=i.lib,h=c.Base,m=i.enc,x=m.Utf8,v=i.algo;v.HMAC=h.extend({init:function(p,b){p=this._hasher=new p.init,typeof b=="string"&&(b=x.parse(b));var y=p.blockSize,C=y*4;b.sigBytes>C&&(b=p.finalize(b)),b.clamp();for(var D=this._oKey=b.clone(),B=this._iKey=b.clone(),j=D.words,O=B.words,F=0;F<y;F++)j[F]^=1549556828,O[F]^=909522486;D.sigBytes=B.sigBytes=C,this.reset()},reset:function(){var p=this._hasher;p.reset(),p.update(this._iKey)},update:function(p){return this._hasher.update(p),this},finalize:function(p){var b=this._hasher,y=b.finalize(p);b.reset();var C=b.finalize(this._oKey.clone().concat(y));return C}})})()})})(Eu)),Eu.exports}var Su={exports:{}},b2=Su.exports,Fg;function w2(){return Fg||(Fg=1,(function(o,a){(function(s,i,c){o.exports=i(St(),Ff(),Lf())})(b2,function(s){return(function(){var i=s,c=i.lib,h=c.Base,m=c.WordArray,x=i.algo,v=x.SHA256,p=x.HMAC,b=x.PBKDF2=h.extend({cfg:h.extend({keySize:128/32,hasher:v,iterations:25e4}),init:function(y){this.cfg=this.cfg.extend(y)},compute:function(y,C){for(var D=this.cfg,B=p.create(D.hasher,y),j=m.create(),O=m.create([1]),F=j.words,k=O.words,M=D.keySize,z=D.iterations;F.length<M;){var te=B.update(C).finalize(O);B.reset();for(var G=te.words,V=G.length,J=te,Se=1;Se<z;Se++){J=B.finalize(J),B.reset();for(var ee=J.words,ce=0;ce<V;ce++)G[ce]^=ee[ce]}j.concat(te),k[0]++}return j.sigBytes=M*4,j}});i.PBKDF2=function(y,C,D){return b.create(D).compute(y,C)}})(),s.PBKDF2})})(Su)),Su.exports}var Au={exports:{}},E2=Au.exports,Lg;function Vo(){return Lg||(Lg=1,(function(o,a){(function(s,i,c){o.exports=i(St(),Kx(),Lf())})(E2,function(s){return(function(){var i=s,c=i.lib,h=c.Base,m=c.WordArray,x=i.algo,v=x.MD5,p=x.EvpKDF=h.extend({cfg:h.extend({keySize:128/32,hasher:v,iterations:1}),init:function(b){this.cfg=this.cfg.extend(b)},compute:function(b,y){for(var C,D=this.cfg,B=D.hasher.create(),j=m.create(),O=j.words,F=D.keySize,k=D.iterations;O.length<F;){C&&B.update(C),C=B.update(b).finalize(y),B.reset();for(var M=1;M<k;M++)C=B.finalize(C),B.reset();j.concat(C)}return j.sigBytes=F*4,j}});i.EvpKDF=function(b,y,C){return p.create(C).compute(b,y)}})(),s.EvpKDF})})(Au)),Au.exports}var Cu={exports:{}},S2=Cu.exports,Hg;function On(){return Hg||(Hg=1,(function(o,a){(function(s,i,c){o.exports=i(St(),Vo())})(S2,function(s){s.lib.Cipher||(function(i){var c=s,h=c.lib,m=h.Base,x=h.WordArray,v=h.BufferedBlockAlgorithm,p=c.enc;p.Utf8;var b=p.Base64,y=c.algo,C=y.EvpKDF,D=h.Cipher=v.extend({cfg:m.extend(),createEncryptor:function(ee,ce){return this.create(this._ENC_XFORM_MODE,ee,ce)},createDecryptor:function(ee,ce){return this.create(this._DEC_XFORM_MODE,ee,ce)},init:function(ee,ce,ye){this.cfg=this.cfg.extend(ye),this._xformMode=ee,this._key=ce,this.reset()},reset:function(){v.reset.call(this),this._doReset()},process:function(ee){return this._append(ee),this._process()},finalize:function(ee){ee&&this._append(ee);var ce=this._doFinalize();return ce},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:(function(){function ee(ce){return typeof ce=="string"?Se:G}return function(ce){return{encrypt:function(ye,pe,je){return ee(pe).encrypt(ce,ye,pe,je)},decrypt:function(ye,pe,je){return ee(pe).decrypt(ce,ye,pe,je)}}}})()});h.StreamCipher=D.extend({_doFinalize:function(){var ee=this._process(!0);return ee},blockSize:1});var B=c.mode={},j=h.BlockCipherMode=m.extend({createEncryptor:function(ee,ce){return this.Encryptor.create(ee,ce)},createDecryptor:function(ee,ce){return this.Decryptor.create(ee,ce)},init:function(ee,ce){this._cipher=ee,this._iv=ce}}),O=B.CBC=(function(){var ee=j.extend();ee.Encryptor=ee.extend({processBlock:function(ye,pe){var je=this._cipher,qe=je.blockSize;ce.call(this,ye,pe,qe),je.encryptBlock(ye,pe),this._prevBlock=ye.slice(pe,pe+qe)}}),ee.Decryptor=ee.extend({processBlock:function(ye,pe){var je=this._cipher,qe=je.blockSize,Y=ye.slice(pe,pe+qe);je.decryptBlock(ye,pe),ce.call(this,ye,pe,qe),this._prevBlock=Y}});function ce(ye,pe,je){var qe,Y=this._iv;Y?(qe=Y,this._iv=i):qe=this._prevBlock;for(var xe=0;xe<je;xe++)ye[pe+xe]^=qe[xe]}return ee})(),F=c.pad={},k=F.Pkcs7={pad:function(ee,ce){for(var ye=ce*4,pe=ye-ee.sigBytes%ye,je=pe<<24|pe<<16|pe<<8|pe,qe=[],Y=0;Y<pe;Y+=4)qe.push(je);var xe=x.create(qe,pe);ee.concat(xe)},unpad:function(ee){var ce=ee.words[ee.sigBytes-1>>>2]&255;ee.sigBytes-=ce}};h.BlockCipher=D.extend({cfg:D.cfg.extend({mode:O,padding:k}),reset:function(){var ee;D.reset.call(this);var ce=this.cfg,ye=ce.iv,pe=ce.mode;this._xformMode==this._ENC_XFORM_MODE?ee=pe.createEncryptor:(ee=pe.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==ee?this._mode.init(this,ye&&ye.words):(this._mode=ee.call(pe,this,ye&&ye.words),this._mode.__creator=ee)},_doProcessBlock:function(ee,ce){this._mode.processBlock(ee,ce)},_doFinalize:function(){var ee,ce=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(ce.pad(this._data,this.blockSize),ee=this._process(!0)):(ee=this._process(!0),ce.unpad(ee)),ee},blockSize:128/32});var M=h.CipherParams=m.extend({init:function(ee){this.mixIn(ee)},toString:function(ee){return(ee||this.formatter).stringify(this)}}),z=c.format={},te=z.OpenSSL={stringify:function(ee){var ce,ye=ee.ciphertext,pe=ee.salt;return pe?ce=x.create([1398893684,1701076831]).concat(pe).concat(ye):ce=ye,ce.toString(b)},parse:function(ee){var ce,ye=b.parse(ee),pe=ye.words;return pe[0]==1398893684&&pe[1]==1701076831&&(ce=x.create(pe.slice(2,4)),pe.splice(0,4),ye.sigBytes-=16),M.create({ciphertext:ye,salt:ce})}},G=h.SerializableCipher=m.extend({cfg:m.extend({format:te}),encrypt:function(ee,ce,ye,pe){pe=this.cfg.extend(pe);var je=ee.createEncryptor(ye,pe),qe=je.finalize(ce),Y=je.cfg;return M.create({ciphertext:qe,key:ye,iv:Y.iv,algorithm:ee,mode:Y.mode,padding:Y.padding,blockSize:ee.blockSize,formatter:pe.format})},decrypt:function(ee,ce,ye,pe){pe=this.cfg.extend(pe),ce=this._parse(ce,pe.format);var je=ee.createDecryptor(ye,pe).finalize(ce.ciphertext);return je},_parse:function(ee,ce){return typeof ee=="string"?ce.parse(ee,this):ee}}),V=c.kdf={},J=V.OpenSSL={execute:function(ee,ce,ye,pe,je){if(pe||(pe=x.random(64/8)),je)var qe=C.create({keySize:ce+ye,hasher:je}).compute(ee,pe);else var qe=C.create({keySize:ce+ye}).compute(ee,pe);var Y=x.create(qe.words.slice(ce),ye*4);return qe.sigBytes=ce*4,M.create({key:qe,iv:Y,salt:pe})}},Se=h.PasswordBasedCipher=G.extend({cfg:G.cfg.extend({kdf:J}),encrypt:function(ee,ce,ye,pe){pe=this.cfg.extend(pe);var je=pe.kdf.execute(ye,ee.keySize,ee.ivSize,pe.salt,pe.hasher);pe.iv=je.iv;var qe=G.encrypt.call(this,ee,ce,je.key,pe);return qe.mixIn(je),qe},decrypt:function(ee,ce,ye,pe){pe=this.cfg.extend(pe),ce=this._parse(ce,pe.format);var je=pe.kdf.execute(ye,ee.keySize,ee.ivSize,ce.salt,pe.hasher);pe.iv=je.iv;var qe=G.decrypt.call(this,ee,ce,je.key,pe);return qe}})})()})})(Cu)),Cu.exports}var _u={exports:{}},A2=_u.exports,qg;function C2(){return qg||(qg=1,(function(o,a){(function(s,i,c){o.exports=i(St(),On())})(A2,function(s){return s.mode.CFB=(function(){var i=s.lib.BlockCipherMode.extend();i.Encryptor=i.extend({processBlock:function(h,m){var x=this._cipher,v=x.blockSize;c.call(this,h,m,v,x),this._prevBlock=h.slice(m,m+v)}}),i.Decryptor=i.extend({processBlock:function(h,m){var x=this._cipher,v=x.blockSize,p=h.slice(m,m+v);c.call(this,h,m,v,x),this._prevBlock=p}});function c(h,m,x,v){var p,b=this._iv;b?(p=b.slice(0),this._iv=void 0):p=this._prevBlock,v.encryptBlock(p,0);for(var y=0;y<x;y++)h[m+y]^=p[y]}return i})(),s.mode.CFB})})(_u)),_u.exports}var Du={exports:{}},_2=Du.exports,Ug;function D2(){return Ug||(Ug=1,(function(o,a){(function(s,i,c){o.exports=i(St(),On())})(_2,function(s){return s.mode.CTR=(function(){var i=s.lib.BlockCipherMode.extend(),c=i.Encryptor=i.extend({processBlock:function(h,m){var x=this._cipher,v=x.blockSize,p=this._iv,b=this._counter;p&&(b=this._counter=p.slice(0),this._iv=void 0);var y=b.slice(0);x.encryptBlock(y,0),b[v-1]=b[v-1]+1|0;for(var C=0;C<v;C++)h[m+C]^=y[C]}});return i.Decryptor=c,i})(),s.mode.CTR})})(Du)),Du.exports}var Bu={exports:{}},B2=Bu.exports,Kg;function T2(){return Kg||(Kg=1,(function(o,a){(function(s,i,c){o.exports=i(St(),On())})(B2,function(s){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return s.mode.CTRGladman=(function(){var i=s.lib.BlockCipherMode.extend();function c(x){if((x>>24&255)===255){var v=x>>16&255,p=x>>8&255,b=x&255;v===255?(v=0,p===255?(p=0,b===255?b=0:++b):++p):++v,x=0,x+=v<<16,x+=p<<8,x+=b}else x+=1<<24;return x}function h(x){return(x[0]=c(x[0]))===0&&(x[1]=c(x[1])),x}var m=i.Encryptor=i.extend({processBlock:function(x,v){var p=this._cipher,b=p.blockSize,y=this._iv,C=this._counter;y&&(C=this._counter=y.slice(0),this._iv=void 0),h(C);var D=C.slice(0);p.encryptBlock(D,0);for(var B=0;B<b;B++)x[v+B]^=D[B]}});return i.Decryptor=m,i})(),s.mode.CTRGladman})})(Bu)),Bu.exports}var Tu={exports:{}},N2=Tu.exports,Pg;function k2(){return Pg||(Pg=1,(function(o,a){(function(s,i,c){o.exports=i(St(),On())})(N2,function(s){return s.mode.OFB=(function(){var i=s.lib.BlockCipherMode.extend(),c=i.Encryptor=i.extend({processBlock:function(h,m){var x=this._cipher,v=x.blockSize,p=this._iv,b=this._keystream;p&&(b=this._keystream=p.slice(0),this._iv=void 0),x.encryptBlock(b,0);for(var y=0;y<v;y++)h[m+y]^=b[y]}});return i.Decryptor=c,i})(),s.mode.OFB})})(Tu)),Tu.exports}var Nu={exports:{}},j2=Nu.exports,Vg;function O2(){return Vg||(Vg=1,(function(o,a){(function(s,i,c){o.exports=i(St(),On())})(j2,function(s){return s.mode.ECB=(function(){var i=s.lib.BlockCipherMode.extend();return i.Encryptor=i.extend({processBlock:function(c,h){this._cipher.encryptBlock(c,h)}}),i.Decryptor=i.extend({processBlock:function(c,h){this._cipher.decryptBlock(c,h)}}),i})(),s.mode.ECB})})(Nu)),Nu.exports}var ku={exports:{}},M2=ku.exports,Yg;function R2(){return Yg||(Yg=1,(function(o,a){(function(s,i,c){o.exports=i(St(),On())})(M2,function(s){return s.pad.AnsiX923={pad:function(i,c){var h=i.sigBytes,m=c*4,x=m-h%m,v=h+x-1;i.clamp(),i.words[v>>>2]|=x<<24-v%4*8,i.sigBytes+=x},unpad:function(i){var c=i.words[i.sigBytes-1>>>2]&255;i.sigBytes-=c}},s.pad.Ansix923})})(ku)),ku.exports}var ju={exports:{}},z2=ju.exports,$g;function F2(){return $g||($g=1,(function(o,a){(function(s,i,c){o.exports=i(St(),On())})(z2,function(s){return s.pad.Iso10126={pad:function(i,c){var h=c*4,m=h-i.sigBytes%h;i.concat(s.lib.WordArray.random(m-1)).concat(s.lib.WordArray.create([m<<24],1))},unpad:function(i){var c=i.words[i.sigBytes-1>>>2]&255;i.sigBytes-=c}},s.pad.Iso10126})})(ju)),ju.exports}var Ou={exports:{}},L2=Ou.exports,Gg;function H2(){return Gg||(Gg=1,(function(o,a){(function(s,i,c){o.exports=i(St(),On())})(L2,function(s){return s.pad.Iso97971={pad:function(i,c){i.concat(s.lib.WordArray.create([2147483648],1)),s.pad.ZeroPadding.pad(i,c)},unpad:function(i){s.pad.ZeroPadding.unpad(i),i.sigBytes--}},s.pad.Iso97971})})(Ou)),Ou.exports}var Mu={exports:{}},q2=Mu.exports,Ig;function U2(){return Ig||(Ig=1,(function(o,a){(function(s,i,c){o.exports=i(St(),On())})(q2,function(s){return s.pad.ZeroPadding={pad:function(i,c){var h=c*4;i.clamp(),i.sigBytes+=h-(i.sigBytes%h||h)},unpad:function(i){for(var c=i.words,h=i.sigBytes-1,h=i.sigBytes-1;h>=0;h--)if(c[h>>>2]>>>24-h%4*8&255){i.sigBytes=h+1;break}}},s.pad.ZeroPadding})})(Mu)),Mu.exports}var Ru={exports:{}},K2=Ru.exports,Xg;function P2(){return Xg||(Xg=1,(function(o,a){(function(s,i,c){o.exports=i(St(),On())})(K2,function(s){return s.pad.NoPadding={pad:function(){},unpad:function(){}},s.pad.NoPadding})})(Ru)),Ru.exports}var zu={exports:{}},V2=zu.exports,Qg;function Y2(){return Qg||(Qg=1,(function(o,a){(function(s,i,c){o.exports=i(St(),On())})(V2,function(s){return(function(i){var c=s,h=c.lib,m=h.CipherParams,x=c.enc,v=x.Hex,p=c.format;p.Hex={stringify:function(b){return b.ciphertext.toString(v)},parse:function(b){var y=v.parse(b);return m.create({ciphertext:y})}}})(),s.format.Hex})})(zu)),zu.exports}var Fu={exports:{}},$2=Fu.exports,Zg;function G2(){return Zg||(Zg=1,(function(o,a){(function(s,i,c){o.exports=i(St(),As(),Cs(),Vo(),On())})($2,function(s){return(function(){var i=s,c=i.lib,h=c.BlockCipher,m=i.algo,x=[],v=[],p=[],b=[],y=[],C=[],D=[],B=[],j=[],O=[];(function(){for(var M=[],z=0;z<256;z++)z<128?M[z]=z<<1:M[z]=z<<1^283;for(var te=0,G=0,z=0;z<256;z++){var V=G^G<<1^G<<2^G<<3^G<<4;V=V>>>8^V&255^99,x[te]=V,v[V]=te;var J=M[te],Se=M[J],ee=M[Se],ce=M[V]*257^V*16843008;p[te]=ce<<24|ce>>>8,b[te]=ce<<16|ce>>>16,y[te]=ce<<8|ce>>>24,C[te]=ce;var ce=ee*16843009^Se*65537^J*257^te*16843008;D[V]=ce<<24|ce>>>8,B[V]=ce<<16|ce>>>16,j[V]=ce<<8|ce>>>24,O[V]=ce,te?(te=J^M[M[M[ee^J]]],G^=M[M[G]]):te=G=1}})();var F=[0,1,2,4,8,16,32,64,128,27,54],k=m.AES=h.extend({_doReset:function(){var M;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var z=this._keyPriorReset=this._key,te=z.words,G=z.sigBytes/4,V=this._nRounds=G+6,J=(V+1)*4,Se=this._keySchedule=[],ee=0;ee<J;ee++)ee<G?Se[ee]=te[ee]:(M=Se[ee-1],ee%G?G>6&&ee%G==4&&(M=x[M>>>24]<<24|x[M>>>16&255]<<16|x[M>>>8&255]<<8|x[M&255]):(M=M<<8|M>>>24,M=x[M>>>24]<<24|x[M>>>16&255]<<16|x[M>>>8&255]<<8|x[M&255],M^=F[ee/G|0]<<24),Se[ee]=Se[ee-G]^M);for(var ce=this._invKeySchedule=[],ye=0;ye<J;ye++){var ee=J-ye;if(ye%4)var M=Se[ee];else var M=Se[ee-4];ye<4||ee<=4?ce[ye]=M:ce[ye]=D[x[M>>>24]]^B[x[M>>>16&255]]^j[x[M>>>8&255]]^O[x[M&255]]}}},encryptBlock:function(M,z){this._doCryptBlock(M,z,this._keySchedule,p,b,y,C,x)},decryptBlock:function(M,z){var te=M[z+1];M[z+1]=M[z+3],M[z+3]=te,this._doCryptBlock(M,z,this._invKeySchedule,D,B,j,O,v);var te=M[z+1];M[z+1]=M[z+3],M[z+3]=te},_doCryptBlock:function(M,z,te,G,V,J,Se,ee){for(var ce=this._nRounds,ye=M[z]^te[0],pe=M[z+1]^te[1],je=M[z+2]^te[2],qe=M[z+3]^te[3],Y=4,xe=1;xe<ce;xe++){var he=G[ye>>>24]^V[pe>>>16&255]^J[je>>>8&255]^Se[qe&255]^te[Y++],Ke=G[pe>>>24]^V[je>>>16&255]^J[qe>>>8&255]^Se[ye&255]^te[Y++],ze=G[je>>>24]^V[qe>>>16&255]^J[ye>>>8&255]^Se[pe&255]^te[Y++],N=G[qe>>>24]^V[ye>>>16&255]^J[pe>>>8&255]^Se[je&255]^te[Y++];ye=he,pe=Ke,je=ze,qe=N}var he=(ee[ye>>>24]<<24|ee[pe>>>16&255]<<16|ee[je>>>8&255]<<8|ee[qe&255])^te[Y++],Ke=(ee[pe>>>24]<<24|ee[je>>>16&255]<<16|ee[qe>>>8&255]<<8|ee[ye&255])^te[Y++],ze=(ee[je>>>24]<<24|ee[qe>>>16&255]<<16|ee[ye>>>8&255]<<8|ee[pe&255])^te[Y++],N=(ee[qe>>>24]<<24|ee[ye>>>16&255]<<16|ee[pe>>>8&255]<<8|ee[je&255])^te[Y++];M[z]=he,M[z+1]=Ke,M[z+2]=ze,M[z+3]=N},keySize:256/32});i.AES=h._createHelper(k)})(),s.AES})})(Fu)),Fu.exports}var Lu={exports:{}},I2=Lu.exports,Wg;function X2(){return Wg||(Wg=1,(function(o,a){(function(s,i,c){o.exports=i(St(),As(),Cs(),Vo(),On())})(I2,function(s){return(function(){var i=s,c=i.lib,h=c.WordArray,m=c.BlockCipher,x=i.algo,v=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],p=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],b=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],y=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],C=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],D=x.DES=m.extend({_doReset:function(){for(var F=this._key,k=F.words,M=[],z=0;z<56;z++){var te=v[z]-1;M[z]=k[te>>>5]>>>31-te%32&1}for(var G=this._subKeys=[],V=0;V<16;V++){for(var J=G[V]=[],Se=b[V],z=0;z<24;z++)J[z/6|0]|=M[(p[z]-1+Se)%28]<<31-z%6,J[4+(z/6|0)]|=M[28+(p[z+24]-1+Se)%28]<<31-z%6;J[0]=J[0]<<1|J[0]>>>31;for(var z=1;z<7;z++)J[z]=J[z]>>>(z-1)*4+3;J[7]=J[7]<<5|J[7]>>>27}for(var ee=this._invSubKeys=[],z=0;z<16;z++)ee[z]=G[15-z]},encryptBlock:function(F,k){this._doCryptBlock(F,k,this._subKeys)},decryptBlock:function(F,k){this._doCryptBlock(F,k,this._invSubKeys)},_doCryptBlock:function(F,k,M){this._lBlock=F[k],this._rBlock=F[k+1],B.call(this,4,252645135),B.call(this,16,65535),j.call(this,2,858993459),j.call(this,8,16711935),B.call(this,1,1431655765);for(var z=0;z<16;z++){for(var te=M[z],G=this._lBlock,V=this._rBlock,J=0,Se=0;Se<8;Se++)J|=y[Se][((V^te[Se])&C[Se])>>>0];this._lBlock=V,this._rBlock=G^J}var ee=this._lBlock;this._lBlock=this._rBlock,this._rBlock=ee,B.call(this,1,1431655765),j.call(this,8,16711935),j.call(this,2,858993459),B.call(this,16,65535),B.call(this,4,252645135),F[k]=this._lBlock,F[k+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function B(F,k){var M=(this._lBlock>>>F^this._rBlock)&k;this._rBlock^=M,this._lBlock^=M<<F}function j(F,k){var M=(this._rBlock>>>F^this._lBlock)&k;this._lBlock^=M,this._rBlock^=M<<F}i.DES=m._createHelper(D);var O=x.TripleDES=m.extend({_doReset:function(){var F=this._key,k=F.words;if(k.length!==2&&k.length!==4&&k.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var M=k.slice(0,2),z=k.length<4?k.slice(0,2):k.slice(2,4),te=k.length<6?k.slice(0,2):k.slice(4,6);this._des1=D.createEncryptor(h.create(M)),this._des2=D.createEncryptor(h.create(z)),this._des3=D.createEncryptor(h.create(te))},encryptBlock:function(F,k){this._des1.encryptBlock(F,k),this._des2.decryptBlock(F,k),this._des3.encryptBlock(F,k)},decryptBlock:function(F,k){this._des3.decryptBlock(F,k),this._des2.encryptBlock(F,k),this._des1.decryptBlock(F,k)},keySize:192/32,ivSize:64/32,blockSize:64/32});i.TripleDES=m._createHelper(O)})(),s.TripleDES})})(Lu)),Lu.exports}var Hu={exports:{}},Q2=Hu.exports,Jg;function Z2(){return Jg||(Jg=1,(function(o,a){(function(s,i,c){o.exports=i(St(),As(),Cs(),Vo(),On())})(Q2,function(s){return(function(){var i=s,c=i.lib,h=c.StreamCipher,m=i.algo,x=m.RC4=h.extend({_doReset:function(){for(var b=this._key,y=b.words,C=b.sigBytes,D=this._S=[],B=0;B<256;B++)D[B]=B;for(var B=0,j=0;B<256;B++){var O=B%C,F=y[O>>>2]>>>24-O%4*8&255;j=(j+D[B]+F)%256;var k=D[B];D[B]=D[j],D[j]=k}this._i=this._j=0},_doProcessBlock:function(b,y){b[y]^=v.call(this)},keySize:256/32,ivSize:0});function v(){for(var b=this._S,y=this._i,C=this._j,D=0,B=0;B<4;B++){y=(y+1)%256,C=(C+b[y])%256;var j=b[y];b[y]=b[C],b[C]=j,D|=b[(b[y]+b[C])%256]<<24-B*8}return this._i=y,this._j=C,D}i.RC4=h._createHelper(x);var p=m.RC4Drop=x.extend({cfg:x.cfg.extend({drop:192}),_doReset:function(){x._doReset.call(this);for(var b=this.cfg.drop;b>0;b--)v.call(this)}});i.RC4Drop=h._createHelper(p)})(),s.RC4})})(Hu)),Hu.exports}var qu={exports:{}},W2=qu.exports,ex;function J2(){return ex||(ex=1,(function(o,a){(function(s,i,c){o.exports=i(St(),As(),Cs(),Vo(),On())})(W2,function(s){return(function(){var i=s,c=i.lib,h=c.StreamCipher,m=i.algo,x=[],v=[],p=[],b=m.Rabbit=h.extend({_doReset:function(){for(var C=this._key.words,D=this.cfg.iv,B=0;B<4;B++)C[B]=(C[B]<<8|C[B]>>>24)&16711935|(C[B]<<24|C[B]>>>8)&4278255360;var j=this._X=[C[0],C[3]<<16|C[2]>>>16,C[1],C[0]<<16|C[3]>>>16,C[2],C[1]<<16|C[0]>>>16,C[3],C[2]<<16|C[1]>>>16],O=this._C=[C[2]<<16|C[2]>>>16,C[0]&4294901760|C[1]&65535,C[3]<<16|C[3]>>>16,C[1]&4294901760|C[2]&65535,C[0]<<16|C[0]>>>16,C[2]&4294901760|C[3]&65535,C[1]<<16|C[1]>>>16,C[3]&4294901760|C[0]&65535];this._b=0;for(var B=0;B<4;B++)y.call(this);for(var B=0;B<8;B++)O[B]^=j[B+4&7];if(D){var F=D.words,k=F[0],M=F[1],z=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,te=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360,G=z>>>16|te&4294901760,V=te<<16|z&65535;O[0]^=z,O[1]^=G,O[2]^=te,O[3]^=V,O[4]^=z,O[5]^=G,O[6]^=te,O[7]^=V;for(var B=0;B<4;B++)y.call(this)}},_doProcessBlock:function(C,D){var B=this._X;y.call(this),x[0]=B[0]^B[5]>>>16^B[3]<<16,x[1]=B[2]^B[7]>>>16^B[5]<<16,x[2]=B[4]^B[1]>>>16^B[7]<<16,x[3]=B[6]^B[3]>>>16^B[1]<<16;for(var j=0;j<4;j++)x[j]=(x[j]<<8|x[j]>>>24)&16711935|(x[j]<<24|x[j]>>>8)&4278255360,C[D+j]^=x[j]},blockSize:128/32,ivSize:64/32});function y(){for(var C=this._X,D=this._C,B=0;B<8;B++)v[B]=D[B];D[0]=D[0]+1295307597+this._b|0,D[1]=D[1]+3545052371+(D[0]>>>0<v[0]>>>0?1:0)|0,D[2]=D[2]+886263092+(D[1]>>>0<v[1]>>>0?1:0)|0,D[3]=D[3]+1295307597+(D[2]>>>0<v[2]>>>0?1:0)|0,D[4]=D[4]+3545052371+(D[3]>>>0<v[3]>>>0?1:0)|0,D[5]=D[5]+886263092+(D[4]>>>0<v[4]>>>0?1:0)|0,D[6]=D[6]+1295307597+(D[5]>>>0<v[5]>>>0?1:0)|0,D[7]=D[7]+3545052371+(D[6]>>>0<v[6]>>>0?1:0)|0,this._b=D[7]>>>0<v[7]>>>0?1:0;for(var B=0;B<8;B++){var j=C[B]+D[B],O=j&65535,F=j>>>16,k=((O*O>>>17)+O*F>>>15)+F*F,M=((j&4294901760)*j|0)+((j&65535)*j|0);p[B]=k^M}C[0]=p[0]+(p[7]<<16|p[7]>>>16)+(p[6]<<16|p[6]>>>16)|0,C[1]=p[1]+(p[0]<<8|p[0]>>>24)+p[7]|0,C[2]=p[2]+(p[1]<<16|p[1]>>>16)+(p[0]<<16|p[0]>>>16)|0,C[3]=p[3]+(p[2]<<8|p[2]>>>24)+p[1]|0,C[4]=p[4]+(p[3]<<16|p[3]>>>16)+(p[2]<<16|p[2]>>>16)|0,C[5]=p[5]+(p[4]<<8|p[4]>>>24)+p[3]|0,C[6]=p[6]+(p[5]<<16|p[5]>>>16)+(p[4]<<16|p[4]>>>16)|0,C[7]=p[7]+(p[6]<<8|p[6]>>>24)+p[5]|0}i.Rabbit=h._createHelper(b)})(),s.Rabbit})})(qu)),qu.exports}var Uu={exports:{}},e4=Uu.exports,tx;function t4(){return tx||(tx=1,(function(o,a){(function(s,i,c){o.exports=i(St(),As(),Cs(),Vo(),On())})(e4,function(s){return(function(){var i=s,c=i.lib,h=c.StreamCipher,m=i.algo,x=[],v=[],p=[],b=m.RabbitLegacy=h.extend({_doReset:function(){var C=this._key.words,D=this.cfg.iv,B=this._X=[C[0],C[3]<<16|C[2]>>>16,C[1],C[0]<<16|C[3]>>>16,C[2],C[1]<<16|C[0]>>>16,C[3],C[2]<<16|C[1]>>>16],j=this._C=[C[2]<<16|C[2]>>>16,C[0]&4294901760|C[1]&65535,C[3]<<16|C[3]>>>16,C[1]&4294901760|C[2]&65535,C[0]<<16|C[0]>>>16,C[2]&4294901760|C[3]&65535,C[1]<<16|C[1]>>>16,C[3]&4294901760|C[0]&65535];this._b=0;for(var O=0;O<4;O++)y.call(this);for(var O=0;O<8;O++)j[O]^=B[O+4&7];if(D){var F=D.words,k=F[0],M=F[1],z=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,te=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360,G=z>>>16|te&4294901760,V=te<<16|z&65535;j[0]^=z,j[1]^=G,j[2]^=te,j[3]^=V,j[4]^=z,j[5]^=G,j[6]^=te,j[7]^=V;for(var O=0;O<4;O++)y.call(this)}},_doProcessBlock:function(C,D){var B=this._X;y.call(this),x[0]=B[0]^B[5]>>>16^B[3]<<16,x[1]=B[2]^B[7]>>>16^B[5]<<16,x[2]=B[4]^B[1]>>>16^B[7]<<16,x[3]=B[6]^B[3]>>>16^B[1]<<16;for(var j=0;j<4;j++)x[j]=(x[j]<<8|x[j]>>>24)&16711935|(x[j]<<24|x[j]>>>8)&4278255360,C[D+j]^=x[j]},blockSize:128/32,ivSize:64/32});function y(){for(var C=this._X,D=this._C,B=0;B<8;B++)v[B]=D[B];D[0]=D[0]+1295307597+this._b|0,D[1]=D[1]+3545052371+(D[0]>>>0<v[0]>>>0?1:0)|0,D[2]=D[2]+886263092+(D[1]>>>0<v[1]>>>0?1:0)|0,D[3]=D[3]+1295307597+(D[2]>>>0<v[2]>>>0?1:0)|0,D[4]=D[4]+3545052371+(D[3]>>>0<v[3]>>>0?1:0)|0,D[5]=D[5]+886263092+(D[4]>>>0<v[4]>>>0?1:0)|0,D[6]=D[6]+1295307597+(D[5]>>>0<v[5]>>>0?1:0)|0,D[7]=D[7]+3545052371+(D[6]>>>0<v[6]>>>0?1:0)|0,this._b=D[7]>>>0<v[7]>>>0?1:0;for(var B=0;B<8;B++){var j=C[B]+D[B],O=j&65535,F=j>>>16,k=((O*O>>>17)+O*F>>>15)+F*F,M=((j&4294901760)*j|0)+((j&65535)*j|0);p[B]=k^M}C[0]=p[0]+(p[7]<<16|p[7]>>>16)+(p[6]<<16|p[6]>>>16)|0,C[1]=p[1]+(p[0]<<8|p[0]>>>24)+p[7]|0,C[2]=p[2]+(p[1]<<16|p[1]>>>16)+(p[0]<<16|p[0]>>>16)|0,C[3]=p[3]+(p[2]<<8|p[2]>>>24)+p[1]|0,C[4]=p[4]+(p[3]<<16|p[3]>>>16)+(p[2]<<16|p[2]>>>16)|0,C[5]=p[5]+(p[4]<<8|p[4]>>>24)+p[3]|0,C[6]=p[6]+(p[5]<<16|p[5]>>>16)+(p[4]<<16|p[4]>>>16)|0,C[7]=p[7]+(p[6]<<8|p[6]>>>24)+p[5]|0}i.RabbitLegacy=h._createHelper(b)})(),s.RabbitLegacy})})(Uu)),Uu.exports}var Ku={exports:{}},n4=Ku.exports,nx;function a4(){return nx||(nx=1,(function(o,a){(function(s,i,c){o.exports=i(St(),As(),Cs(),Vo(),On())})(n4,function(s){return(function(){var i=s,c=i.lib,h=c.BlockCipher,m=i.algo;const x=16,v=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],p=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var b={pbox:[],sbox:[]};function y(O,F){let k=F>>24&255,M=F>>16&255,z=F>>8&255,te=F&255,G=O.sbox[0][k]+O.sbox[1][M];return G=G^O.sbox[2][z],G=G+O.sbox[3][te],G}function C(O,F,k){let M=F,z=k,te;for(let G=0;G<x;++G)M=M^O.pbox[G],z=y(O,M)^z,te=M,M=z,z=te;return te=M,M=z,z=te,z=z^O.pbox[x],M=M^O.pbox[x+1],{left:M,right:z}}function D(O,F,k){let M=F,z=k,te;for(let G=x+1;G>1;--G)M=M^O.pbox[G],z=y(O,M)^z,te=M,M=z,z=te;return te=M,M=z,z=te,z=z^O.pbox[1],M=M^O.pbox[0],{left:M,right:z}}function B(O,F,k){for(let V=0;V<4;V++){O.sbox[V]=[];for(let J=0;J<256;J++)O.sbox[V][J]=p[V][J]}let M=0;for(let V=0;V<x+2;V++)O.pbox[V]=v[V]^F[M],M++,M>=k&&(M=0);let z=0,te=0,G=0;for(let V=0;V<x+2;V+=2)G=C(O,z,te),z=G.left,te=G.right,O.pbox[V]=z,O.pbox[V+1]=te;for(let V=0;V<4;V++)for(let J=0;J<256;J+=2)G=C(O,z,te),z=G.left,te=G.right,O.sbox[V][J]=z,O.sbox[V][J+1]=te;return!0}var j=m.Blowfish=h.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var O=this._keyPriorReset=this._key,F=O.words,k=O.sigBytes/4;B(b,F,k)}},encryptBlock:function(O,F){var k=C(b,O[F],O[F+1]);O[F]=k.left,O[F+1]=k.right},decryptBlock:function(O,F){var k=D(b,O[F],O[F+1]);O[F]=k.left,O[F+1]=k.right},blockSize:64/32,keySize:128/32,ivSize:64/32});i.Blowfish=h._createHelper(j)})(),s.Blowfish})})(Ku)),Ku.exports}var r4=iu.exports,ax;function o4(){return ax||(ax=1,(function(o,a){(function(s,i,c){o.exports=i(St(),Wu(),t2(),a2(),As(),s2(),Cs(),Kx(),Ff(),d2(),Px(),p2(),g2(),y2(),Lf(),w2(),Vo(),On(),C2(),D2(),T2(),k2(),O2(),R2(),F2(),H2(),U2(),P2(),Y2(),G2(),X2(),Z2(),J2(),t4(),a4())})(r4,function(s){return s})})(iu)),iu.exports}o4();function s4(o,a,s){var i,c;typeof o=="function"?(i=a||[],c=s):(i=[],c=a);var h=Me.useRef({hasResult:!1,result:c,error:null}),m=Me.useReducer(function(p){return p+1},0);m[0];var x=m[1],v=Me.useMemo(function(){var p=typeof o=="function"?o():o;if(!p||typeof p.subscribe!="function")throw o===p?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!h.current.hasResult&&typeof window<"u"&&(typeof p.hasValue!="function"||p.hasValue()))if(typeof p.getValue=="function")h.current.result=p.getValue(),h.current.hasResult=!0;else{var b=p.subscribe(function(y){h.current.result=y,h.current.hasResult=!0});typeof b=="function"?b():b.unsubscribe()}return p},i);if(Me.useDebugValue(h.current.result),Me.useEffect(function(){var p=v.subscribe(function(b){var y=h.current;(y.error!==null||y.result!==b)&&(y.error=null,y.result=b,y.hasResult=!0,x())},function(b){var y=h.current;y.error!==b&&(y.error=b,x())});return typeof p=="function"?p:p.unsubscribe.bind(p)},i),h.current.error)throw h.current.error;return h.current.result}function Vx(o,a,s){return s4(function(){return vi.liveQuery(o)},a||[],s)}typeof FinalizationRegistry<"u"&&new FinalizationRegistry(function(o){var a=vi.DexieYProvider;a&&a.release(o)});const i4=async()=>(await Qa.saves.filter(a=>!a.isSystemSave).reverse().sortBy("timestamp"))[0]??null,Yx=()=>{const o=Vx(i4,[],null),a=_e.useCallback(async()=>{if(!o?.id)return;const s=Number(o.name);if(isNaN(s))throw new Error("Invalid save ID");try{const i=await qx(s);if(!i)return{success:!1,error:"Game data not found"};L.setState(i.gameData)}catch(i){return console.error("Failed to load last game:",i),{success:!1,error:i.message||"Unknown error occurred while loading the game, please, check console for more info"}}},[o?.id]);return{hasLastSave:!!o,loadLastGame:a,isLoading:o===void 0,lastSave:o??null}},$x=new Map,rx=(o,a)=>`${o}${a}`;function l4(){return Array.from($x.values())}function Gx(o,a){if(o===a)return[];const s=new Map,i=new Map;for(const m of $x.values())s.has(m.from)||s.set(m.from,[]),s.get(m.from).push(m.to),i.set(rx(m.from,m.to),m);const c=[{version:o,path:[]}],h=new Set([o]);for(;c.length>0;){const m=c.shift();if(m.version===a){const v=[];for(let p=0;p<m.path.length;p++){const b=p===0?o:m.path[p-1],y=m.path[p];if(!b||!y)continue;const C=i.get(rx(b,y));C&&v.push(C)}return v}const x=s.get(m.version)||[];for(const v of x)h.has(v)||(h.add(v),c.push({version:v,path:[...m.path,v]}))}return null}function c4(o){const a=[],s=l4();if(s.length===0)return{valid:!0,issues:[]};const i=new Set,c=new Set;for(const m of s)i.add(m.from),c.add(m.to);const h=new Set(Array.from(i).filter(m=>!c.has(m)));for(const m of h)Gx(m,o)===null&&a.push(`No migration path from base version ${m} to latest version ${o}`);for(const m of c)m!==o&&!i.has(m)&&a.push(`Dead end detected: Version ${m} has no outgoing migrations`);return{valid:a.length===0,issues:a}}function u4(o,a,s,i={}){const{strict:c=!1,verbose:h}=i,m=h!==void 0?h:Er().isDevMode;if(a===s)return m&&Ie.log(`No migration needed: save version ${a} matches current version`),{success:!0,data:o,migrationsApplied:[]};m&&Ie.log(`Finding migration path from ${a} to ${s}...`);const x=Gx(a,s);if(x===null){const b=`No migration path found from version ${a} to ${s}`;if(c)throw new Error(b);return Ie.warn(`${b}. Returning original data. This may cause compatibility issues.`),{success:!1,error:b,migrationsApplied:[]}}if(x.length===0)return{success:!0,data:o,migrationsApplied:[]};m&&(Ie.log(`Found migration path with ${x.length} step(s):`),x.forEach((b,y)=>{Ie.log(`  ${y+1}. ${b.from}  ${b.to}: ${b.description}`)}));let v=o;const p=[];try{for(const b of x){m&&Ie.log(`Applying migration: ${b.from}  ${b.to}`);const y=b.migrate(v);if(!y||typeof y!="object"||Array.isArray(y))throw new Error(`Migration ${b.from}  ${b.to} returned invalid data type. Expected object, got ${typeof y}`);v=y,p.push({from:b.from,to:b.to,description:b.description}),m&&Ie.log(`Successfully applied migration: ${b.from}  ${b.to}`)}return m&&Ie.log(`Migration complete: ${a}  ${s} (${p.length} steps)`),{success:!0,data:v,migrationsApplied:p}}catch(b){const y=b instanceof Error?b.message:String(b);return Ie.error(`Migration failed at step ${p.length+1}: ${y}`),{success:!1,error:y,migrationsApplied:p}}}function d4(o,a,s){const i=Er().gameVersion;return u4(o,a,i,s)}const f4=()=>async o=>{try{const a=await qx(o);if(!a)return{success:!1,message:"The requested game save does not exist"};const s=L.options.gameVersion,i=a.version;let c=a.gameData;if(i!==s){const h=d4(a.gameData,i);if(!h.success)return{success:!1,message:`Failed to migrate save from version ${i} to ${s}: ${h.error}`};c=h.data,h.migrationsApplied.length>0&&console.log(`Save migrated from version ${i} to ${s} (${h.migrationsApplied.length} step(s))`)}L.setState(c)}catch(a){return console.error("Failed to load game:",a),{success:!1,message:a.message||"Failed to load game. Check console for more info."}}},h4=()=>_e.useCallback(async()=>{const o=await Ux();return o?(L.clearAutoSave(),L.setState(o.gameData),L.jumpTo(wr.START_MENU),{success:!0,error:null}):{success:!1,error:"System save not found. Cannot restart game."}},[]),p4=()=>async o=>{const a=L.getState();try{await F1(o,a)}catch(s){return console.error("Failed to save game:",s),{success:!1,message:s.message||"Failed to save game. Check console for more info."}}},Ix=({count:o}={count:1})=>{const a=Vx(()=>L1(),[],[]),s=X1(),i=p4(),c=f4();return _e.useMemo(()=>Array.from({length:o}).map((h,m)=>({data:a?.find(x=>x.name===`${m}`)||null,save:async()=>i(m),load:async()=>c(m),delete:async()=>s(m)})),[a,o,s,c,i])},or=new Map,Wr=new Map,ox=`${zf}.game`;class L{static state=yi({currentPassageId:null,renderId:null});static initialized=!1;static autoSaveEnabled=!1;static saveTimer=null;static unsubscribeFunctions=[];static AUTO_SAVE_KEY="gameAutoSave";static SAVE_DEBOUNCE_MS=500;static pendingInitialState={};static pendingStartPassage=null;static ensureInitialized(){if(!L.initialized)throw new Error("Game not initialized. Please call Game.init() before using the game engine.")}static registerEntity(...a){a.forEach(s=>{if(or.has(s.id))throw new Error(`Object "${s.id}" is already registered.`);const i=yi(s);if(or.set(s.id,i),Ie.log(`Registered entity: ${s.id}`),L.pendingInitialState[s.id]){const c=L.pendingInitialState[s.id];Ie.log(`Applying pending initialState for late-registered entity: ${s.id}`),s.save();const h=Oa.getState(),m=gf(h,{[s.id]:c});Oa.setState(m),s.load(),delete L.pendingInitialState[s.id],Ie.log(`Successfully applied pending initialState: ${JSON.stringify(c)}`)}})}static registerPassage(...a){const s=Object.values(wr);a.forEach(i=>{if(Wr.has(i.id)&&!s.includes(i.id))throw new Error(`Passage "${i.id}" is already registered.`);Wr.set(i.id,i),Ie.log(`Registered passage: ${i.id}`),L.pendingStartPassage===i.id&&(L.setCurrent(i.id),L.pendingStartPassage=null,Ie.log(`Applied pending startPassage: ${i.id}`))})}static get registeredPassages(){return Wr.values()}static get currentPassage(){return L.ensureInitialized(),L.state.currentPassageId===null?null:Wr.get(L.state.currentPassageId)||null}static getPassageById(a){return L.ensureInitialized(),Wr.get(a)||null}static getAllPassages(){return L.ensureInitialized(),Array.from(Wr.values())}static jumpTo(a){L.ensureInitialized(),L.state.renderId=`${Date.now()}-${Math.random()}`;const s=typeof a=="string"?a:a.id,i=Wr.get(s)||null;if(!i)throw new Error(`Passage "${s}" not found.`);L.state.currentPassageId=i?i.id:null,Ie.log(`Jumped to passage: ${s}`)}static setCurrent(a){L.ensureInitialized(),L.state.currentPassageId=typeof a=="string"?a:a.id,Ie.log(`Set current passage: ${L.state.currentPassageId}`)}static _getProxiedObject(a){return or.get(a.id)||a}static _getAllProxiedObjects(){return Array.from(or.values())}static get selfState(){return L.ensureInitialized(),L.state}static save(){const a={currentPassageId:L.state.currentPassageId};Oa.setValue(ox,a,!0),Ie.log(`Game state saved: ${JSON.stringify(a)}`)}static load(){const a=Oa.getValue(ox);if(!a.length)throw new Error("No saved state found.");const{currentPassageId:s}=a[0];L.state.currentPassageId=s||null,Ie.log(`Game state loaded: ${JSON.stringify(a[0])}`)}static getState(a=!1){a||L.ensureInitialized(),L.save();for(const[,s]of or)s.save();return Oa.getState()}static setState(a){L.ensureInitialized(),Oa.setState(a),L.load();for(const[,s]of or)s.load()}static saveToSessionStorage(){L.saveTimer&&clearTimeout(L.saveTimer),L.saveTimer=setTimeout(()=>{const a=L.getState();sessionStorage.setItem(L.AUTO_SAVE_KEY,JSON.stringify(a))},L.SAVE_DEBOUNCE_MS)}static enableAutoSave(){if(L.ensureInitialized(),L.autoSaveEnabled){Ie.warn("Auto-save is already enabled");return}L.autoSaveEnabled=!0;const a=$u(L.state,()=>{L.saveToSessionStorage()});L.unsubscribeFunctions.push(a);for(const[,s]of or){const i=$u(s,()=>{L.saveToSessionStorage()});L.unsubscribeFunctions.push(i)}Ie.log("Auto-save enabled")}static disableAutoSave(){if(L.ensureInitialized(),!L.autoSaveEnabled){Ie.warn("Auto-save is already disabled");return}L.saveTimer&&(clearTimeout(L.saveTimer),L.saveTimer=null),L.unsubscribeFunctions.forEach(a=>a()),L.unsubscribeFunctions=[],L.autoSaveEnabled=!1,Ie.log("Auto-save disabled")}static loadFromSessionStorage(){L.ensureInitialized();const a=sessionStorage.getItem(L.AUTO_SAVE_KEY);if(!a)return!1;try{const s=JSON.parse(a);return L.setState(s),Ie.log("Game state loaded from session storage"),!0}catch(s){return Ie.error("Failed to load state from session storage:",s),!1}}static clearAutoSave(){L.ensureInitialized(),sessionStorage.removeItem(L.AUTO_SAVE_KEY),Ie.log("Auto-save data cleared from session storage")}static async init(a){if(L.initialized){Ie.warn("Game.init() called multiple times. Ignoring subsequent calls.");return}ng(a),L.initialized=!0;const s=a.startPassage!==void 0;if(await I1(a.translations),a.initialState&&Object.keys(a.initialState).length>0){L.save();for(const[,p]of or)p.save();const c=Oa.getState(),h=new Set(Array.from(or.keys())),m={},x={};for(const p in a.initialState){if(p.startsWith("_system")||p.startsWith("$")){Ie.warn(`Skipping system path in initialState: ${p}`);continue}h.has(p)?m[p]=a.initialState[p]:(x[p]=a.initialState[p],Ie.log(`Queuing initialState for not-yet-registered entity: ${p}`))}L.pendingInitialState={...x};const v=gf(c,m);Oa.setState(v),L.load();for(const[,p]of or)p.load();Ie.log(`Applied initialState immediately: ${JSON.stringify(m)}`),Object.keys(x).length>0&&Ie.log(`Queued initialState for late-registering entities: ${JSON.stringify(x)}`)}if(L.options.isDevMode&&(Ie.warn("Game is running in dev mode, do not use in production!"),Gb()),L.options.isDevMode){const c=c4(L.options.gameVersion);c.valid?c.issues.length===0&&Ie.log("Migration validation passed"):(Ie.warn("Migration validation failed. The following issues were found:"),c.issues.forEach(h=>Ie.warn(`  - ${h}`)),Ie.warn("These issues may cause problems when loading saves from older versions."))}s?Wr.has(L.options.startPassage)?(L.setCurrent(L.options.startPassage),Ie.log(`Set startPassage: ${L.options.startPassage}`)):(L.pendingStartPassage=L.options.startPassage,Ie.log(`Queuing startPassage for late registration: ${L.options.startPassage}`)):L.setCurrent(wr.START_MENU);const i=L.getState(!0);await K1(i),L.options.isDevMode?Ie.warn("Save to session storage is turned off due to dev mode"):(L.loadFromSessionStorage(),L.enableAutoSave()),Ie.log(`Game initialized with options: ${JSON.stringify(a)}`)}static get options(){return L.ensureInitialized(),Er()}static updateOptions(a){L.ensureInitialized(),ng(a)}static _resetForTesting(){L.autoSaveEnabled&&L.disableAutoSave(),or.clear(),Wr.clear(),L.initialized=!1,L.pendingInitialState={},L.pendingStartPassage=null,L.state.currentPassageId=null,Ib()}}class Hf{static jsonPath="$.";id;_variables;constructor(a){this.id=a.id,this._variables=a.variables||{},L.registerEntity(this)}get variables(){return this._variables}get path(){return`${Hf.jsonPath}${this.id}`}load(){const a=Oa.getValue(this.path);if(a.length>0)Object.assign(this._variables,a[0]);else for(const s in this._variables)delete this._variables[s]}save(){Oa.setValue(this.path,ff(this._variables))}}class m4 extends Hf{proxyCache=new WeakMap;constructor(a){if(super(a),a.variables)for(const s of Object.keys(a.variables))Object.defineProperty(this,s,{get:()=>{const i=this._variables[s];return this.isProxyableObject(i)?this.createDeepProxy(i):i},set:i=>{this._variables[s]=i},enumerable:!0,configurable:!0})}isProxyableObject(a){return a!==null&&typeof a=="object"&&!(a instanceof Date)&&!(a instanceof RegExp)&&!(a instanceof Map)&&!(a instanceof Set)}createDeepProxy(a){if(this.proxyCache.has(a))return this.proxyCache.get(a);const s=yi(a);return this.proxyCache.set(a,s),s}load(){super.load(),this.proxyCache=new WeakMap}}const g4=m4,Yo=(o,a)=>new g4({id:o,variables:a});class qf{id;type;_lastDisplayResult=null;constructor(a,s){this.id=a,this.type=s,L.registerPassage(this)}display(a={}){throw new Error(`Display method not implemented for passage: ${this.id}`)}getLastDisplayResult(){return this._lastDisplayResult}hasDisplayCache(){return this._lastDisplayResult!==null}}class x4 extends qf{options;constructor(a,s){super(a,"interactiveMap"),this.options=s}display(a={}){const i=Wc(this.options.hotspots,a).map(x=>Wc(x,a)).filter(x=>x!==void 0),c=Wc(this.options.image),h=Wc(this.options.bgImage),m={...this.options,image:c,bgImage:h,hotspots:i};return this._lastDisplayResult=m,m}}const Ju=(o,a)=>new x4(o,a);class y4 extends qf{content;options;constructor(a,s,i={}){super(a,"story"),this.content=s,this.options=i}display(a={}){const s={options:this.options,components:this.content(a)};return this._lastDisplayResult=s,s}}const Je=(o,a,s)=>new y4(o,a,s);Je(wr.START_MENU,()=>[{type:"header",content:"Start Story"},{type:"text",content:"This is a placeholder for the start passage, please, consider to replace it with new story with id `start-menu-passage`."}]);class v4 extends qf{content;constructor(a,s){super(a,"widget"),this.content=s}display(){let a;return typeof this.content=="function"?a=_e.createElement(this.content):a=this.content,this._lastDisplayResult=a,a}}const e0=(o,a)=>new v4(o,a),b4=Symbol();function Uf(o,a){const s=ab(o);s[b4];let i=!0;return _e.useLayoutEffect(()=>{i=!1}),new Proxy(o,{get(c,h){return i?s[h]:c[h]}})}const Kf=()=>{const o=Uf(L.selfState);return o.currentPassageId===null?[null,o.renderId]:[L.getPassageById(o.currentPassageId),o.renderId]},w4=o=>["","","  Entity Registration Error","","",`Entity "${o}" is not registered with the game engine.`,"","Why this happened:","  React components need entities to be registered as Valtio proxies","  to detect state changes and trigger re-renders automatically.","","How to fix:","  Entities should auto-register in their constructor via:","    Game.registerEntity(this)","",`  If "${o}" is a custom entity, ensure its constructor`,"  calls the parent BaseGameObject constructor which handles registration:","","  Example:","    constructor(props) {","      super(props); // This registers the entity","    }","","Troubleshooting:",`  1. Check if "${o}" extends BaseGameObject`,"  2. Verify the constructor calls super() with an id","  3. Make sure the entity is imported before using useGameEntity","","",""].join(`
`);function Ll(o){const a=L._getProxiedObject(o);try{return Uf(a)}catch(s){if(s instanceof TypeError){const i=w4(o.id);throw console.error(i),new Error(i)}else throw s}}const E4=()=>Uf(L.selfState).currentPassageId!==wr.START_MENU,nn=Yo("environment",{timeOfDay:"morning",weather:"clear",discoveredLocations:{village:!0,forest:!0,castle:!1,dragonLair:!1},visitCounts:{village:0,tavern:0,blacksmith:0,forest:0,castle:0,dragonLair:0},worldEvents:{dragonAttackAnnounced:!1,villageInPanic:!1,castleOnAlert:!1,dragonDefeated:!1,peacefulEnding:!1},currentChapter:1}),nf=Yo("blacksmith",{name:"Gareth the Smith",mood:"neutral",conversationCount:0,shopInventory:{iron_sword:{price:30,available:!0},steel_sword:{price:75,available:!0},chainmail:{price:50,available:!0},plate_armor:{price:120,available:!1},wooden_shield:{price:15,available:!0},iron_shield:{price:40,available:!0},health_potion:{price:20,available:!0}},dialogue:{introducedSelf:!1,mentionedDragon:!1,offeredDiscount:!1}}),ja=Yo("tavernKeeper",{name:"Martha",mood:"friendly",conversationCount:0,rumors:{dragonSighting:!1,castleSecret:!1,forestTreasure:!1,blacksmithSecret:!1},dialogue:{introducedSelf:!1,servedDrink:!1,sharedAllRumors:!1}}),ia=Yo("elderMarcus",{name:"Elder Marcus",title:"Village Elder of Millbrook",mood:"worried",conversationCount:0,questState:"not_started",dialogue:{introducedSelf:!1,explainedSituation:!1,gaveReward:!1},reward:{gold:100,item:"royal_seal"}}),ta=Yo("kingAlderon",{name:"King Alderon III",title:"King of Valdoria",mood:"stern",conversationCount:0,dialogue:{gaveAudience:!1,gaveBlessing:!1,gaveReward:!1},blessingGiven:!1}),gt=Yo("dragon",{name:"Vexarion the Terrible",title:"Dragon of Mount Doom",health:200,maxHealth:200,attack:30,defense:15,isAngry:!1,isDefeated:!1,dialogue:{spokeTo:!1,learnedMotivation:!1,offeredPeace:!1,acceptedPeace:!1},treasureLooted:!1}),Xa=Yo("princessElara",{name:"Princess Elara",title:"Princess of Valdoria",isRescued:!1,dialogue:{introducedSelf:!1,thankedPlayer:!1,revealedDragonSecret:!1}}),S4={improveRelationship:o=>{o.mood==="annoyed"?o.mood="neutral":o.mood==="neutral"?o.mood="friendly":o.mood==="suspicious"&&(o.mood="neutral")},worsenRelationship:o=>{o.mood==="friendly"?o.mood="neutral":o.mood==="neutral"&&(o.mood="annoyed")},incrementConversation:o=>{o.conversationCount++}};var af={exports:{}},Jn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sx;function A4(){if(sx)return Jn;sx=1;var o=Rf();function a(v){var p="https://react.dev/errors/"+v;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+v+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function h(v,p,b){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:y==null?null:""+y,children:v,containerInfo:p,implementation:b}}var m=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function x(v,p){if(v==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Jn.createPortal=function(v,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(a(299));return h(v,p,null,b)},Jn.flushSync=function(v){var p=m.T,b=i.p;try{if(m.T=null,i.p=2,v)return v()}finally{m.T=p,i.p=b,i.d.f()}},Jn.preconnect=function(v,p){typeof v=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(v,p))},Jn.prefetchDNS=function(v){typeof v=="string"&&i.d.D(v)},Jn.preinit=function(v,p){if(typeof v=="string"&&p&&typeof p.as=="string"){var b=p.as,y=x(b,p.crossOrigin),C=typeof p.integrity=="string"?p.integrity:void 0,D=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?i.d.S(v,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:C,fetchPriority:D}):b==="script"&&i.d.X(v,{crossOrigin:y,integrity:C,fetchPriority:D,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Jn.preinitModule=function(v,p){if(typeof v=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=x(p.as,p.crossOrigin);i.d.M(v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(v)},Jn.preload=function(v,p){if(typeof v=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,y=x(b,p.crossOrigin);i.d.L(v,b,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Jn.preloadModule=function(v,p){if(typeof v=="string")if(p){var b=x(p.as,p.crossOrigin);i.d.m(v,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(v)},Jn.requestFormReset=function(v){i.d.r(v)},Jn.unstable_batchedUpdates=function(v,p){return v(p)},Jn.useFormState=function(v,p,b){return m.H.useFormState(v,p,b)},Jn.useFormStatus=function(){return m.H.useHostTransitionStatus()},Jn.version="19.2.0",Jn}var ix;function Xx(){if(ix)return af.exports;ix=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(a){console.error(a)}}return o(),af.exports=A4(),af.exports}var Qx=Xx();const C4=Df(Qx);function _4(o){if(typeof document>"u")return;let a=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",a.appendChild(s),s.styleSheet?s.styleSheet.cssText=o:s.appendChild(document.createTextNode(o))}const D4=o=>{switch(o){case"success":return N4;case"info":return j4;case"warning":return k4;case"error":return O4;default:return null}},B4=Array(12).fill(0),T4=({visible:o,className:a})=>Me.createElement("div",{className:["sonner-loading-wrapper",a].filter(Boolean).join(" "),"data-visible":o},Me.createElement("div",{className:"sonner-spinner"},B4.map((s,i)=>Me.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),N4=Me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Me.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),k4=Me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Me.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),j4=Me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),O4=Me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),M4=Me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Me.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Me.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),R4=()=>{const[o,a]=Me.useState(document.hidden);return Me.useEffect(()=>{const s=()=>{a(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),o};let Sf=1;class z4{constructor(){this.subscribe=a=>(this.subscribers.push(a),()=>{const s=this.subscribers.indexOf(a);this.subscribers.splice(s,1)}),this.publish=a=>{this.subscribers.forEach(s=>s(a))},this.addToast=a=>{this.publish(a),this.toasts=[...this.toasts,a]},this.create=a=>{var s;const{message:i,...c}=a,h=typeof a?.id=="number"||((s=a.id)==null?void 0:s.length)>0?a.id:Sf++,m=this.toasts.find(v=>v.id===h),x=a.dismissible===void 0?!0:a.dismissible;return this.dismissedToasts.has(h)&&this.dismissedToasts.delete(h),m?this.toasts=this.toasts.map(v=>v.id===h?(this.publish({...v,...a,id:h,title:i}),{...v,...a,id:h,dismissible:x,title:i}):v):this.addToast({title:i,...c,dismissible:x,id:h}),h},this.dismiss=a=>(a?(this.dismissedToasts.add(a),requestAnimationFrame(()=>this.subscribers.forEach(s=>s({id:a,dismiss:!0})))):this.toasts.forEach(s=>{this.subscribers.forEach(i=>i({id:s.id,dismiss:!0}))}),a),this.message=(a,s)=>this.create({...s,message:a}),this.error=(a,s)=>this.create({...s,message:a,type:"error"}),this.success=(a,s)=>this.create({...s,type:"success",message:a}),this.info=(a,s)=>this.create({...s,type:"info",message:a}),this.warning=(a,s)=>this.create({...s,type:"warning",message:a}),this.loading=(a,s)=>this.create({...s,type:"loading",message:a}),this.promise=(a,s)=>{if(!s)return;let i;s.loading!==void 0&&(i=this.create({...s,promise:a,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));const c=Promise.resolve(a instanceof Function?a():a);let h=i!==void 0,m;const x=c.then(async p=>{if(m=["resolve",p],Me.isValidElement(p))h=!1,this.create({id:i,type:"default",message:p});else if(L4(p)&&!p.ok){h=!1;const y=typeof s.error=="function"?await s.error(`HTTP error! status: ${p.status}`):s.error,C=typeof s.description=="function"?await s.description(`HTTP error! status: ${p.status}`):s.description,B=typeof y=="object"&&!Me.isValidElement(y)?y:{message:y};this.create({id:i,type:"error",description:C,...B})}else if(p instanceof Error){h=!1;const y=typeof s.error=="function"?await s.error(p):s.error,C=typeof s.description=="function"?await s.description(p):s.description,B=typeof y=="object"&&!Me.isValidElement(y)?y:{message:y};this.create({id:i,type:"error",description:C,...B})}else if(s.success!==void 0){h=!1;const y=typeof s.success=="function"?await s.success(p):s.success,C=typeof s.description=="function"?await s.description(p):s.description,B=typeof y=="object"&&!Me.isValidElement(y)?y:{message:y};this.create({id:i,type:"success",description:C,...B})}}).catch(async p=>{if(m=["reject",p],s.error!==void 0){h=!1;const b=typeof s.error=="function"?await s.error(p):s.error,y=typeof s.description=="function"?await s.description(p):s.description,D=typeof b=="object"&&!Me.isValidElement(b)?b:{message:b};this.create({id:i,type:"error",description:y,...D})}}).finally(()=>{h&&(this.dismiss(i),i=void 0),s.finally==null||s.finally.call(s)}),v=()=>new Promise((p,b)=>x.then(()=>m[0]==="reject"?b(m[1]):p(m[1])).catch(b));return typeof i!="string"&&typeof i!="number"?{unwrap:v}:Object.assign(i,{unwrap:v})},this.custom=(a,s)=>{const i=s?.id||Sf++;return this.create({jsx:a(i),id:i,...s}),i},this.getActiveToasts=()=>this.toasts.filter(a=>!this.dismissedToasts.has(a.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const va=new z4,F4=(o,a)=>{const s=a?.id||Sf++;return va.addToast({title:o,...a,id:s}),s},L4=o=>o&&typeof o=="object"&&"ok"in o&&typeof o.ok=="boolean"&&"status"in o&&typeof o.status=="number",H4=F4,q4=()=>va.toasts,U4=()=>va.getActiveToasts(),Kn=Object.assign(H4,{success:va.success,info:va.info,warning:va.warning,error:va.error,custom:va.custom,message:va.message,promise:va.promise,dismiss:va.dismiss,loading:va.loading},{getHistory:q4,getToasts:U4});_4("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function eu(o){return o.label!==void 0}const K4=3,P4="24px",V4="16px",lx=4e3,Y4=356,$4=14,G4=45,I4=200;function yr(...o){return o.filter(Boolean).join(" ")}function X4(o){const[a,s]=o.split("-"),i=[];return a&&i.push(a),s&&i.push(s),i}const Q4=o=>{var a,s,i,c,h,m,x,v,p;const{invert:b,toast:y,unstyled:C,interacting:D,setHeights:B,visibleToasts:j,heights:O,index:F,toasts:k,expanded:M,removeToast:z,defaultRichColors:te,closeButton:G,style:V,cancelButtonStyle:J,actionButtonStyle:Se,className:ee="",descriptionClassName:ce="",duration:ye,position:pe,gap:je,expandByDefault:qe,classNames:Y,icons:xe,closeButtonAriaLabel:he="Close toast"}=o,[Ke,ze]=Me.useState(null),[N,P]=Me.useState(null),[U,X]=Me.useState(!1),[De,Oe]=Me.useState(!1),[Ye,Fe]=Me.useState(!1),[Te,Yt]=Me.useState(!1),[an,rt]=Me.useState(!1),[rn,qt]=Me.useState(0),[_n,la]=Me.useState(0),ca=Me.useRef(y.duration||ye||lx),ba=Me.useRef(null),Sn=Me.useRef(null),na=F===0,Mt=F+1<=j,Tt=y.type,Wt=y.dismissible!==!1,Jt=y.className||"",Ra=y.descriptionClassName||"",on=Me.useMemo(()=>O.findIndex(tt=>tt.toastId===y.id)||0,[O,y.id]),Dn=Me.useMemo(()=>{var tt;return(tt=y.closeButton)!=null?tt:G},[y.closeButton,G]),wa=Me.useMemo(()=>y.duration||ye||lx,[y.duration,ye]),ua=Me.useRef(0),Yn=Me.useRef(0),$n=Me.useRef(0),sn=Me.useRef(null),[da,ln]=pe.split("-"),en=Me.useMemo(()=>O.reduce((tt,kt,tn)=>tn>=on?tt:tt+kt.height,0),[O,on]),Ve=R4(),Za=y.invert||b,Gn=Tt==="loading";Yn.current=Me.useMemo(()=>on*je+en,[on,en]),Me.useEffect(()=>{ca.current=wa},[wa]),Me.useEffect(()=>{X(!0)},[]),Me.useEffect(()=>{const tt=Sn.current;if(tt){const kt=tt.getBoundingClientRect().height;return la(kt),B(tn=>[{toastId:y.id,height:kt,position:y.position},...tn]),()=>B(tn=>tn.filter(gn=>gn.toastId!==y.id))}},[B,y.id]),Me.useLayoutEffect(()=>{if(!U)return;const tt=Sn.current,kt=tt.style.height;tt.style.height="auto";const tn=tt.getBoundingClientRect().height;tt.style.height=kt,la(tn),B(gn=>gn.find(Ct=>Ct.toastId===y.id)?gn.map(Ct=>Ct.toastId===y.id?{...Ct,height:tn}:Ct):[{toastId:y.id,height:tn,position:y.position},...gn])},[U,y.title,y.description,B,y.id,y.jsx,y.action,y.cancel]);const Mn=Me.useCallback(()=>{Oe(!0),qt(Yn.current),B(tt=>tt.filter(kt=>kt.toastId!==y.id)),setTimeout(()=>{z(y)},I4)},[y,z,B,Yn]);Me.useEffect(()=>{if(y.promise&&Tt==="loading"||y.duration===1/0||y.type==="loading")return;let tt;return M||D||Ve?(()=>{if($n.current<ua.current){const gn=new Date().getTime()-ua.current;ca.current=ca.current-gn}$n.current=new Date().getTime()})():(()=>{ca.current!==1/0&&(ua.current=new Date().getTime(),tt=setTimeout(()=>{y.onAutoClose==null||y.onAutoClose.call(y,y),Mn()},ca.current))})(),()=>clearTimeout(tt)},[M,D,y,Tt,Ve,Mn]),Me.useEffect(()=>{y.delete&&(Mn(),y.onDismiss==null||y.onDismiss.call(y,y))},[Mn,y.delete]);function He(){var tt;if(xe?.loading){var kt;return Me.createElement("div",{className:yr(Y?.loader,y==null||(kt=y.classNames)==null?void 0:kt.loader,"sonner-loader"),"data-visible":Tt==="loading"},xe.loading)}return Me.createElement(T4,{className:yr(Y?.loader,y==null||(tt=y.classNames)==null?void 0:tt.loader),visible:Tt==="loading"})}const za=y.icon||xe?.[Tt]||D4(Tt);var Ea,In;return Me.createElement("li",{tabIndex:0,ref:Sn,className:yr(ee,Jt,Y?.toast,y==null||(a=y.classNames)==null?void 0:a.toast,Y?.default,Y?.[Tt],y==null||(s=y.classNames)==null?void 0:s[Tt]),"data-sonner-toast":"","data-rich-colors":(Ea=y.richColors)!=null?Ea:te,"data-styled":!(y.jsx||y.unstyled||C),"data-mounted":U,"data-promise":!!y.promise,"data-swiped":an,"data-removed":De,"data-visible":Mt,"data-y-position":da,"data-x-position":ln,"data-index":F,"data-front":na,"data-swiping":Ye,"data-dismissible":Wt,"data-type":Tt,"data-invert":Za,"data-swipe-out":Te,"data-swipe-direction":N,"data-expanded":!!(M||qe&&U),"data-testid":y.testId,style:{"--index":F,"--toasts-before":F,"--z-index":k.length-F,"--offset":`${De?rn:Yn.current}px`,"--initial-height":qe?"auto":`${_n}px`,...V,...y.style},onDragEnd:()=>{Fe(!1),ze(null),sn.current=null},onPointerDown:tt=>{tt.button!==2&&(Gn||!Wt||(ba.current=new Date,qt(Yn.current),tt.target.setPointerCapture(tt.pointerId),tt.target.tagName!=="BUTTON"&&(Fe(!0),sn.current={x:tt.clientX,y:tt.clientY})))},onPointerUp:()=>{var tt,kt,tn;if(Te||!Wt)return;sn.current=null;const gn=Number(((tt=Sn.current)==null?void 0:tt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Rn=Number(((kt=Sn.current)==null?void 0:kt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ct=new Date().getTime()-((tn=ba.current)==null?void 0:tn.getTime()),xn=Ke==="x"?gn:Rn,aa=Math.abs(xn)/Ct;if(Math.abs(xn)>=G4||aa>.11){qt(Yn.current),y.onDismiss==null||y.onDismiss.call(y,y),P(Ke==="x"?gn>0?"right":"left":Rn>0?"down":"up"),Mn(),Yt(!0);return}else{var et,ut;(et=Sn.current)==null||et.style.setProperty("--swipe-amount-x","0px"),(ut=Sn.current)==null||ut.style.setProperty("--swipe-amount-y","0px")}rt(!1),Fe(!1),ze(null)},onPointerMove:tt=>{var kt,tn,gn;if(!sn.current||!Wt||((kt=window.getSelection())==null?void 0:kt.toString().length)>0)return;const Ct=tt.clientY-sn.current.y,xn=tt.clientX-sn.current.x;var aa;const et=(aa=o.swipeDirections)!=null?aa:X4(pe);!Ke&&(Math.abs(xn)>1||Math.abs(Ct)>1)&&ze(Math.abs(xn)>Math.abs(Ct)?"x":"y");let ut={x:0,y:0};const Wa=Bn=>1/(1.5+Math.abs(Bn)/20);if(Ke==="y"){if(et.includes("top")||et.includes("bottom"))if(et.includes("top")&&Ct<0||et.includes("bottom")&&Ct>0)ut.y=Ct;else{const Bn=Ct*Wa(Ct);ut.y=Math.abs(Bn)<Math.abs(Ct)?Bn:Ct}}else if(Ke==="x"&&(et.includes("left")||et.includes("right")))if(et.includes("left")&&xn<0||et.includes("right")&&xn>0)ut.x=xn;else{const Bn=xn*Wa(xn);ut.x=Math.abs(Bn)<Math.abs(xn)?Bn:xn}(Math.abs(ut.x)>0||Math.abs(ut.y)>0)&&rt(!0),(tn=Sn.current)==null||tn.style.setProperty("--swipe-amount-x",`${ut.x}px`),(gn=Sn.current)==null||gn.style.setProperty("--swipe-amount-y",`${ut.y}px`)}},Dn&&!y.jsx&&Tt!=="loading"?Me.createElement("button",{"aria-label":he,"data-disabled":Gn,"data-close-button":!0,onClick:Gn||!Wt?()=>{}:()=>{Mn(),y.onDismiss==null||y.onDismiss.call(y,y)},className:yr(Y?.closeButton,y==null||(i=y.classNames)==null?void 0:i.closeButton)},(In=xe?.close)!=null?In:M4):null,(Tt||y.icon||y.promise)&&y.icon!==null&&(xe?.[Tt]!==null||y.icon)?Me.createElement("div",{"data-icon":"",className:yr(Y?.icon,y==null||(c=y.classNames)==null?void 0:c.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||He():null,y.type!=="loading"?za:null):null,Me.createElement("div",{"data-content":"",className:yr(Y?.content,y==null||(h=y.classNames)==null?void 0:h.content)},Me.createElement("div",{"data-title":"",className:yr(Y?.title,y==null||(m=y.classNames)==null?void 0:m.title)},y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title),y.description?Me.createElement("div",{"data-description":"",className:yr(ce,Ra,Y?.description,y==null||(x=y.classNames)==null?void 0:x.description)},typeof y.description=="function"?y.description():y.description):null),Me.isValidElement(y.cancel)?y.cancel:y.cancel&&eu(y.cancel)?Me.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||J,onClick:tt=>{eu(y.cancel)&&Wt&&(y.cancel.onClick==null||y.cancel.onClick.call(y.cancel,tt),Mn())},className:yr(Y?.cancelButton,y==null||(v=y.classNames)==null?void 0:v.cancelButton)},y.cancel.label):null,Me.isValidElement(y.action)?y.action:y.action&&eu(y.action)?Me.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||Se,onClick:tt=>{eu(y.action)&&(y.action.onClick==null||y.action.onClick.call(y.action,tt),!tt.defaultPrevented&&Mn())},className:yr(Y?.actionButton,y==null||(p=y.classNames)==null?void 0:p.actionButton)},y.action.label):null)};function cx(){if(typeof window>"u"||typeof document>"u")return"ltr";const o=document.documentElement.getAttribute("dir");return o==="auto"||!o?window.getComputedStyle(document.documentElement).direction:o}function Z4(o,a){const s={};return[o,a].forEach((i,c)=>{const h=c===1,m=h?"--mobile-offset":"--offset",x=h?V4:P4;function v(p){["top","right","bottom","left"].forEach(b=>{s[`${m}-${b}`]=typeof p=="number"?`${p}px`:p})}typeof i=="number"||typeof i=="string"?v(i):typeof i=="object"?["top","right","bottom","left"].forEach(p=>{i[p]===void 0?s[`${m}-${p}`]=x:s[`${m}-${p}`]=typeof i[p]=="number"?`${i[p]}px`:i[p]}):v(x)}),s}const W4=Me.forwardRef(function(a,s){const{id:i,invert:c,position:h="bottom-right",hotkey:m=["altKey","KeyT"],expand:x,closeButton:v,className:p,offset:b,mobileOffset:y,theme:C="light",richColors:D,duration:B,style:j,visibleToasts:O=K4,toastOptions:F,dir:k=cx(),gap:M=$4,icons:z,containerAriaLabel:te="Notifications"}=a,[G,V]=Me.useState([]),J=Me.useMemo(()=>i?G.filter(U=>U.toasterId===i):G.filter(U=>!U.toasterId),[G,i]),Se=Me.useMemo(()=>Array.from(new Set([h].concat(J.filter(U=>U.position).map(U=>U.position)))),[J,h]),[ee,ce]=Me.useState([]),[ye,pe]=Me.useState(!1),[je,qe]=Me.useState(!1),[Y,xe]=Me.useState(C!=="system"?C:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),he=Me.useRef(null),Ke=m.join("+").replace(/Key/g,"").replace(/Digit/g,""),ze=Me.useRef(null),N=Me.useRef(!1),P=Me.useCallback(U=>{V(X=>{var De;return(De=X.find(Oe=>Oe.id===U.id))!=null&&De.delete||va.dismiss(U.id),X.filter(({id:Oe})=>Oe!==U.id)})},[]);return Me.useEffect(()=>va.subscribe(U=>{if(U.dismiss){requestAnimationFrame(()=>{V(X=>X.map(De=>De.id===U.id?{...De,delete:!0}:De))});return}setTimeout(()=>{C4.flushSync(()=>{V(X=>{const De=X.findIndex(Oe=>Oe.id===U.id);return De!==-1?[...X.slice(0,De),{...X[De],...U},...X.slice(De+1)]:[U,...X]})})})}),[G]),Me.useEffect(()=>{if(C!=="system"){xe(C);return}if(C==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?xe("dark"):xe("light")),typeof window>"u")return;const U=window.matchMedia("(prefers-color-scheme: dark)");try{U.addEventListener("change",({matches:X})=>{xe(X?"dark":"light")})}catch{U.addListener(({matches:De})=>{try{xe(De?"dark":"light")}catch(Oe){console.error(Oe)}})}},[C]),Me.useEffect(()=>{G.length<=1&&pe(!1)},[G]),Me.useEffect(()=>{const U=X=>{var De;if(m.every(Fe=>X[Fe]||X.code===Fe)){var Ye;pe(!0),(Ye=he.current)==null||Ye.focus()}X.code==="Escape"&&(document.activeElement===he.current||(De=he.current)!=null&&De.contains(document.activeElement))&&pe(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[m]),Me.useEffect(()=>{if(he.current)return()=>{ze.current&&(ze.current.focus({preventScroll:!0}),ze.current=null,N.current=!1)}},[he.current]),Me.createElement("section",{ref:s,"aria-label":`${te} ${Ke}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},Se.map((U,X)=>{var De;const[Oe,Ye]=U.split("-");return J.length?Me.createElement("ol",{key:U,dir:k==="auto"?cx():k,tabIndex:-1,ref:he,className:p,"data-sonner-toaster":!0,"data-sonner-theme":Y,"data-y-position":Oe,"data-x-position":Ye,style:{"--front-toast-height":`${((De=ee[0])==null?void 0:De.height)||0}px`,"--width":`${Y4}px`,"--gap":`${M}px`,...j,...Z4(b,y)},onBlur:Fe=>{N.current&&!Fe.currentTarget.contains(Fe.relatedTarget)&&(N.current=!1,ze.current&&(ze.current.focus({preventScroll:!0}),ze.current=null))},onFocus:Fe=>{Fe.target instanceof HTMLElement&&Fe.target.dataset.dismissible==="false"||N.current||(N.current=!0,ze.current=Fe.relatedTarget)},onMouseEnter:()=>pe(!0),onMouseMove:()=>pe(!0),onMouseLeave:()=>{je||pe(!1)},onDragEnd:()=>pe(!1),onPointerDown:Fe=>{Fe.target instanceof HTMLElement&&Fe.target.dataset.dismissible==="false"||qe(!0)},onPointerUp:()=>qe(!1)},J.filter(Fe=>!Fe.position&&X===0||Fe.position===U).map((Fe,Te)=>{var Yt,an;return Me.createElement(Q4,{key:Fe.id,icons:z,index:Te,toast:Fe,defaultRichColors:D,duration:(Yt=F?.duration)!=null?Yt:B,className:F?.className,descriptionClassName:F?.descriptionClassName,invert:c,visibleToasts:O,closeButton:(an=F?.closeButton)!=null?an:v,interacting:je,position:U,style:F?.style,unstyled:F?.unstyled,classNames:F?.classNames,cancelButtonStyle:F?.cancelButtonStyle,actionButtonStyle:F?.actionButtonStyle,closeButtonAriaLabel:F?.closeButtonAriaLabel,removeToast:P,toasts:J.filter(rt=>rt.position==Fe.position),heights:ee.filter(rt=>rt.position==Fe.position),setHeights:ce,expandByDefault:x,gap:M,expanded:ye,swipeDirections:a.swipeDirections})})):null}))}),Nl=o=>o.split("_").map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" "),W=Yo("player",{name:"Sir Aldric",title:"Knight of Valdoria",health:100,maxHealth:100,attack:10,defense:5,gold:50,inventory:[],equipment:{weapon:null,armor:null,shield:null},quests:{mainQuestStarted:!1,mainQuestComplete:!1,talkedToKing:!1,hasRoyalBlessing:!1,defeatedDragon:!1},flags:{heardRumorAboutDragon:!1,boughtSwordFromBlacksmith:!1,foundForestTreasure:!1,savedPrincess:!1,sparedDragon:!1},stats:{monstersDefeated:0,goldEarned:0,goldSpent:0,locationsVisited:0}}),$e={addItem:o=>{W.inventory.includes(o)||(W.inventory.push(o),Kn.success(`Received: ${Nl(o)}`))},removeItem:o=>{const a=W.inventory.indexOf(o);a>-1&&(W.inventory.splice(a,1),Kn.info(`Used: ${Nl(o)}`))},hasItem:o=>W.inventory.includes(o),addGold:o=>{W.gold+=o,W.stats.goldEarned+=o,Kn.success(`+${o} gold`)},spendGold:o=>W.gold>=o?(W.gold-=o,W.stats.goldSpent+=o,Kn.info(`-${o} gold`),!0):(Kn.error("Not enough gold!"),!1),takeDamage:o=>{const a=Math.max(1,o-W.defense);return W.health=Math.max(0,W.health-a),Kn.error(`-${a} HP`),a},heal:o=>{const a=Math.min(W.maxHealth-W.health,o);W.health=Math.min(W.maxHealth,W.health+o),a>0&&Kn.success(`+${a} HP`)},equipWeapon:o=>{W.equipment.weapon=o;const a=W.attack;o==="iron_sword"&&(W.attack=15),o==="steel_sword"&&(W.attack=25),o==="dragon_slayer"&&(W.attack=50),Kn.success(`Equipped: ${Nl(o)} (Attack: ${a}  ${W.attack})`)},equipArmor:o=>{W.equipment.armor=o;const a=W.defense;o==="chainmail"&&(W.defense=10),o==="plate_armor"&&(W.defense=20),Kn.success(`Equipped: ${Nl(o)} (Defense: ${a}  ${W.defense})`)},equipShield:o=>{W.equipment.shield=o;const a=W.defense;o==="wooden_shield"&&(W.defense+=3),o==="iron_shield"&&(W.defense+=7),Kn.success(`Equipped: ${Nl(o)} (Defense: ${a}  ${W.defense})`)},isAlive:()=>W.health>0};Je("testMdx",()=>[{type:"header",content:"This is a test MDX file",props:{level:1}},{type:"text",content:"Hello, yes, this is a dog."},{type:"image",content:"vite.svg"},{type:"video",content:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4"},{type:"image",content:"Isolated.webp",props:{alt:"alt text",title:"Title"}},{type:"actions",content:[{label:"Action 1",action:()=>{console.log("hello!")}}]},{type:"conversation",content:[{content:"Hello"},{content:"World"}]},{type:"anotherStory",storyId:"include-mdx"},{type:"anotherStory",storyId:"mdxTestInclude"}]);Je("test-2",()=>[{type:"text",content:"This is test 2."},{type:"text",content:`Player name is ${W.name}`},{type:"conversation",content:[{content:"Hello!"},{content:`What are you doing here, ${W.name}?`},{content:"Nothing, and you?",who:{name:W.name},side:"right"}]},{type:"conversation",content:[{content:"This is messenger example"},{content:"Nice to meet you!",who:{name:W.name},side:"right"}],props:{variant:"messenger"}},{type:"actions",content:[{label:"Test 2",action:()=>L.jumpTo("testMdx")}]}]);Je("include-mdx",()=>[{type:"header",content:"Include MDX",props:{level:1}},{type:"text",content:"TEEEEEEEST"}]);Je("mdxTestInclude",()=>[{type:"header",content:"MDX Test Include",props:{level:1}},{type:"text",content:"This is a story included from an MDX file."}]);Je("castleArmory",()=>!W.quests.hasRoyalBlessing&&!W.quests.talkedToKing?J4():ew(),{background:{image:"./assets/backgrounds/armory.webp"},classNames:{base:"min-h-screen bg-cover bg-center",container:"max-w-3xl mx-auto py-8 px-6 bg-card/90 backdrop-blur-sm"}});function J4(){return[{type:"header",content:"Royal Armory",props:{level:1,className:"text-danger-400"}},{type:"text",content:"Two heavily armored guards block your path, their halberds crossed before the ornate doors.",props:{className:"text-lg mb-4"}},{type:"text",content:`<p class="font-semibold text-danger-400">"Halt! The Royal Armory is restricted to those with the King's permission."</p>`,props:{isHTML:!0,className:"mb-6"}},{type:"actions",props:{direction:"vertical"},content:[{label:"Return to the castle",action:()=>L.jumpTo("castleMap"),color:"default"}]}]}function ew(){const o=$e.hasItem("dragon_slayer"),a=$e.hasItem("royal_armor");return[{type:"header",content:"The Royal Armory",props:{level:1,className:"text-warning-400"}},{type:"image",content:"./assets/backgrounds/armory-interior.webp",props:{alt:"Rows of legendary weapons and armor",className:"rounded-lg shadow-lg my-4"}},{type:"text",content:"The armory is filled with weapons and armor of legendary quality. Swords that gleam with magical enchantments, shields bearing the royal crest, and armor crafted by master smiths line the walls.",props:{className:"text-lg mb-4"}},{type:"text",content:`A royal armorer approaches you. "Ah, the knight who bears the King's blessing. I've been instructed to outfit you for your quest. Choose wisely."`,props:{className:"mb-6"}},{type:"header",content:"Available Equipment",props:{level:2,className:"text-primary-400"}},{type:"text",content:`<p class="text-muted-foreground mb-4">Your gold: <span class="text-warning-400 font-bold">${W.gold}</span></p>`,props:{isHTML:!0}},{type:"actions",props:{direction:"vertical"},content:[{label:`Dragon Slayer Sword - 200 gold ${o?"(Owned)":""}`,action:()=>{$e.spendGold(200)&&($e.addItem("dragon_slayer"),$e.equipWeapon("dragon_slayer"),L.jumpTo("armoryPurchaseDragonSlayer"))},color:"warning",variant:"solid",isDisabled:W.gold<200||o,tooltip:W.gold<200&&!o?{content:`Need ${200-W.gold} more gold`,position:"right"}:o?{content:"You already own this weapon",position:"right"}:{content:"A legendary blade forged to slay dragons (+40 Attack)",position:"right"}},{label:`Royal Plate Armor - 150 gold ${a?"(Owned)":""}`,action:()=>{if($e.spendGold(150)){$e.addItem("royal_armor"),$e.equipArmor("royal_armor");const s=W.defense;W.defense+=25,Kn.success(`Royal bonus! Defense: ${s}  ${W.defense}`),L.jumpTo("armoryPurchaseArmor")}},color:"primary",variant:"solid",isDisabled:W.gold<150||a,tooltip:W.gold<150&&!a?{content:`Need ${150-W.gold} more gold`,position:"right"}:a?{content:"You already own this armor",position:"right"}:{content:"The finest armor in the kingdom (+25 Defense)",position:"right"}},{label:"Greater Health Potion - 30 gold",action:()=>{$e.spendGold(30)&&($e.addItem("greater_health_potion"),L.jumpTo("armoryPurchasePotion"))},color:"success",variant:"bordered",isDisabled:W.gold<30,tooltip:W.gold<30?{content:`Need ${30-W.gold} more gold`,position:"right"}:{content:"Restores 50 HP when used",position:"right"}},{label:"Return to Castle",action:()=>L.jumpTo("castleMap"),color:"default",variant:"bordered"}]}]}Je("armoryPurchaseDragonSlayer",()=>[{type:"header",content:"Legendary Weapon Acquired!",props:{level:2,className:"text-warning-400"}},{type:"image",content:"./assets/items/dragon-slayer.webp",props:{alt:"The Dragon Slayer sword",className:"rounded-lg shadow-lg my-4 max-w-xs mx-auto"}},{type:"text",content:`The armorer carefully lifts a magnificent sword from its display. The blade seems to shimmer with an inner fire. "The Dragon Slayer," he says reverently. "Forged in dragonfire itself. It is said to be the only blade that can pierce a dragon's scales."`,props:{className:"text-lg mb-4"}},{type:"text",content:`<p class="text-center text-danger-400 font-bold">-200 Gold</p>
        <p class="text-center text-warning-400">Attack increased to 50!</p>`,props:{isHTML:!0,className:"my-4"}},{type:"actions",props:{direction:"vertical"},content:[{label:"Continue shopping",action:()=>L.jumpTo("castleArmory"),color:"primary"}]}]);Je("armoryPurchaseArmor",()=>[{type:"header",content:"Royal Armor Acquired!",props:{level:2,className:"text-primary-400"}},{type:"text",content:"The armorer helps you into a suit of gleaming plate armor, crafted from the finest steel and enchanted for protection.",props:{className:"text-lg mb-4"}},{type:"text",content:`<p class="text-center text-danger-400 font-bold">-150 Gold</p>
        <p class="text-center text-primary-400">Defense increased by 25!</p>`,props:{isHTML:!0}},{type:"actions",props:{direction:"vertical"},content:[{label:"Continue shopping",action:()=>L.jumpTo("castleArmory"),color:"primary"}]}]);Je("armoryPurchasePotion",()=>[{type:"header",content:"Potion Acquired!",props:{level:2,className:"text-success-400"}},{type:"text",content:"You add a vial of shimmering red liquid to your inventory. It glows faintly with healing magic.",props:{className:"text-lg mb-4"}},{type:"text",content:`<p class="text-center text-danger-400 font-bold">-30 Gold</p>
        <p class="text-center text-success-400">Greater Health Potion added to inventory</p>`,props:{isHTML:!0}},{type:"actions",props:{direction:"vertical"},content:[{label:"Continue shopping",action:()=>L.jumpTo("castleArmory"),color:"primary"}]}]);Je("castleGardens",()=>{const o=W.health<W.maxHealth;return[{type:"header",content:"The Royal Gardens",props:{level:1,className:"text-success-400"}},{type:"image",content:"./assets/backgrounds/castle-gardens.webp",props:{alt:"Beautiful royal gardens",className:"rounded-lg shadow-lg my-4"}},{type:"text",content:"The royal gardens are a sanctuary of peace amidst the stone walls of the castle. Flowering vines climb ancient trellises, and the scent of roses fills the air. A marble fountain burbles softly at the center, its waters said to have healing properties.",props:{className:"text-lg mb-4"}},{type:"text",content:o?"Your wounds ache, reminding you of your mortality. Perhaps some rest in this peaceful place would do you good.":"You feel strong and healthy. The beauty of the gardens fills you with determination.",props:{className:o?"text-warning-400 italic mb-6":"text-success-400 italic mb-6"}},{type:"text",content:`<p class="text-muted-foreground">Current HP: <span class="${o?"text-warning-400":"text-success-400"}">${W.health}</span> / ${W.maxHealth}</p>`,props:{isHTML:!0,className:"text-center mb-6"}},{type:"actions",props:{direction:"vertical"},content:[{label:"Rest by the fountain (+30 HP)",action:()=>{$e.heal(30),L.jumpTo("gardensRest")},color:"success",variant:"solid",isDisabled:W.health>=W.maxHealth,tooltip:W.health>=W.maxHealth?{content:"You are already at full health",position:"right"}:void 0},{label:"Drink from the healing fountain (+50 HP)",action:()=>{$e.heal(50),L.jumpTo("gardensFountain")},color:"primary",variant:"solid",isDisabled:W.health>=W.maxHealth},{label:"Return to the castle",action:()=>L.jumpTo("castleMap"),color:"default",variant:"bordered"}]}]},{background:{image:"./assets/backgrounds/garden-bg.webp"},classNames:{base:"min-h-screen bg-cover bg-center",container:"max-w-3xl mx-auto py-8 px-6 bg-card/85 backdrop-blur-sm"}});Je("gardensRest",()=>[{type:"header",content:"A Moment of Peace",props:{level:2,className:"text-success-400"}},{type:"text",content:"You sit on a stone bench beside the fountain, letting the gentle sound of water wash away your fatigue. The warm sun filters through the leaves above, and for a moment, you can almost forget the dangers that await.",props:{className:"text-lg mb-4"}},{type:"text",content:`<p class="text-center text-success-400 font-bold">+30 HP</p>
        <p class="text-center text-muted-foreground">Current HP: ${W.health}/${W.maxHealth}</p>`,props:{isHTML:!0,className:"my-4"}},{type:"actions",props:{direction:"horizontal"},content:[{label:"Rest more",action:()=>L.jumpTo("castleGardens"),color:"success",variant:"bordered"},{label:"Return to castle",action:()=>L.jumpTo("castleMap"),color:"default"}]}]);Je("gardensFountain",()=>[{type:"header",content:"The Healing Waters",props:{level:2,className:"text-primary-400"}},{type:"text",content:"You cup the crystal-clear water in your hands and drink deeply. A warm, tingling sensation spreads through your body as the magical waters work their healing.",props:{className:"text-lg mb-4"}},{type:"text",content:`<p class="text-center text-success-400 font-bold">+50 HP</p>
        <p class="text-center text-muted-foreground">Current HP: ${W.health}/${W.maxHealth}</p>`,props:{isHTML:!0,className:"my-4"}},{type:"actions",props:{direction:"vertical"},content:[{label:"Return to the gardens",action:()=>L.jumpTo("castleGardens"),color:"success"},{label:"Return to castle",action:()=>L.jumpTo("castleMap"),color:"default"}]}]);Je("princessTower",()=>Xa.dialogue.introducedSelf?Xa.dialogue.revealedDragonSecret?aw():nw():tw(),{background:{image:"./assets/backgrounds/princess-tower.webp"},classNames:{base:"min-h-screen bg-cover bg-center",container:"max-w-3xl mx-auto py-8 px-6 bg-card/85 backdrop-blur-sm"}});function tw(){return[{type:"header",content:"The Princess's Tower",props:{level:1,className:"text-pink-400"}},{type:"image",content:"./assets/npc/princess-elara.webp",props:{alt:"Princess Elara",className:"rounded-lg shadow-lg my-4 max-w-sm mx-auto"}},{type:"text",content:"The tower chamber is elegant yet modest, filled with books and paintings. At the window stands a young woman with flowing golden hair, gazing out at the distant mountains.",props:{className:"text-lg mb-4"}},{type:"text",content:'She turns as you enter, her eyes bright with curiosity. "A visitor? Father rarely lets anyone up here. You must be the knight everyone is talking about."',props:{className:"mb-4"}},{type:"conversation",appearance:"byClick",props:{variant:"messenger"},content:[{content:"Princess Elara, I am honored to meet you. I am "+W.name+".",who:{name:W.name,avatar:"./assets/avatars/player.webp"},side:"right",color:"#4169E1"},{content:"The honor is mine, Sir Knight. I've heard you seek to face the dragon.",who:{name:Xa.name,avatar:"./assets/avatars/princess.webp"},side:"left",color:"#FFB6C1"},{content:"Yes, Your Highness. It threatens the kingdom.",who:{name:W.name,avatar:"./assets/avatars/player.webp"},side:"right",color:"#4169E1"},{content:"Does it? Or do we merely assume so because it is a dragon?",who:{name:Xa.name,avatar:"./assets/avatars/princess.webp"},side:"left",color:"#FFB6C1"}]},{type:"anotherStory",storyId:"princessFirstMeetingContinue"}]}Je("princessFirstMeetingContinue",()=>(Xa.dialogue.introducedSelf=!0,[{type:"text",content:"The princess's words give you pause. She seems to know something she isn't saying directly.",props:{className:"italic text-muted-foreground mb-4"}},{type:"actions",props:{direction:"vertical"},content:[{label:'"What do you know about the dragon?"',action:()=>L.jumpTo("princessDragonSecret"),color:"primary",variant:"bordered"},{label:"Take your leave politely",action:()=>L.jumpTo("castleMap"),color:"default",variant:"bordered"}]}]));Je("princessDragonSecret",()=>(Xa.dialogue.revealedDragonSecret=!0,gt.dialogue.learnedMotivation=!0,[{type:"header",content:"The Dragon's Secret",props:{level:2,className:"text-primary-400"}},{type:"text",content:"Elara looks around conspiratorially, then beckons you closer. Her voice drops to a whisper.",props:{className:"text-lg mb-4"}},{type:"conversation",appearance:"byClick",props:{variant:"messenger"},content:[{content:"I have studied the ancient texts. Vexarion was not always a terror. He was once the guardian of this land.",who:{name:Xa.name,avatar:"./assets/avatars/princess.webp"},side:"left",color:"#FFB6C1"},{content:"A guardian? Then why does he attack villages?",who:{name:W.name,avatar:"./assets/avatars/player.webp"},side:"right",color:"#4169E1"},{content:"He doesn't attack - he scares. No one has actually been hurt. He roars, he breathes fire into the sky, but...",who:{name:Xa.name,avatar:"./assets/avatars/princess.webp"},side:"left",color:"#FFB6C1"},{content:"He's lonely. Centuries alone on that mountain. The last of his kind.",who:{name:Xa.name,avatar:"./assets/avatars/princess.webp"},side:"left",color:"#FFB6C1"}]},{type:"text",content:'<p class="text-center text-primary-400 italic my-4">"Perhaps, Sir Knight, the sword is not the only solution."</p>',props:{isHTML:!0}},{type:"text",content:`<p class="text-center text-success-400">You've learned the dragon's secret!</p>
            <p class="text-center text-muted-foreground">A peaceful resolution may be possible...</p>`,props:{isHTML:!0,className:"my-4"}},{type:"actions",props:{direction:"vertical"},content:[{label:'"Thank you, Princess. This changes everything."',action:()=>L.jumpTo("castleMap"),color:"primary"}]}]));function nw(){return[{type:"header",content:"The Princess's Tower",props:{level:1,className:"text-pink-400"}},{type:"text",content:`Princess Elara smiles as you enter. "Sir ${W.name}, you've returned. Have you more questions about the dragon?"`,props:{className:"text-lg mb-4"}},{type:"actions",props:{direction:"vertical"},content:[{label:'"Tell me more about Vexarion."',action:()=>L.jumpTo("princessDragonSecret"),color:"primary"},{label:"Just visiting",action:()=>L.jumpTo("castleMap"),color:"default"}]}]}function aw(){return[{type:"header",content:"The Princess's Tower",props:{level:1,className:"text-pink-400"}},{type:"text",content:'Elara looks up from her book with a warm smile. "Sir Knight! How fares your quest?"',props:{className:"text-lg mb-4"}},{type:"conversation",appearance:"atOnce",props:{variant:"chat"},content:[{content:"Remember what I told you about Vexarion. Violence is not the only path.",who:{name:Xa.name,avatar:"./assets/avatars/princess.webp"},side:"left",color:"#FFB6C1"}]},{type:"actions",props:{direction:"vertical"},content:[{label:"Return to the castle",action:()=>L.jumpTo("castleMap"),color:"default"}]}]}Je("throneRoom",()=>ta.dialogue.gaveAudience?W.quests.hasRoyalBlessing?sw():ow():rw(),{background:{image:"./assets/backgrounds/throne-room.webp"},classNames:{base:"min-h-screen bg-cover bg-center",container:"max-w-3xl mx-auto py-8 px-6 bg-card/90 backdrop-blur-sm"}});function rw(){return[{type:"header",content:"The Throne Room",props:{level:1,className:"text-warning-400"}},{type:"image",content:"./assets/npc/king-alderon.webp",props:{alt:"King Alderon III on his throne",className:"rounded-lg shadow-lg my-6 max-w-md mx-auto"}},{type:"text",content:"The grand throne room stretches before you, its vaulted ceiling supported by massive stone pillars. Tapestries depicting the kingdom's history line the walls, and a red carpet leads to the imposing throne where King Alderon III sits, his crown gleaming in the torchlight.",props:{className:"text-lg mb-4"}},{type:"text",content:'<p class="font-semibold text-warning-400">"Approach, knight,"</p> the King commands, his voice echoing through the chamber. <p class="text-muted-foreground">"I have heard of your arrival. The Elder Marcus sent word ahead."</p>',props:{isHTML:!0,className:"mb-6"}},{type:"conversation",appearance:"byClick",props:{variant:"messenger"},content:[{content:"Your Majesty, I come seeking your blessing to face the dragon Vexarion.",who:{name:W.name,avatar:"./assets/avatars/player.webp"},side:"right",color:"#4169E1"},{content:"Bold words from a young knight. Many have sought to slay Vexarion. None have returned.",who:{name:ta.name,avatar:"./assets/avatars/king.webp"},side:"left",color:"#FFD700"},{content:"I understand the risks, Your Majesty. But I cannot stand idle while the kingdom suffers.",who:{name:W.name,avatar:"./assets/avatars/player.webp"},side:"right",color:"#4169E1"},{content:"Hmm. Your courage is admirable. But courage alone will not defeat a dragon.",who:{name:ta.name,avatar:"./assets/avatars/king.webp"},side:"left",color:"#FFD700"}]},{type:"anotherStory",storyId:"throneRoomDecision"}]}Je("throneRoomDecision",()=>(S4.incrementConversation(ta),ta.dialogue.gaveAudience=!0,W.quests.talkedToKing=!0,[{type:"text",content:'The King leans forward, studying you intently. "I will make you an offer, knight. Prove yourself worthy, and I shall grant you my blessing and access to the Royal Armory."',props:{className:"text-lg mb-4"}},{type:"header",content:"The King's Challenge",props:{level:2,className:"text-primary-400"}},{type:"text",content:'"Tell me, knight - what drives you to face such danger? Is it glory? Gold? Or something more?"',props:{className:"italic text-muted-foreground mb-6"}},{type:"actions",props:{direction:"vertical"},content:[{label:'"I seek to protect the innocent."',action:()=>{ta.mood="pleased",L.jumpTo("throneRoomNobleAnswer")},color:"primary",variant:"bordered"},{label:'"I seek glory and honor."',action:()=>{ta.mood="stern",L.jumpTo("throneRoomGloryAnswer")},color:"secondary",variant:"bordered"},{label:`"I seek the dragon's treasure."`,action:()=>{ta.mood="angry",L.jumpTo("throneRoomGreedyAnswer")},color:"warning",variant:"bordered"}]}]));Je("throneRoomNobleAnswer",()=>[{type:"image",content:"./assets/npc/king-pleased.webp",props:{alt:"King Alderon smiles approvingly",className:"rounded-lg shadow-lg my-4 max-w-xs mx-auto"}},{type:"text",content:`The King's stern expression softens, and he nods slowly. "A noble answer. Such selflessness is rare in these troubled times."`,props:{className:"text-lg mb-4"}},{type:"conversation",appearance:"byClick",props:{variant:"messenger"},content:[{content:"You have the heart of a true knight. Rise, and receive my blessing.",who:{name:ta.name,avatar:"./assets/avatars/king.webp"},side:"left",color:"#FFD700"}]},{type:"anotherStory",storyId:"receiveBlessing"}]);Je("throneRoomGloryAnswer",()=>[{type:"text",content:`The King's eyes narrow slightly. "Glory fades, knight. Songs are forgotten. I need to know you will not flee when the dragon's fire bears down upon you."`,props:{className:"text-lg mb-4"}},{type:"text",content:'"Return to me after you have equipped yourself properly. Visit my armory - you have my permission. Let us see if you can find the courage to match your ambition."',props:{className:"mb-6"}},{type:"text",content:'<p class="text-center text-primary-400">You may now access the Royal Armory</p>',props:{isHTML:!0,className:"my-4"}},{type:"actions",props:{direction:"vertical"},content:[{label:"Return to the castle",action:()=>L.jumpTo("castleMap"),color:"primary"}]}]);Je("throneRoomGreedyAnswer",()=>[{type:"text",content:`The King's face hardens, and he grips the arms of his throne. "Treasure? You would risk your life for gold?"`,props:{className:"text-lg mb-4 text-danger-300"}},{type:"conversation",appearance:"byClick",props:{variant:"messenger"},content:[{content:"I should have you thrown from this castle. But perhaps there is hope for you yet.",who:{name:ta.name,avatar:"./assets/avatars/king.webp"},side:"left",color:"#FFD700"},{content:"Speak with my daughter, Princess Elara. Perhaps she can teach you what truly matters.",who:{name:ta.name,avatar:"./assets/avatars/king.webp"},side:"left",color:"#FFD700"}]},{type:"text",content:`<p class="text-center text-muted-foreground italic">You may now visit Princess Elara's Tower</p>`,props:{isHTML:!0,className:"my-4"}},{type:"actions",props:{direction:"vertical"},content:[{label:"Leave the throne room",action:()=>L.jumpTo("castleMap"),color:"default"}]}]);Je("receiveBlessing",()=>(W.quests.hasRoyalBlessing=!0,ta.dialogue.gaveBlessing=!0,ta.blessingGiven=!0,nn.discoveredLocations.dragonLair=!0,[{type:"header",content:"The King's Blessing",props:{level:2,className:"text-warning-400"}},{type:"text",content:"King Alderon rises from his throne and draws his ceremonial sword. He places the flat of the blade on your shoulders.",props:{className:"text-lg mb-4"}},{type:"text",content:'<p class="text-center italic text-warning-400">"By the power vested in me as King of Valdoria, I grant you my blessing. May the light of our ancestors guide your blade and shield your heart."</p>',props:{isHTML:!0,className:"my-6 text-lg"}},{type:"text",content:`<p class="text-center text-success-400 font-bold">Received: Royal Blessing</p>
            <p class="text-center text-primary-400">Dragon's Lair is now accessible!</p>
            <p class="text-center text-warning-400">Royal Armory is now unlocked!</p>`,props:{isHTML:!0,className:"my-4"}},{type:"text",content:`"The dragon's lair lies to the northeast, on Mount Doom. My scouts will guide you to its location. Go now, and may you return victorious."`,props:{className:"mb-6"}},{type:"actions",props:{direction:"vertical"},content:[{label:"Visit the Royal Armory first",action:()=>L.jumpTo("castleArmory"),color:"warning",variant:"solid"},{label:"Head to the Dragon's Lair immediately",action:()=>L.jumpTo("worldMap"),color:"danger",variant:"bordered"}]}]));function ow(){return[{type:"header",content:"The Throne Room",props:{level:1,className:"text-warning-400"}},{type:"text",content:`King Alderon looks up as you approach. "${W.name}, you have returned. Are you ready to prove yourself?"`,props:{className:"text-lg mb-4"}},{type:"actions",props:{direction:"vertical"},content:[{label:'"I am ready, Your Majesty."',action:()=>{ta.mood="pleased",L.jumpTo("receiveBlessing")},color:"primary"},{label:"I need more time to prepare",action:()=>L.jumpTo("castleMap"),color:"default",variant:"bordered"}]}]}function sw(){return[{type:"header",content:"The Throne Room",props:{level:1,className:"text-warning-400"}},{type:"text",content:'King Alderon nods as you enter. "Knight, you bear my blessing. The dragon awaits. Why do you linger?"',props:{className:"text-lg mb-4"}},{type:"conversation",appearance:"atOnce",props:{variant:"chat"},content:[{content:"I wanted to pay my respects before I depart, Your Majesty.",who:{name:W.name,avatar:"./assets/avatars/player.webp"},side:"right",color:"#4169E1"},{content:"Honorable. Go then, with the kingdom's hopes riding on your shoulders.",who:{name:ta.name,avatar:"./assets/avatars/king.webp"},side:"left",color:"#FFD700"}]},{type:"actions",props:{direction:"horizontal"},content:[{label:"Return to Castle",action:()=>L.jumpTo("castleMap"),color:"default"},{label:"Head to Dragon's Lair",action:()=>L.jumpTo("worldMap"),color:"danger"}]}]}Je("dragonEncounter",()=>gt.isDefeated?cw():gt.dialogue.spokeTo?lw():iw(),{background:{image:"./assets/backgrounds/dragon-chamber.webp"},classNames:{base:"min-h-screen bg-cover bg-center",container:"max-w-3xl mx-auto py-8 px-6 bg-card/90 backdrop-blur-sm"}});function iw(){return gt.dialogue.spokeTo=!0,Yb.play(),[{type:"header",content:"The Dragon's Chamber",props:{level:1,className:"text-danger-400"}},{type:"image",content:"./assets/npc/vexarion.webp",props:{alt:"Vexarion the Terrible",className:"rounded-lg shadow-lg my-6 max-w-lg mx-auto"}},{type:"text",content:"The chamber is vast, lit by rivers of molten rock flowing along the walls. At its center, upon a mountain of gold and bones, lies Vexarion - a dragon of terrible majesty. His scales shimmer like liquid fire, and his eyes, ancient and weary, fix upon you.",props:{className:"text-lg mb-4"}},{type:"conversation",appearance:"byClick",props:{variant:"messenger"},content:[{content:"*A voice like rumbling thunder fills your mind* Another knight come to slay me. How... tiresome.",who:{name:gt.name,avatar:"./assets/avatars/dragon.webp"},side:"left",color:"#8B0000"},{content:"I am "+W.name+", and I have come to end your terror upon this land!",who:{name:W.name,avatar:"./assets/avatars/player.webp"},side:"right",color:"#4169E1"},{content:"*The dragon's laugh shakes the chamber* Terror? Is that what they call it? I have harmed no one, little knight. I merely... remind them I exist.",who:{name:gt.name,avatar:"./assets/avatars/dragon.webp"},side:"left",color:"#8B0000"}]},{type:"anotherStory",storyId:"dragonEncounterChoice"}]}Je("dragonEncounterChoice",()=>{const o=gt.dialogue.learnedMotivation,a=$e.hasItem("dragon_slayer");return[{type:"header",content:"What Do You Do?",props:{level:2,className:"text-warning-400"}},{type:"text",content:o?"*You remember what Princess Elara told you - the dragon is lonely, not evil. Perhaps there is another way...*":"*The dragon's words give you pause, but your duty is clear... isn't it?*",props:{className:"italic text-muted-foreground mb-6"}},{type:"actions",props:{direction:"vertical"},content:[{label:"Attack! (Combat)",action:()=>L.jumpTo("dragonCombat"),color:"danger",variant:"solid",tooltip:{content:a?"Dragon Slayer equipped - good odds":"Standard weapons - dangerous fight",position:"right"}},...o?[{label:'"Why do you do this, Vexarion?"',action:()=>L.jumpTo("dragonPeacefulPath"),color:"primary",variant:"bordered"}]:[],{label:"Retreat (I need to prepare more)",action:()=>L.jumpTo("dragonLairMap"),color:"default",variant:"bordered"}]}]});Je("dragonCombat",()=>{to(Pb),Vb.play(),gt.isAngry=!0;const o=$e.hasItem("dragon_slayer"),a=W.attack*(o?2:1),s=Math.max(5,gt.attack-W.defense);return gt.health=Math.max(0,gt.health-a),$e.takeDamage(s),[{type:"header",content:"COMBAT!",props:{level:1,className:"text-danger-400"}},{type:"image",content:"./assets/backgrounds/dragon-battle.webp",props:{alt:"Battle with Vexarion",className:"rounded-lg shadow-lg my-4"}},{type:"text",content:o?"Your Dragon Slayer sword flares with magical energy as you charge! The blade bites deep into the dragon's scales, drawing a roar of pain!":"You charge forward, your blade ringing against the dragon's iron scales! The impact numbs your arm, but you press on!",props:{className:"text-lg mb-4"}},{type:"text",content:`<p class="text-center text-success-400 font-bold">You dealt ${a} damage!</p>
            <p class="text-center text-danger-400 font-bold">Vexarion dealt ${s} damage to you!</p>`,props:{isHTML:!0,className:"my-4"}},{type:"text",content:`<p class="text-muted-foreground">Your HP: <span class="${W.health<30?"text-danger-400":"text-success-400"}">${W.health}</span>/${W.maxHealth}</p>
            <p class="text-muted-foreground">Dragon HP: <span class="${gt.health<50?"text-danger-400":"text-warning-400"}">${gt.health}</span>/${gt.maxHealth}</p>`,props:{isHTML:!0,className:"text-center my-4"}},{type:"anotherStory",storyId:"dragonCombatContinue"}]});Je("dragonCombatContinue",()=>{if(gt.health<=0)return[{type:"text",content:"*With a final, mighty blow, you drive your blade into the dragon's heart. Vexarion lets out a thunderous roar that shakes the mountain, then falls silent.*",props:{className:"text-lg text-center mb-4 text-warning-400"}},{type:"actions",props:{direction:"vertical"},content:[{label:"Continue...",action:()=>{gt.isDefeated=!0,W.quests.defeatedDragon=!0,W.stats.monstersDefeated++,L.jumpTo("endingDragonSlain")},color:"warning"}]}];if(W.health<=0)return[{type:"text",content:"*The dragon's fire engulfs you. Your vision fades to black...*",props:{className:"text-lg text-center mb-4 text-danger-400"}},{type:"actions",props:{direction:"vertical"},content:[{label:"Game Over",action:()=>L.jumpTo("endingDefeat"),color:"danger"}]}];const o=gt.dialogue.learnedMotivation;return[{type:"text",content:"The battle rages on! Vexarion circles above, preparing another attack.",props:{className:"text-lg mb-4"}},{type:"actions",props:{direction:"vertical"},content:[{label:"Continue attacking!",action:()=>L.jumpTo("dragonCombat"),color:"danger"},...o?[{label:`"Wait! I know why you're doing this!"`,action:()=>L.jumpTo("dragonPeacefulPathMidCombat"),color:"primary",variant:"bordered"}]:[],{label:"Use health potion",action:()=>{$e.hasItem("greater_health_potion")?($e.removeItem("greater_health_potion"),$e.heal(50)):$e.hasItem("health_potion")&&($e.removeItem("health_potion"),$e.heal(30)),L.jumpTo("dragonCombat")},color:"success",isDisabled:!$e.hasItem("health_potion")&&!$e.hasItem("greater_health_potion"),tooltip:!$e.hasItem("health_potion")&&!$e.hasItem("greater_health_potion")?{content:"No health potions!",position:"right"}:void 0}]}]});Je("dragonPeacefulPath",()=>[{type:"header",content:"A Different Approach",props:{level:2,className:"text-primary-400"}},{type:"text",content:"You lower your weapon. The dragon's eyes narrow with suspicion, but also... curiosity.",props:{className:"text-lg mb-4"}},{type:"conversation",appearance:"byClick",props:{variant:"messenger"},content:[{content:"You're lonely, aren't you? The last of your kind. The Princess told me about you.",who:{name:W.name,avatar:"./assets/avatars/player.webp"},side:"right",color:"#4169E1"},{content:"*The dragon's expression shifts, surprise replacing hostility* The Princess... she listened. She understood.",who:{name:gt.name,avatar:"./assets/avatars/dragon.webp"},side:"left",color:"#8B0000"},{content:"You don't want to hurt anyone. You just want to be remembered. To matter.",who:{name:W.name,avatar:"./assets/avatars/player.webp"},side:"right",color:"#4169E1"},{content:"*A sound like a sigh rumbles through the chamber* For three hundred years, I have watched this kingdom from my mountain. I protected them once. Now they only see a monster.",who:{name:gt.name,avatar:"./assets/avatars/dragon.webp"},side:"left",color:"#8B0000"}]},{type:"actions",props:{direction:"vertical"},content:[{label:'"What if things could be different?"',action:()=>{gt.dialogue.offeredPeace=!0,L.jumpTo("dragonPeacefulResolution")},color:"primary"}]}]);Je("dragonPeacefulPathMidCombat",()=>[{type:"header",content:"A Pause in Battle",props:{level:2,className:"text-warning-400"}},{type:"text",content:"You throw down your weapon and raise your hands. The dragon hesitates, fire dying in its throat.",props:{className:"text-lg mb-4"}},{type:"conversation",appearance:"byClick",props:{variant:"messenger"},content:[{content:"Wait! I know why you do this! The Princess told me - you're not evil, you're alone!",who:{name:W.name,avatar:"./assets/avatars/player.webp"},side:"right",color:"#4169E1"},{content:"*The dragon lands heavily, wounds smoking* You... you would spare me? Even after I attacked you?",who:{name:gt.name,avatar:"./assets/avatars/dragon.webp"},side:"left",color:"#8B0000"},{content:"We've both shed blood today. But that doesn't mean we have to continue.",who:{name:W.name,avatar:"./assets/avatars/player.webp"},side:"right",color:"#4169E1"}]},{type:"actions",props:{direction:"vertical"},content:[{label:"Offer peace",action:()=>{gt.dialogue.offeredPeace=!0,L.jumpTo("dragonPeacefulResolution")},color:"primary"},{label:"No, finish the fight!",action:()=>L.jumpTo("dragonCombat"),color:"danger",variant:"bordered"}]}]);Je("dragonPeacefulResolution",()=>(gt.dialogue.acceptedPeace=!0,gt.isDefeated=!0,W.flags.sparedDragon=!0,nn.worldEvents.peacefulEnding=!0,[{type:"header",content:"An Ancient Alliance Renewed",props:{level:1,className:"text-success-400"}},{type:"image",content:"./assets/backgrounds/dragon-peace.webp",props:{alt:"Knight and Dragon in peace",className:"rounded-lg shadow-lg my-6"}},{type:"conversation",appearance:"byClick",props:{variant:"messenger"},content:[{content:"Long ago, dragons and humans were allies. We guarded this land together. Perhaps... perhaps that could be again.",who:{name:gt.name,avatar:"./assets/avatars/dragon.webp"},side:"left",color:"#228B22"},{content:"I will speak to the King. I will tell him what I've learned here today.",who:{name:W.name,avatar:"./assets/avatars/player.webp"},side:"right",color:"#4169E1"},{content:"*The dragon bows its massive head* Then I shall wait. And hope. You have shown me there is still good in this world, "+W.name+".",who:{name:gt.name,avatar:"./assets/avatars/dragon.webp"},side:"left",color:"#228B22"}]},{type:"text",content:`<p class="text-center text-success-400 font-bold my-4">Peace achieved!</p>
            <p class="text-center text-muted-foreground">The dragon has agreed to stop terrorizing the kingdom.</p>`,props:{isHTML:!0}},{type:"actions",props:{direction:"vertical"},content:[{label:"Continue to the ending...",action:()=>L.jumpTo("endingPeaceful"),color:"success"}]}]));function lw(){return[{type:"header",content:"The Dragon's Chamber",props:{level:1,className:"text-danger-400"}},{type:"text",content:"Vexarion raises his head as you enter. His ancient eyes study you with weary recognition.",props:{className:"text-lg mb-4"}},{type:"conversation",appearance:"atOnce",props:{variant:"chat"},content:[{content:"You return, knight. Have you come to fight, or to talk?",who:{name:gt.name,avatar:"./assets/avatars/dragon.webp"},side:"left",color:"#8B0000"}]},{type:"anotherStory",storyId:"dragonEncounterChoice"}]}function cw(){const o=W.flags.sparedDragon;return[{type:"header",content:"The Dragon's Chamber",props:{level:1,className:o?"text-success-400":"text-muted-foreground"}},{type:"text",content:o?"Vexarion rests peacefully, a gentle smoke rising from his nostrils. He acknowledges your presence with a respectful nod.":"The chamber is silent now. The dragon's body lies still upon its treasure hoard, a monument to your victory... and perhaps, to a tragedy.",props:{className:"text-lg mb-4"}},{type:"actions",props:{direction:"vertical"},content:[{label:"Return to the lair",action:()=>L.jumpTo("dragonLairMap"),color:"default"}]}]}Je("dragonChamberEmpty",()=>[{type:"header",content:"The Dragon's Chamber",props:{level:2,className:"text-muted-foreground"}},{type:"text",content:W.flags.sparedDragon?"Vexarion rests here, awaiting news of the peace negotiations.":"The chamber holds only memories now.",props:{className:"text-lg mb-4 text-center"}},{type:"actions",props:{direction:"vertical"},content:[{label:"Return",action:()=>L.jumpTo("dragonLairMap"),color:"default"}]}]);Je("endingDragonSlain",()=>(to(jx),W.quests.mainQuestComplete=!0,ia.questState="completed",nn.worldEvents.dragonDefeated=!0,$e.addGold(500),$e.addItem("dragon_heart"),[{type:"header",content:"Victory!",props:{level:1,className:"text-warning-400"}},{type:"image",content:"./assets/backgrounds/ending-victory.webp",props:{alt:"The hero stands victorious",className:"rounded-lg shadow-lg my-6"}},{type:"text",content:"The dragon Vexarion is slain. As the beast's final breath rattles through the chamber, you feel... empty. Was this truly necessary?",props:{className:"text-lg mb-4"}},{type:"text",content:"You return to the kingdom as a hero. Songs are sung of your valor. The King honors you with gold and title. But sometimes, late at night, you wonder if there might have been another way.",props:{className:"mb-6"}},{type:"text",content:`<p class="text-center text-warning-400 font-bold text-xl my-6">ENDING: THE DRAGON SLAYER</p>
                <p class="text-center text-success-400">+500 Gold</p>
                <p class="text-center text-muted-foreground">Quest Complete: The Dragon's Shadow</p>`,props:{isHTML:!0}},{type:"header",content:"Epilogue",props:{level:2,className:"text-muted-foreground"}},{type:"text",content:"Years later, you would learn from ancient texts that Vexarion was the last of his kind - a guardian dragon who had protected Valdoria for centuries. His death marked the end of an age.",props:{className:"italic text-muted-foreground mb-6"}},{type:"actions",props:{direction:"vertical"},content:[{label:"Return to Main Menu",action:()=>L.jumpTo("mainMenu"),color:"primary"},{label:"Continue Exploring",action:()=>L.jumpTo("worldMap"),color:"default",variant:"bordered"}]}]),{background:{image:"./assets/backgrounds/ending-bg.webp"},classNames:{base:"min-h-screen bg-cover bg-center",container:"max-w-3xl mx-auto py-8 px-6 bg-card/95 backdrop-blur-sm"}});Je("endingPeaceful",()=>(to(jx),W.quests.mainQuestComplete=!0,ia.questState="completed",$e.addGold(300),$e.addItem("dragon_scale_gift"),[{type:"header",content:"Peace Restored",props:{level:1,className:"text-success-400"}},{type:"image",content:"./assets/backgrounds/ending-peace.webp",props:{alt:"Dragon and humans in harmony",className:"rounded-lg shadow-lg my-6"}},{type:"text",content:"You return to the kingdom not with a dragon's head, but with something far more valuable - peace. King Alderon is skeptical at first, but Princess Elara speaks on your behalf.",props:{className:"text-lg mb-4"}},{type:"conversation",appearance:"byClick",props:{variant:"messenger"},content:[{content:"Sir "+W.name+" has done what no warrior could. He has given us a future where we need not live in fear.",who:{name:Xa.name,avatar:"./assets/avatars/princess.webp"},side:"left",color:"#FFB6C1"}]},{type:"text",content:"In time, Vexarion becomes a symbol of Valdoria - no longer a terror, but a guardian once more. You are hailed not as a dragon slayer, but as a peacemaker.",props:{className:"mb-6"}},{type:"text",content:`<p class="text-center text-success-400 font-bold text-xl my-6">ENDING: THE PEACEMAKER</p>
                <p class="text-center text-success-400">+300 Gold</p>
                <p class="text-center text-primary-400">Received: Dragon Scale (gift of friendship)</p>
                <p class="text-center text-muted-foreground">Quest Complete: The Dragon's Shadow</p>`,props:{isHTML:!0}},{type:"header",content:"Epilogue",props:{level:2,className:"text-success-400"}},{type:"text",content:"The alliance between dragon and kingdom endures for generations. Children grow up hearing tales of the knight who chose compassion over violence, and of the dragon who remembered what it meant to have friends.",props:{className:"italic text-success-300 mb-6"}},{type:"actions",props:{direction:"vertical"},content:[{label:"Return to Main Menu",action:()=>L.jumpTo("mainMenu"),color:"primary"},{label:"Continue Exploring",action:()=>L.jumpTo("worldMap"),color:"default",variant:"bordered"}]}]),{background:{image:"./assets/backgrounds/ending-bg-peace.webp"},classNames:{base:"min-h-screen bg-cover bg-center",container:"max-w-3xl mx-auto py-8 px-6 bg-card/95 backdrop-blur-sm"}});Je("endingDefeat",()=>[{type:"header",content:"Defeat",props:{level:1,className:"text-danger-400"}},{type:"image",content:"./assets/backgrounds/ending-defeat.webp",props:{alt:"Fallen hero",className:"rounded-lg shadow-lg my-6"}},{type:"text",content:"The dragon's fire was too fierce, your blade too slow. As darkness claims you, your last thought is of the kingdom you failed to save.",props:{className:"text-lg mb-4 text-danger-300"}},{type:"text",content:`<p class="text-center text-danger-400 font-bold text-xl my-6">GAME OVER</p>
            <p class="text-center text-muted-foreground">The dragon continues its reign of terror...</p>`,props:{isHTML:!0}},{type:"actions",props:{direction:"vertical"},content:[{label:"Load Last Save",action:()=>L.jumpTo("saveLoadWidget"),color:"primary"},{label:"Return to Main Menu",action:()=>L.jumpTo("mainMenu"),color:"default",variant:"bordered"}]}],{background:{image:"./assets/backgrounds/ending-defeat.webp"},classNames:{base:"min-h-screen bg-red-950",container:"max-w-3xl mx-auto py-8 px-6 bg-card/95 backdrop-blur-sm"}});Je("dragonLairShrine",()=>{const o=$e.hasItem("shrine_blessing");return[{type:"header",content:"Ancient Shrine",props:{level:1,className:"text-primary-400"}},{type:"image",content:"./assets/backgrounds/ancient-shrine.webp",props:{alt:"A mystical shrine in the volcanic cave",className:"rounded-lg shadow-lg my-4"}},{type:"text",content:"In a quiet alcove away from the heat, you find an ancient shrine. Carved from obsidian, it depicts figures that might be dragons and humans standing together. Offerings of gold and gemstones lie at its base, untouched for centuries.",props:{className:"text-lg mb-4"}},{type:"text",content:"A faint magical energy emanates from the shrine, soothing your wounds and calming your mind.",props:{className:"italic text-muted-foreground mb-6"}},{type:"text",content:`<p class="text-muted-foreground">Current HP: <span class="${W.health<W.maxHealth?"text-warning-400":"text-success-400"}">${W.health}</span> / ${W.maxHealth}</p>`,props:{isHTML:!0,className:"text-center mb-6"}},{type:"actions",props:{direction:"vertical"},content:[{label:"Pray at the shrine (Full heal)",action:()=>{const a=W.maxHealth-W.health;W.health=W.maxHealth,Kn.success(`Fully healed! +${a} HP`),L.jumpTo("shrinePrayer")},color:"success",variant:"solid",isDisabled:W.health>=W.maxHealth,tooltip:W.health>=W.maxHealth?{content:"Already at full health",position:"right"}:void 0},{label:o?"Receive blessing (already blessed)":"Receive blessing (+10 max HP permanently)",action:()=>{$e.addItem("shrine_blessing"),W.maxHealth+=10,W.health+=10,Kn.success("Max HP increased by 10!"),L.jumpTo("shrineBlessing")},color:"primary",variant:"solid",isDisabled:o,tooltip:o?{content:"You have already received this blessing",position:"right"}:{content:"A one-time blessing from the ancient gods",position:"right"}},{label:"Return to the lair",action:()=>L.jumpTo("dragonLairMap"),color:"default",variant:"bordered"}]}]},{background:{image:"./assets/backgrounds/shrine-bg.webp"},classNames:{base:"min-h-screen bg-cover bg-center",container:"max-w-3xl mx-auto py-8 px-6 bg-card/85 backdrop-blur-sm"}});Je("shrinePrayer",()=>[{type:"header",content:"Healing Light",props:{level:2,className:"text-success-400"}},{type:"text",content:"A warm, golden light washes over you as you kneel before the shrine. Your wounds close, your fatigue fades, and you feel renewed.",props:{className:"text-lg mb-4 text-center"}},{type:"text",content:`<p class="text-center text-success-400 font-bold">Fully healed!</p>
        <p class="text-center text-muted-foreground">HP: ${W.health}/${W.maxHealth}</p>`,props:{isHTML:!0}},{type:"actions",props:{direction:"vertical"},content:[{label:"Continue",action:()=>L.jumpTo("dragonLairShrine"),color:"primary"}]}]);Je("shrineBlessing",()=>[{type:"header",content:"Ancient Blessing",props:{level:2,className:"text-primary-400"}},{type:"text",content:"As you touch the shrine, ancient words echo in your mind - a language long forgotten, yet somehow understood. Power flows into you, strengthening your very essence.",props:{className:"text-lg mb-4 text-center"}},{type:"text",content:`<p class="text-center text-primary-400 font-bold">Blessing received!</p>
        <p class="text-center text-success-400">+10 Maximum HP (permanent)</p>
        <p class="text-center text-muted-foreground">New Max HP: ${W.maxHealth}</p>`,props:{isHTML:!0}},{type:"actions",props:{direction:"vertical"},content:[{label:"Continue",action:()=>L.jumpTo("dragonLairShrine"),color:"primary"}]}]);Je("dragonTreasure",()=>{const o=W.flags.sparedDragon;return gt.treasureLooted?fw():o?uw():dw()},{background:{image:"./assets/backgrounds/treasure-hoard.webp"},classNames:{base:"min-h-screen bg-cover bg-center",container:"max-w-3xl mx-auto py-8 px-6 bg-card/90 backdrop-blur-sm"}});function uw(){return[{type:"header",content:"The Dragon's Gift",props:{level:1,className:"text-warning-400"}},{type:"image",content:"./assets/backgrounds/treasure-gift.webp",props:{alt:"Vexarion offers a gift from his hoard",className:"rounded-lg shadow-lg my-4"}},{type:"text",content:'Vexarion gestures toward his treasure hoard. "Take what you wish, peacemaker. You have earned it not through violence, but through understanding. That is worth more than all the gold here."',props:{className:"text-lg mb-4"}},{type:"text",content:"The dragon selects several items with surprising delicacy for a creature his size.",props:{className:"italic text-muted-foreground mb-6"}},{type:"actions",props:{direction:"vertical"},content:[{label:"Accept the dragon's gifts",action:()=>{gt.treasureLooted=!0,$e.addGold(200),$e.addItem("dragon_scale_armor"),$e.addItem("ancient_tome"),L.jumpTo("treasureAccepted")},color:"warning",variant:"solid"},{label:'"Your friendship is gift enough."',action:()=>{gt.treasureLooted=!0,$e.addGold(50),$e.addItem("dragon_friendship_token"),L.jumpTo("treasureDeclined")},color:"primary",variant:"bordered"}]}]}function dw(){return[{type:"header",content:"The Dragon's Hoard",props:{level:1,className:"text-warning-400"}},{type:"image",content:"./assets/backgrounds/treasure-hoard.webp",props:{alt:"Mountains of gold and treasure",className:"rounded-lg shadow-lg my-4"}},{type:"text",content:"Before you lies centuries of accumulated wealth - gold coins from forgotten kingdoms, jewels that shimmer with inner light, weapons and armor of legendary craftsmanship. The dragon's hoard is yours for the taking.",props:{className:"text-lg mb-4"}},{type:"text",content:"Yet as you survey the riches, you notice something else among the gold - portraits, letters, tokens of friendship from ages past. Vexarion was not always alone.",props:{className:"italic text-muted-foreground mb-6"}},{type:"actions",props:{direction:"vertical"},content:[{label:"Take everything of value",action:()=>{gt.treasureLooted=!0,$e.addGold(500),$e.addItem("legendary_crown"),$e.addItem("dragon_scale_armor"),$e.addItem("ancient_gold_coins"),L.jumpTo("treasureLootedFull")},color:"warning",variant:"solid"},{label:"Take only what you need",action:()=>{gt.treasureLooted=!0,$e.addGold(200),$e.addItem("dragon_scale_armor"),L.jumpTo("treasureLootedPartial")},color:"default",variant:"bordered"}]}]}function fw(){return[{type:"header",content:"The Treasure Hoard",props:{level:1,className:"text-muted-foreground"}},{type:"text",content:"You've already claimed what you came for. The remaining treasures hold less interest now.",props:{className:"text-lg mb-4 text-center"}},{type:"actions",props:{direction:"vertical"},content:[{label:"Return to the lair",action:()=>L.jumpTo("dragonLairMap"),color:"default"}]}]}Je("treasureAccepted",()=>[{type:"header",content:"Gifts Received",props:{level:2,className:"text-success-400"}},{type:"text",content:"Vexarion places several items before you with care - a suit of armor made from his own shed scales, a tome of ancient knowledge, and a pouch of gold.",props:{className:"text-lg mb-4"}},{type:"text",content:`<p class="text-center text-success-400 font-bold">+200 Gold</p>
        <p class="text-center text-primary-400">Received: Dragon Scale Armor</p>
        <p class="text-center text-primary-400">Received: Ancient Tome</p>`,props:{isHTML:!0,className:"my-4"}},{type:"actions",props:{direction:"vertical"},content:[{label:"Return to the lair",action:()=>L.jumpTo("dragonLairMap"),color:"primary"}]}]);Je("treasureDeclined",()=>[{type:"header",content:"True Treasure",props:{level:2,className:"text-primary-400"}},{type:"text",content:`Vexarion's eyes soften with something like tears. "In three centuries, no one has ever refused my gold. You are truly remarkable, ${W.name}."`,props:{className:"text-lg mb-4"}},{type:"text",content:"He presses a small token into your hand - a scale from his own heart, warm with inner fire.",props:{className:"mb-4"}},{type:"text",content:`<p class="text-center text-primary-400 font-bold">Received: Dragon Friendship Token</p>
        <p class="text-center text-muted-foreground">(A token of true friendship, beyond any treasure)</p>
        <p class="text-center text-success-400">+50 Gold (insisted upon)</p>`,props:{isHTML:!0,className:"my-4"}},{type:"actions",props:{direction:"vertical"},content:[{label:"Return to the lair",action:()=>L.jumpTo("dragonLairMap"),color:"primary"}]}]);Je("treasureLootedFull",()=>[{type:"header",content:"Riches Beyond Measure",props:{level:2,className:"text-warning-400"}},{type:"text",content:"You fill your bags with as much treasure as you can carry. The wealth of centuries is now yours.",props:{className:"text-lg mb-4"}},{type:"text",content:`<p class="text-center text-success-400 font-bold">+500 Gold</p>
        <p class="text-center text-warning-400">Received: Legendary Crown</p>
        <p class="text-center text-primary-400">Received: Dragon Scale Armor</p>
        <p class="text-center text-primary-400">Received: Ancient Gold Coins</p>`,props:{isHTML:!0,className:"my-4"}},{type:"actions",props:{direction:"vertical"},content:[{label:"Return to the lair",action:()=>L.jumpTo("dragonLairMap"),color:"primary"}]}]);Je("treasureLootedPartial",()=>[{type:"header",content:"A Knight's Share",props:{level:2,className:"text-primary-400"}},{type:"text",content:"You take only what you need - some gold for your troubles and a suit of dragon scale armor. The rest you leave undisturbed.",props:{className:"text-lg mb-4"}},{type:"text",content:`<p class="text-center text-success-400 font-bold">+200 Gold</p>
        <p class="text-center text-primary-400">Received: Dragon Scale Armor</p>`,props:{isHTML:!0,className:"my-4"}},{type:"actions",props:{direction:"vertical"},content:[{label:"Return to the lair",action:()=>L.jumpTo("dragonLairMap"),color:"primary"}]}]);Je("forestEncounter",()=>(to(qb),W.flags.foundForestTreasure?pw():hw()),{background:{image:"./assets/backgrounds/forest.webp"},classNames:{base:"min-h-screen bg-cover bg-center",container:"max-w-3xl mx-auto py-8 px-6 bg-card/85 backdrop-blur-sm"}});function hw(){return[{type:"header",content:"The Whispering Woods",props:{level:1,className:"text-emerald-400"}},{type:"image",content:"./assets/backgrounds/forest-path.webp",props:{alt:"A mysterious forest path",className:"rounded-lg shadow-lg mb-6"}},{type:"text",content:"The forest is ancient and alive. Massive oaks stretch toward the sky, their branches intertwining to create a canopy that filters the sunlight into dappled patterns on the forest floor. The air is thick with the scent of moss and wildflowers.",props:{className:"text-lg mb-4"}},{type:"text",content:"As you venture deeper, you hear whispers on the wind - hence the forest's name. Some say they are the voices of spirits; others claim they are merely the rustling of leaves. Either way, it's unnerving.",props:{className:"text-base mb-6 italic text-muted-foreground"}},{type:"header",content:"A Glimmer in the Undergrowth",props:{level:2,className:"text-warning-400"}},{type:"text",content:"Following the rumors you heard at the tavern, you search carefully among the ferns and fallen logs. After what feels like hours, something catches your eye - a faint golden glimmer beneath a ancient oak tree.",props:{className:"text-base mb-4"}},{type:"image",content:"./assets/items/hidden-treasure.webp",props:{alt:"Something glimmering beneath the tree",className:"rounded-lg shadow-lg mb-6 cursor-pointer hover:ring-2 hover:ring-warning-400 transition-all",disableModal:!0,onClick:()=>{W.flags.foundForestTreasure=!0,$e.addItem("forest_treasure"),$e.addGold(25),L.jumpTo("forestTreasureFound")}}},{type:"text",content:"*Click the image to investigate the glimmer*",props:{className:"text-center text-muted-foreground italic mb-6"}},{type:"actions",props:{direction:"horizontal"},content:[{label:"Leave the forest",action:()=>L.jumpTo("worldMap"),color:"default",variant:"bordered"},{label:"Search elsewhere",action:()=>{const o=Math.random();o>.7?($e.addGold(10),L.jumpTo("forestMinorFind")):o<.2?($e.takeDamage(10),L.jumpTo("forestDanger")):L.jumpTo("forestNothing")},color:"secondary",variant:"bordered"}]}]}Je("forestTreasureFound",()=>[{type:"header",content:"Treasure Found!",props:{level:1,className:"text-warning-400"}},{type:"image",content:"./assets/items/amulet.webp",props:{alt:"An ancient amulet",className:"rounded-lg shadow-lg my-6 max-w-xs mx-auto"}},{type:"text",content:"You carefully dig through the soft earth and uncover a small chest, half-rotted with age. Inside, you find an ancient amulet and a pouch of gold coins!",props:{className:"text-lg text-center mb-4"}},{type:"text",content:`<p class="text-center text-success-400 font-bold">+25 Gold</p>
        <p class="text-center text-primary-400">Item received: Ancient Amulet</p>`,props:{isHTML:!0,className:"my-4"}},{type:"text",content:"*The amulet feels warm in your hand. Perhaps it has some magical property...*",props:{className:"italic text-muted-foreground text-center"}},{type:"actions",props:{direction:"vertical"},content:[{label:"Return to the World Map",action:()=>L.jumpTo("worldMap"),color:"primary",variant:"solid"}]}]);Je("forestMinorFind",()=>[{type:"header",content:"A Small Discovery",props:{level:2,className:"text-success-400"}},{type:"text",content:"While searching, you stumble upon a traveler's old campsite. Among the debris, you find a small pouch containing some coins!",props:{className:"text-lg text-center mb-4"}},{type:"text",content:'<p class="text-center text-success-400 font-bold">+10 Gold</p>',props:{isHTML:!0}},{type:"actions",props:{direction:"horizontal"},content:[{label:"Continue exploring",action:()=>L.jumpTo("forestEncounter"),color:"secondary"},{label:"Leave the forest",action:()=>L.jumpTo("worldMap"),color:"default"}]}]);Je("forestDanger",()=>[{type:"header",content:"Danger!",props:{level:2,className:"text-danger-400"}},{type:"image",content:"./assets/backgrounds/forest-danger.webp",props:{alt:"A dangerous situation in the forest",className:"rounded-lg shadow-lg my-4"}},{type:"text",content:"While pushing through thick underbrush, you disturb a nest of forest serpents! One strikes before you can react, its fangs sinking into your leg.",props:{className:"text-lg text-center mb-4"}},{type:"text",content:`<p class="text-center text-danger-400 font-bold">-10 HP</p>
        <p class="text-center text-muted-foreground">Current HP: ${W.health}/${W.maxHealth}</p>`,props:{isHTML:!0}},{type:"actions",props:{direction:"horizontal"},content:[{label:"Retreat to safety",action:()=>L.jumpTo("worldMap"),color:"warning",variant:"solid"},{label:"Continue exploring",action:()=>L.jumpTo("forestEncounter"),color:"danger",variant:"bordered",isDisabled:W.health<=20,tooltip:W.health<=20?{content:"Too dangerous with low health!",position:"top"}:void 0}]}]);Je("forestNothing",()=>[{type:"header",content:"Nothing Here",props:{level:2,className:"text-muted-foreground"}},{type:"text",content:"You search the area thoroughly but find nothing of interest. The forest seems to guard its secrets well.",props:{className:"text-lg text-center mb-4 italic"}},{type:"actions",props:{direction:"horizontal"},content:[{label:"Keep searching",action:()=>L.jumpTo("forestEncounter"),color:"secondary"},{label:"Leave the forest",action:()=>L.jumpTo("worldMap"),color:"default"}]}]);function pw(){return[{type:"header",content:"The Whispering Woods",props:{level:1,className:"text-emerald-400"}},{type:"image",content:"./assets/backgrounds/forest-path.webp",props:{alt:"A peaceful forest path",className:"rounded-lg shadow-lg mb-6"}},{type:"text",content:"The forest feels less mysterious now that you've explored it. The whispers seem almost welcoming, as if the spirits recognize you as a friend.",props:{className:"text-lg mb-4"}},{type:"text",content:"You've already found the hidden treasure beneath the ancient oak. The forest has no more secrets to reveal... for now.",props:{className:"text-base text-muted-foreground italic mb-6"}},{type:"actions",props:{direction:"horizontal"},content:[{label:"Return to World Map",action:()=>L.jumpTo("worldMap"),color:"primary",variant:"solid"},{label:"Rest here (+20 HP)",action:()=>{$e.heal(20),L.jumpTo("forestRest")},color:"success",variant:"bordered",isDisabled:W.health>=W.maxHealth,tooltip:W.health>=W.maxHealth?{content:"Already at full health",position:"top"}:void 0}]}]}Je("forestRest",()=>[{type:"header",content:"A Moment of Peace",props:{level:2,className:"text-success-400"}},{type:"text",content:"You find a peaceful clearing and rest beneath the ancient trees. The gentle whispers of the forest lull you into a light sleep. When you awaken, you feel refreshed.",props:{className:"text-lg text-center mb-4"}},{type:"text",content:`<p class="text-center text-success-400 font-bold">+20 HP</p>
        <p class="text-center text-muted-foreground">Current HP: ${W.health}/${W.maxHealth}</p>`,props:{isHTML:!0}},{type:"actions",props:{direction:"vertical"},content:[{label:"Continue your journey",action:()=>L.jumpTo("worldMap"),color:"primary"}]}]);Je("start-passage",()=>(mf.play(),[{type:"header",content:"Prologue: The Dragon's Shadow",props:{level:1,className:"text-primary-400"}},{type:"video",content:"./assets/video/intro-cutscene.mp4",props:{className:"rounded-lg shadow-xl my-6",controls:!0,autoPlay:!0,loop:!0,muted:!0}},{type:"text",content:"The Kingdom of Valdoria has known peace for a hundred years. Under the wise rule of King Alderon III, the realm has flourished, its people prosperous and content.",props:{className:"text-lg leading-relaxed"}},{type:"image",content:"./assets/backgrounds/kingdom-overview.webp",props:{alt:"The peaceful Kingdom of Valdoria",className:"rounded-lg shadow-lg my-4"}},{type:"text",content:"But darkness stirs in the mountains to the north. Vexarion, a dragon of terrible power, has awakened from his centuries-long slumber. His shadow now falls upon the land, and his fiery breath threatens all that Valdoria holds dear.",props:{className:"text-lg leading-relaxed"}},{type:"header",content:"Your Story Begins",props:{level:2,className:"text-secondary-400 mt-8"}},{type:"text",content:`You are ${W.name}, ${W.title}. Though young, your courage and skill with a blade have earned you respect among your peers. When news of the dragon's awakening reached the village of Millbrook, you knew your moment had come.`,props:{className:"text-lg leading-relaxed"}},{type:"image",content:"./assets/characters/knight-portrait.webp",props:{alt:`${W.name}, Knight of Valdoria`,className:"rounded-lg shadow-lg my-4 max-w-md mx-auto"}},{type:"text",content:"The village elder has summoned all able warriors to discuss the threat. Perhaps this is your chance to prove yourself and bring honor to your name. The road ahead is dangerous, but glory awaits those brave enough to face the dragon.",props:{className:"text-lg leading-relaxed italic"}},{type:"text",content:'<p class="text-center text-xl font-semibold text-primary-400 my-6">Your destiny awaits...</p>',props:{isHTML:!0}},{type:"actions",props:{direction:"vertical",className:"mt-8"},content:[{label:"Begin Your Quest",action:async()=>{$b(kx,mf),L.jumpTo("worldMap")},color:"primary",variant:"solid",className:"text-lg py-3 px-8"}]}]),{background:{image:"./assets/backgrounds/parchment.webp"},classNames:{base:"min-h-screen",container:"max-w-3xl mx-auto py-8 px-6"}});Je("blacksmithStory",()=>{nf.conversationCount++;const o=nf.conversationCount===1,a=ja.rumors.blacksmithSecret,s=a?.8:1,i={ironSword:Math.floor(30*s),steelSword:Math.floor(75*s),chainmail:Math.floor(50*s),plateArmor:Math.floor(120*s),woodenShield:Math.floor(15*s),ironShield:Math.floor(40*s),healthPotion:Math.floor(20*s)};return[{type:"header",content:"Gareth's Smithy",props:{level:1,className:"text-orange-400"}},{type:"image",content:"./assets/backgrounds/blacksmith-interior.webp",props:{alt:"Inside the blacksmith's forge",className:"rounded-lg shadow-lg mb-6"}},{type:"text",content:"The heat from the forge hits you as you enter. Gareth, a burly man with arms like tree trunks, looks up from his work.",props:{className:"text-lg mb-4"}},{type:"conversation",appearance:"atOnce",props:{variant:"chat",className:"my-4"},content:[{content:o?"A knight, eh? Haven't seen many of your kind around here lately. Looking for weapons or armor?":`Back for more, ${W.name}? My steel is the finest in the realm!`,who:{name:"Gareth",avatar:"./assets/avatars/gareth.webp"},side:"left",color:"#CD853F"},...a&&o?[{content:"Martha from the tavern sent me. She said you might offer a fair price.",who:{name:W.name,avatar:"./assets/avatars/knight.webp"},side:"right",color:"#4169E1"},{content:"*Gareth's expression softens* Ah, Martha! Fine woman, that one. Alright, friend of Martha's gets 20% off. Take a look at what I've got.",who:{name:"Gareth",avatar:"./assets/avatars/gareth.webp"},side:"left",color:"#CD853F"}]:[]]},{type:"header",content:`Your Gold: ${W.gold}`,props:{level:3,className:"text-yellow-400 text-center my-4"}},...a?[{type:"text",content:"*You have Martha's discount: 20% off all items!*",props:{className:"text-success-400 text-center italic mb-4"}}]:[],{type:"header",content:"Weapons",props:{level:4,className:"text-muted-foreground mt-6 mb-2"}},{type:"actions",props:{direction:"vertical",className:"gap-2"},content:[{label:`Iron Sword (${i.ironSword} gold)`,action:()=>{$e.spendGold(i.ironSword)&&(xs.play(),ys.play(),$e.addItem("iron_sword"),$e.equipWeapon("iron_sword"),nf.shopInventory.iron_sword.available=!1)},color:"primary",variant:"solid",isDisabled:W.gold<i.ironSword||W.inventory.includes("iron_sword"),tooltip:W.gold<i.ironSword?{content:`Not enough gold (need ${i.ironSword})`,position:"right"}:W.inventory.includes("iron_sword")?{content:"You already own this weapon",position:"right"}:{content:"Attack +5 - A reliable blade for any warrior",position:"right"}},{label:`Steel Sword (${i.steelSword} gold)`,action:()=>{$e.spendGold(i.steelSword)&&(xs.play(),ys.play(),$e.addItem("steel_sword"),$e.equipWeapon("steel_sword"))},color:"secondary",variant:"bordered",isDisabled:W.gold<i.steelSword||W.inventory.includes("steel_sword"),tooltip:W.gold<i.steelSword?{content:`Not enough gold (need ${i.steelSword})`,position:"right"}:W.inventory.includes("steel_sword")?{content:"You already own this weapon",position:"right"}:{content:"Attack +15 - Superior craftsmanship",position:"right"}}]},{type:"header",content:"Armor",props:{level:4,className:"text-muted-foreground mt-6 mb-2"}},{type:"actions",props:{direction:"vertical",className:"gap-2"},content:[{label:`Chainmail (${i.chainmail} gold)`,action:()=>{$e.spendGold(i.chainmail)&&(xs.play(),ys.play(),$e.addItem("chainmail"),$e.equipArmor("chainmail"))},color:"success",variant:"light",isDisabled:W.gold<i.chainmail||W.inventory.includes("chainmail"),tooltip:{content:"Defense +5 - Good protection without sacrificing mobility",position:"right"}},{label:`Plate Armor (${i.plateArmor} gold)`,action:()=>{$e.spendGold(i.plateArmor)&&(xs.play(),ys.play(),$e.addItem("plate_armor"),$e.equipArmor("plate_armor"))},color:"warning",variant:"shadow",isDisabled:!W.quests.mainQuestStarted||W.gold<i.plateArmor||W.inventory.includes("plate_armor"),tooltip:W.quests.mainQuestStarted?{content:"Defense +15 - The finest armor in the realm",position:"right"}:{content:"Gareth will craft this only for proven heroes",position:"right"}}]},{type:"header",content:"Shields",props:{level:4,className:"text-muted-foreground mt-6 mb-2"}},{type:"actions",props:{direction:"horizontal",className:"gap-2 flex-wrap"},content:[{label:`Wooden Shield (${i.woodenShield}g)`,action:()=>{$e.spendGold(i.woodenShield)&&(xs.play(),ys.play(),$e.addItem("wooden_shield"),$e.equipShield("wooden_shield"))},color:"default",variant:"flat",isDisabled:W.gold<i.woodenShield||W.inventory.includes("wooden_shield"),tooltip:{content:"Defense +3",position:"top"}},{label:`Iron Shield (${i.ironShield}g)`,action:()=>{$e.spendGold(i.ironShield)&&(xs.play(),ys.play(),$e.addItem("iron_shield"),$e.equipShield("iron_shield"))},color:"primary",variant:"faded",isDisabled:W.gold<i.ironShield||W.inventory.includes("iron_shield"),tooltip:{content:"Defense +7",position:"top"}}]},{type:"header",content:"Consumables",props:{level:4,className:"text-muted-foreground mt-6 mb-2"}},{type:"actions",props:{direction:"horizontal"},content:[{label:`Health Potion (${i.healthPotion} gold)`,action:()=>{$e.spendGold(i.healthPotion)&&(xs.play(),ys.play(),$e.addItem("health_potion"))},color:"danger",variant:"ghost",isDisabled:W.gold<i.healthPotion,tooltip:{content:"Restores 50 HP - Can buy multiple",position:"top"}}]},{type:"header",content:"",props:{level:6}},{type:"actions",props:{direction:"horizontal",className:"mt-8"},content:[{label:"Return to Village",action:()=>L.jumpTo("villageMap"),color:"default",variant:"bordered"},{label:"View Inventory",action:()=>L.jumpTo("inventory"),color:"secondary",variant:"bordered"}]}]},{background:{image:"./assets/backgrounds/forge-bg.webp"},classNames:{base:"min-h-screen",container:"max-w-2xl mx-auto py-8 px-6 bg-card/95 backdrop-blur-sm"}});Je("elderHouseDescription",()=>[{type:"text",content:"Elder Marcus's home is modest but well-kept. Books and scrolls line the walls, evidence of a scholarly mind. A warm fire crackles in the hearth, casting dancing shadows across the room.",props:{className:"text-base italic text-muted-foreground mb-4"}}]);Je("questGiverStory",()=>(ia.conversationCount++,ia.questState==="completed"?xw():ia.questState==="accepted"?gw():mw()),{background:{image:"./assets/backgrounds/elder-house.webp"},classNames:{base:"min-h-screen",container:"max-w-3xl mx-auto py-8 px-6 bg-card/90 backdrop-blur-sm"}});function mw(){return ia.dialogue.introducedSelf=!0,[{type:"header",content:"Elder Marcus's Home",props:{level:1,className:""}},{type:"anotherStory",storyId:"elderHouseDescription"},{type:"image",content:"./assets/characters/elder-marcus.webp",props:{alt:"Elder Marcus, a wise old man",className:"rounded-lg shadow-lg mb-6 max-w-sm mx-auto"}},{type:"conversation",props:{variant:"messenger",className:"my-6"},content:[{content:`Ah, ${W.name}! I'm glad you came. Please, sit. We have much to discuss.`,who:{name:"Elder Marcus",avatar:"./assets/avatars/elder-marcus.webp"},side:"left",color:"#8B7355"},{content:"You sent for me, Elder. What troubles the village?",who:{name:W.name,avatar:"./assets/avatars/knight.webp"},side:"right",color:"#4169E1"},{content:"*The Elder's face grows grave* The rumors are true. A dragon has awakened in Mount Doom. But that's not the worst of it...",who:{name:"Elder Marcus",avatar:"./assets/avatars/elder-marcus.webp"},side:"left",color:"#8B7355"},{content:"Princess Elara, the King's only daughter, ventured north to negotiate with the beast. She believed she could reason with it. She has not returned.",who:{name:"Elder Marcus",avatar:"./assets/avatars/elder-marcus.webp"},side:"left",color:"#8B7355"},{content:"The Princess? This is dire indeed. What would you have me do?",who:{name:W.name,avatar:"./assets/avatars/knight.webp"},side:"right",color:"#4169E1"},{content:"I need you to go to Castle Valdoria. Speak with the King. Offer your services as a dragon slayer. He will grant you passage to Mount Doom.",who:{name:"Elder Marcus",avatar:"./assets/avatars/elder-marcus.webp"},side:"left",color:"#8B7355"},{content:`*He reaches into his robes and produces a sealed letter* Take this. It bears my seal and will grant you audience with King Alderon. Will you accept this quest, ${W.name}?`,who:{name:"Elder Marcus",avatar:"./assets/avatars/elder-marcus.webp"},side:"left",color:"#8B7355"}]},{type:"actions",props:{direction:"horizontal",className:"mt-8 justify-center"},content:[{label:"Continue",action:()=>L.jumpTo("questOfferDetails"),color:"primary",variant:"solid"}]}]}Je("questOfferDetails",()=>[{type:"header",content:"Elder Marcus's Home",props:{level:1,className:""}},{type:"anotherStory",storyId:"elderHouseDescription"},{type:"header",content:"Quest: The Dragon's Shadow",props:{level:2,className:"mt-6 "}},{type:"text",content:`<p class="font-semibold  -mb-6">Objectives:</p>
            <ul class="list-disc list-inside ml-4 -mt-8 ">
                <li>Travel to Castle Valdoria</li>
                <li>Speak with King Alderon III</li>
                <li>Journey to Mount Doom</li>
                <li>Rescue Princess Elara (optional)</li>
                <li>Defeat or negotiate with the dragon Vexarion</li>
            </ul>
            <p class="-mt-10 text-warning-400 ">Reward: 100 gold + Royal recognition</p>`,props:{isHTML:!0,className:"bg-grey/30 p-4 rounded-lg"}},{type:"actions",props:{direction:"horizontal",className:"mt-8 justify-center gap-4"},content:[{label:"Accept Quest",action:()=>{ia.questState="accepted",ia.dialogue.explainedSituation=!0,W.quests.mainQuestStarted=!0,$e.addItem("royal_seal"),nn.discoveredLocations.castle=!0,nn.worldEvents.dragonAttackAnnounced=!0,L.jumpTo("questAccepted")},color:"success",variant:"solid",className:"px-8"},{label:"I need to prepare first",action:()=>{ia.questState="offered",L.jumpTo("villageMap")},color:"warning",variant:"bordered"}]}],{background:{image:"./assets/backgrounds/elder-house.webp"},classNames:{base:"min-h-screen",container:"max-w-3xl mx-auto py-8 px-6 bg-card/90 backdrop-blur-sm"}});Je("questAccepted",()=>[{type:"header",content:"Quest Accepted!",props:{level:1,className:"text-success-400"}},{type:"image",content:"./assets/items/royal-seal.webp",props:{alt:"Elder Marcus's Royal Seal",className:"rounded-lg shadow-lg my-6 max-w-xs mx-auto",disableModal:!0}},{type:"text",content:"*Elder Marcus places the sealed letter in your hands. You feel the weight of responsibility settle on your shoulders.*",props:{className:"italic text-center my-4"}},{type:"conversation",appearance:"atOnce",props:{variant:"chat"},content:[{content:`Thank you, ${W.name}. The kingdom's fate rests in your hands. The castle gates will now be open to you. May the gods guide your blade.`,who:{name:"Elder Marcus",avatar:"./assets/avatars/elder-marcus.webp"},side:"left",color:"#8B7355"}]},{type:"text",content:`<p class="text-center font-bold text-primary-400 my-6">New location discovered: Castle Valdoria!</p>
        <p class="text-center text-muted-foreground">Item received: Elder's Sealed Letter</p>`,props:{isHTML:!0}},{type:"actions",props:{direction:"vertical"},content:[{label:"Go to World Map",action:()=>L.jumpTo("worldMap"),color:"primary",variant:"solid"}]}]);function gw(){return[{type:"header",content:"Elder Marcus's Home",props:{level:1,className:"text-amber-300"}},{type:"anotherStory",storyId:"elderHouseDescription"},{type:"conversation",appearance:"atOnce",props:{variant:"chat"},content:[{content:`${W.name}! Have you found the Princess? Defeated the dragon?`,who:{name:"Elder Marcus",avatar:"./assets/avatars/elder-marcus.webp"},side:"left",color:"#8B7355"},{content:"Not yet, Elder. I came to prepare further before my journey.",who:{name:W.name,avatar:"./assets/avatars/knight.webp"},side:"right",color:"#4169E1"},{content:"Time is of the essence, but wisdom dictates proper preparation. Go, prepare yourself, but do not tarry too long.",who:{name:"Elder Marcus",avatar:"./assets/avatars/elder-marcus.webp"},side:"left",color:"#8B7355"}]},{type:"text",content:`<p class="text-warning-400 text-center my-4">Quest in progress: The Dragon's Shadow</p>`,props:{isHTML:!0}},{type:"actions",props:{direction:"vertical"},content:[{label:"Return to Village",action:()=>L.jumpTo("villageMap"),color:"primary"}]}]}function xw(){return ia.dialogue.gaveReward||(ia.dialogue.gaveReward=!0,$e.addGold(ia.reward.gold)),[{type:"header",content:"A Hero's Welcome",props:{level:1,className:"text-success-400"}},{type:"anotherStory",storyId:"elderHouseDescription"},{type:"conversation",props:{variant:"messenger"},content:[{content:`${W.name}! The hero of Valdoria returns! Word of your deeds has spread throughout the kingdom!`,who:{name:"Elder Marcus",avatar:"./assets/avatars/elder-marcus.webp"},side:"left",color:"#8B7355"},{content:"I only did what was necessary, Elder.",who:{name:W.name,avatar:"./assets/avatars/knight.webp"},side:"right",color:"#4169E1"},{content:"Humble as always. Here, take this reward - you've more than earned it. The kingdom owes you a debt that can never be fully repaid.",who:{name:"Elder Marcus",avatar:"./assets/avatars/elder-marcus.webp"},side:"left",color:"#8B7355"}]},{type:"text",content:`<p class="text-center text-success-400 font-bold my-6">Quest Complete: The Dragon's Shadow</p>
            <p class="text-center text-warning-400">Reward received: 100 gold!</p>`,props:{isHTML:!0}},{type:"actions",props:{direction:"vertical"},content:[{label:"Return to Village",action:()=>L.jumpTo("villageMap"),color:"primary"}]}]}Je("tavernStory",()=>{ja.conversationCount++;const o=ja.conversationCount===1,a=!ja.rumors.dragonSighting,s=!ja.rumors.castleSecret,i=!ja.rumors.forestTreasure;return a&&(ja.rumors.dragonSighting=!0,W.flags.heardRumorAboutDragon=!0),s&&(ja.rumors.castleSecret=!0),i&&(ja.rumors.forestTreasure=!0),ja.dialogue.servedDrink=!0,[{type:"header",content:"The Golden Flagon",props:{level:1,className:"text-amber-400"}},{type:"text",content:`The tavern is warm and inviting, filled with the scent of roasting meat and fresh bread. 
                ${o?"Martha, the tavern keeper, looks up as you enter and waves you over with a friendly smile.":"Martha nods in recognition as you approach the bar."}`,props:{className:"text-lg mb-4"}},{type:"image",content:"./assets/backgrounds/tavern-interior.webp",props:{alt:"Inside The Golden Flagon tavern",className:"rounded-lg shadow-lg mb-6"}},{type:"conversation",appearance:"byClick",props:{variant:"messenger",className:"my-6"},content:[{content:o?`Well, well! If it isn't young ${W.name}! What brings you to my humble establishment today?`:`Back again, ${W.name}? What can I get for you?`,who:{name:"Martha",avatar:"./assets/avatars/martha.webp"},side:"left",color:"#8B4513"},{content:o?"Good day, Martha. I've heard rumors about trouble in the kingdom. What do you know?":"Any news worth sharing today, Martha?",who:{name:W.name,avatar:"./assets/avatars/knight.webp"},side:"right",color:"#4169E1"},{content:`*Martha leans in closer and lowers her voice*

Aye, there's been talk. Dark talk, ${W.name}.`,who:{name:"Martha",avatar:"./assets/avatars/martha.webp"},side:"left",color:"#8B4513"},...a?[{content:"They say a dragon has awakened in the northern mountains. Farmers have seen smoke rising from Mount Doom, and some claim to have heard terrible roars in the night.",who:{name:"Martha",avatar:"./assets/avatars/martha.webp"},side:"left",color:"#8B4513"},{content:"A dragon? That's troubling news indeed. Has anyone done anything about it?",who:{name:W.name,avatar:"./assets/avatars/knight.webp"},side:"right",color:"#4169E1"}]:[],...s?[{content:"The King has sent messengers throughout the realm, seeking brave warriors. But there's something else... *she glances around nervously* ...they say the Princess herself ventured north three days ago and hasn't returned.",who:{name:"Martha",avatar:"./assets/avatars/martha.webp"},side:"left",color:"#8B4513"}]:[],...i?[{content:"Oh, and one more thing. Old Tom the woodcutter swears he saw something glinting in the heart of the Whispering Woods. Could be treasure, could be danger. Who knows with that cursed forest?",who:{name:"Martha",avatar:"./assets/avatars/martha.webp"},side:"left",color:"#8B4513"}]:[],{content:"Thank you for the information, Martha. I should investigate these matters.",who:{name:W.name,avatar:"./assets/avatars/knight.webp"},side:"right",color:"#4169E1"},{content:`Be careful out there, ${W.name}. The world's become a dangerous place. Here, have some bread for the road - on the house.`,who:{name:"Martha",avatar:"./assets/avatars/martha.webp"},side:"left",color:"#8B4513"}]},{type:"text",content:"*Martha hands you a small loaf of fresh bread. The warmth is comforting.*",props:{className:"italic text-muted-foreground text-center my-4"}},{type:"actions",props:{direction:"vertical",className:"mt-6"},content:[{label:"Return to Village",action:()=>L.jumpTo("villageMap"),color:"primary",variant:"solid"},{label:"Ask about the blacksmith",action:()=>{ja.rumors.blacksmithSecret=!0,L.jumpTo("blacksmithHint")},color:"secondary",variant:"bordered",isDisabled:ja.rumors.blacksmithSecret,tooltip:ja.rumors.blacksmithSecret?{content:"You already asked about this",position:"top"}:void 0}]}]},{background:{image:"./assets/backgrounds/tavern-interior.webp"},classNames:{base:"min-h-screen bg-cover bg-center",container:"max-w-3xl mx-auto py-8 px-6 bg-card/90 backdrop-blur-sm"}});Je("blacksmithHint",()=>[{type:"header",content:"A Secret About Gareth",props:{level:2,className:"text-amber-400"}},{type:"conversation",appearance:"atOnce",props:{variant:"chat"},content:[{content:"*Martha's eyes light up* Ah, old Gareth! Did you know he used to be a royal blacksmith at the castle? He made armor for the King's own guard!",who:{name:"Martha",avatar:"./assets/avatars/martha.webp"},side:"left",color:"#8B4513"},{content:"Really? Why did he leave?",who:{name:W.name,avatar:"./assets/avatars/knight.webp"},side:"right",color:"#4169E1"},{content:"Something about a disagreement with the King's advisor. But I'll tell you this - if you need the finest weapons in the realm, Gareth's your man. Mention my name and he might give you a discount!",who:{name:"Martha",avatar:"./assets/avatars/martha.webp"},side:"left",color:"#8B4513"}]},{type:"actions",props:{direction:"horizontal"},content:[{label:"Continue",action:()=>L.jumpTo("tavernStory"),color:"primary"}]}]);Ju("castleMap",{caption:"Castle Valdoria",image:"./assets/maps/castle-map.webp",bgImage:"./assets/backgrounds/castle-interior.webp",props:{bgOpacity:.2},hotspots:()=>{to(Ub);const o=[];return o.push({type:"image",content:{idle:"./assets/hotspots/throne-idle.webp",hover:"./assets/hotspots/throne-hover.webp",active:"./assets/hotspots/throne-active.webp"},position:{x:81.18,y:49.72},action:()=>{vr.play(),L.jumpTo("throneRoom")},tooltip:{content:()=>ta.dialogue.gaveAudience?"The Throne Room - The King awaits":"The Throne Room - Seek audience with King Alderon",position:"bottom"},props:{zoom:"30%"}}),o.push({type:"label",content:"Royal Armory",position:{x:20,y:50},action:()=>{vr.play(),L.jumpTo("castleArmory")},isDisabled:!W.quests.hasRoyalBlessing,props:{variant:W.quests.hasRoyalBlessing?"solid":"bordered",color:W.quests.hasRoyalBlessing?"warning":"default"},tooltip:{content:W.quests.hasRoyalBlessing?"Access granted - Browse the finest weapons":"Restricted - Only those with the King's blessing may enter",position:"right"}}),(Xa.dialogue.introducedSelf||W.quests.hasRoyalBlessing)&&o.push({type:"image",content:{idle:"./assets/hotspots/tower-idle.webp",hover:"./assets/hotspots/tower-hover.webp"},position:{x:80,y:25},action:()=>{vr.play(),L.jumpTo("princessTower")},tooltip:{content:"Princess Elara's Tower",position:"left"},props:{zoom:"30%"}}),o.push({type:"label",content:"Royal Gardens",position:{x:50.83,y:92.92},action:()=>{vr.play(),L.jumpTo("castleGardens")},props:{color:"success"},tooltip:{content:"A peaceful place to rest and restore health",position:"top"}}),o.push({type:"menu",position:{x:50,y:5},direction:"horizontal",items:[{type:"label",content:"Leave Castle",action:()=>L.jumpTo("worldMap"),props:{variant:"bordered",color:"default"}},{type:"label",content:()=>W.quests.hasRoyalBlessing?"Quest: Slay the Dragon":W.quests.talkedToKing?"Quest: Prove Yourself":"Quest: Seek the King",action:()=>{},isDisabled:!0,props:{variant:"flat",color:"primary"}}]}),o},classNames:{container:"bg-gradient-to-b from-stone-800/50 to-stone-900/50",topHotspots:"p-3 bg-card/80 backdrop-blur-sm",bottomHotspots:"p-3 bg-card/80 backdrop-blur-sm"}});Ju("dragonLairMap",{caption:"Mount Doom - Dragon's Lair",image:"./assets/maps/dragon-lair-map.webp",bgImage:"./assets/backgrounds/volcanic-cave.webp",props:{bgOpacity:.3},hotspots:()=>{to(Kb);const o=[];return gt.isDefeated?o.push({type:"label",content:"Dragon's Chamber",position:{x:50,y:35},action:()=>L.jumpTo("dragonChamberEmpty"),props:{variant:"bordered",color:"success"},tooltip:{content:"The chamber is peaceful now",position:"bottom"}}):o.push({type:"image",content:{idle:"./assets/hotspots/dragon-chamber-idle.webp",hover:"./assets/hotspots/dragon-chamber-hover.webp",active:"./assets/hotspots/dragon-chamber-active.webp"},position:{x:50,y:35},action:()=>L.jumpTo("dragonEncounter"),tooltip:{content:"The Dragon's Chamber - Vexarion awaits within. Proceed with caution.",position:"bottom"},props:{zoom:"30%"}}),o.push({type:"image",content:{idle:"./assets/hotspots/treasure-hoard-idle.webp",hover:"./assets/hotspots/treasure-hoard-hover.webp",disabled:"./assets/hotspots/treasure-hoard-locked.webp"},position:{x:75,y:55},action:()=>L.jumpTo("dragonTreasure"),isDisabled:!gt.isDefeated,tooltip:{content:gt.isDefeated?"The Dragon's Treasure Hoard":"Too dangerous while the dragon lives",position:"left"},props:{zoom:"30%"}}),o.push({type:"label",content:"Ancient Shrine",position:{x:25,y:60},action:()=>L.jumpTo("dragonLairShrine"),props:{color:"primary"},tooltip:{content:"An ancient shrine to forgotten gods",position:"right"}}),o.push({type:"label",content:"Exit to World Map",position:{x:50,y:85},action:()=>L.jumpTo("worldMap"),props:{color:"default"},tooltip:{content:"Return to the world map",position:"top"}}),o.push({type:"menu",position:{x:50,y:5},direction:"horizontal",items:[{type:"label",content:()=>gt.isDefeated?"Quest Status: Dragon Resolved":`Dragon HP: ${gt.health}/${gt.maxHealth}`,action:()=>{},isDisabled:!0,props:{variant:"flat",color:gt.isDefeated?"success":"danger"}}]}),o},classNames:{container:"bg-gradient-to-b from-red-900/50 to-orange-900/50",topHotspots:"p-3 bg-card/80 backdrop-blur-sm",bottomHotspots:"p-3 bg-card/80 backdrop-blur-sm"}});Ju("villageMap",{caption:"Millbrook Village",image:"./assets/maps/village-map.webp",bgImage:"./assets/backgrounds/village-background.webp",props:{bgOpacity:.2},hotspots:()=>{to(kx);const o=[];return o.push({type:"image",content:{idle:"./assets/hotspots/tavern-idle.webp",hover:"./assets/hotspots/tavern-hover.webp"},position:{x:30,y:39},action:()=>{vr.play(),nn.visitCounts.tavern++,L.jumpTo("tavernStory")},tooltip:{content:"The Golden Flagon - local tavern",position:"top"},props:{zoom:"20%"}}),o.push({type:"label",content:"The Golden Flagon",position:{x:30,y:55},action:()=>{vr.play(),nn.visitCounts.tavern++,L.jumpTo("tavernStory")},props:{variant:"flat",color:"secondary",classNames:{button:"text-xs"}}}),o.push({type:"image",content:{idle:"./assets/hotspots/blacksmith-idle.webp",hover:"./assets/hotspots/blacksmith-hover.webp"},position:{x:70,y:35},action:()=>{vr.play(),nn.visitCounts.blacksmith++,L.jumpTo("blacksmithStory")},tooltip:{content:"Gareth's Smithy - weapons and armor",position:"top"},props:{zoom:"20%"}}),o.push({type:"label",content:"Gareth's Smithy",position:{x:70,y:50},action:()=>{vr.play(),nn.visitCounts.blacksmith++,L.jumpTo("blacksmithStory")},props:{variant:"flat",color:"warning",classNames:{button:"text-xs"}}}),o.push({type:"image",content:{idle:"./assets/hotspots/elder-house-idle.webp",hover:"./assets/hotspots/elder-house-hover.webp"},position:{x:69.13,y:71.78},action:()=>{vr.play(),L.jumpTo("questGiverStory")},tooltip:{content:()=>ia.questState==="not_started"?"Elder Marcus's House - he wishes to speak with you":ia.questState==="accepted"?"Elder Marcus's House - return when the quest is complete":"Elder Marcus's House",position:"bottom"},props:{zoom:"20%"}}),ia.questState==="not_started"&&o.push({type:"label",content:"!",position:{x:69.13,y:71.78},action:()=>{vr.play(),L.jumpTo("questGiverStory")},props:{variant:"solid",color:"warning",classNames:{button:"text-lg font-bold animate-pulse"}},tooltip:{content:"Quest available!",position:"top"}}),o.push({type:"menu",position:{x:50,y:5},direction:"horizontal",items:[{type:"label",content:"< World Map",action:()=>L.jumpTo("worldMap"),props:{variant:"bordered",color:"default"}},{type:"label",content:()=>nn.visitCounts.village===1?"Welcome to Millbrook Village, your home":`Millbrook Village (visited ${nn.visitCounts.village} times)`,action:()=>{},isDisabled:!0,props:{variant:"flat",color:"default",classNames:{button:"text-sm italic"}}}]}),o},classNames:{container:"bg-gradient-to-b from-amber-900/30 to-emerald-900/30",topHotspots:"p-2 bg-card/70 backdrop-blur-sm",bottomHotspots:"p-2 bg-card/70 backdrop-blur-sm",leftHotspots:"p-2 bg-card/70 backdrop-blur-sm",rightHotspots:"p-2 bg-card/70 backdrop-blur-sm"}});Ju("worldMap",{caption:"The Kingdom of Valdoria",image:"./assets/maps/world-map.webp",bgImage:"./assets/backgrounds/map-background.webp",props:{bgOpacity:.3},hotspots:()=>{const o=[];return o.push({type:"label",content:"Millbrook Village",position:{x:44.9,y:45.73},action:()=>{nn.visitCounts.village++,L.jumpTo("villageMap")},props:{variant:"solid",color:"primary"},tooltip:{content:"A peaceful farming village - your home",position:"top"}}),o.push({type:"image",content:{idle:"./assets/hotspots/forest-idle.webp",hover:"./assets/hotspots/forest-hover.webp",active:"./assets/hotspots/forest-active.webp"},position:{x:78.25,y:23.37},action:()=>{nn.visitCounts.forest++,L.jumpTo("forestEncounter")},tooltip:{content:()=>W.flags.foundForestTreasure?"The Whispering Woods (explored)":"The Whispering Woods - rumored to hide ancient treasures",position:"bottom"},props:{zoom:"40%"}}),nn.discoveredLocations.castle?o.push({type:"image",content:{idle:"./assets/hotspots/castle-idle.webp",hover:"./assets/hotspots/castle-hover.webp",active:"./assets/hotspots/castle-active.webp"},position:{x:25.18,y:26.94},action:()=>{nn.visitCounts.castle++,L.jumpTo("castleMap")},tooltip:{content:"Castle Valdoria - seat of the King",position:"left"},props:{zoom:"30%"}}):o.push({type:"image",content:{idle:"./assets/hotspots/castle-locked.webp",disabled:"./assets/hotspots/castle-locked.webp"},position:{x:25.04,y:27.24},action:()=>{},isDisabled:!0,tooltip:{content:"Castle Valdoria - you need permission to enter",position:"bottom"},props:{zoom:"40%"}}),nn.discoveredLocations.dragonLair?o.push({type:"image",content:{idle:"./assets/hotspots/dragon-lair-idle.webp",hover:"./assets/hotspots/dragon-lair-hover.webp",active:"./assets/hotspots/dragon-lair-active.webp"},position:{x:85,y:15},action:()=>{nn.visitCounts.dragonLair++,L.jumpTo("dragonLairMap")},tooltip:{content:"Mount Doom - lair of Vexarion the Terrible",position:"left"},props:{zoom:"20%"}}):o.push({type:"label",content:"???",position:{x:85,y:15},action:()=>{},isDisabled:!0,tooltip:{content:"A dark mountain shrouded in smoke and mystery",position:"left"},props:{variant:"ghost",color:"danger"}}),o.push({type:"menu",position:{x:52,y:70},direction:"vertical",items:[{type:"label",content:"Rest here",action:()=>{const a=Math.min(W.maxHealth-W.health,20);W.health=Math.min(W.maxHealth,W.health+20),a>0?Kn.success(`Rested and recovered +${a} HP`):Kn.info("You're already at full health"),nn.timeOfDay=nn.timeOfDay==="night"?"morning":nn.timeOfDay==="evening"?"night":nn.timeOfDay==="afternoon"?"evening":"afternoon"},props:{color:"success"}},{type:"label",content:"Check surroundings",action:()=>{Math.random()>.7?(W.gold+=5,W.stats.goldEarned+=5,Kn.success("You found some gold! (+5 gold)")):Kn.info("Nothing interesting found here")},props:{color:"secondary"}}],props:{className:"bg-card/90 rounded-lg p-1"}}),o},classNames:{container:"bg-gradient-to-b from-sky-900/50 to-emerald-900/50",topHotspots:"p-3 bg-card/80 backdrop-blur-sm",bottomHotspots:"p-3 bg-card/80 backdrop-blur-sm"}});const Pf="-",yw=o=>{const a=bw(o),{conflictingClassGroups:s,conflictingClassGroupModifiers:i}=o;return{getClassGroupId:m=>{const x=m.split(Pf);return x[0]===""&&x.length!==1&&x.shift(),Zx(x,a)||vw(m)},getConflictingClassGroupIds:(m,x)=>{const v=s[m]||[];return x&&i[m]?[...v,...i[m]]:v}}},Zx=(o,a)=>{if(o.length===0)return a.classGroupId;const s=o[0],i=a.nextPart.get(s),c=i?Zx(o.slice(1),i):void 0;if(c)return c;if(a.validators.length===0)return;const h=o.join(Pf);return a.validators.find(({validator:m})=>m(h))?.classGroupId},ux=/^\[(.+)\]$/,vw=o=>{if(ux.test(o)){const a=ux.exec(o)[1],s=a?.substring(0,a.indexOf(":"));if(s)return"arbitrary.."+s}},bw=o=>{const{theme:a,classGroups:s}=o,i={nextPart:new Map,validators:[]};for(const c in s)Af(s[c],i,c,a);return i},Af=(o,a,s,i)=>{o.forEach(c=>{if(typeof c=="string"){const h=c===""?a:dx(a,c);h.classGroupId=s;return}if(typeof c=="function"){if(ww(c)){Af(c(i),a,s,i);return}a.validators.push({validator:c,classGroupId:s});return}Object.entries(c).forEach(([h,m])=>{Af(m,dx(a,h),s,i)})})},dx=(o,a)=>{let s=o;return a.split(Pf).forEach(i=>{s.nextPart.has(i)||s.nextPart.set(i,{nextPart:new Map,validators:[]}),s=s.nextPart.get(i)}),s},ww=o=>o.isThemeGetter,Ew=o=>{if(o<1)return{get:()=>{},set:()=>{}};let a=0,s=new Map,i=new Map;const c=(h,m)=>{s.set(h,m),a++,a>o&&(a=0,i=s,s=new Map)};return{get(h){let m=s.get(h);if(m!==void 0)return m;if((m=i.get(h))!==void 0)return c(h,m),m},set(h,m){s.has(h)?s.set(h,m):c(h,m)}}},Cf="!",_f=":",Sw=_f.length,Aw=o=>{const{prefix:a,experimentalParseClassName:s}=o;let i=c=>{const h=[];let m=0,x=0,v=0,p;for(let B=0;B<c.length;B++){let j=c[B];if(m===0&&x===0){if(j===_f){h.push(c.slice(v,B)),v=B+Sw;continue}if(j==="/"){p=B;continue}}j==="["?m++:j==="]"?m--:j==="("?x++:j===")"&&x--}const b=h.length===0?c:c.substring(v),y=Cw(b),C=y!==b,D=p&&p>v?p-v:void 0;return{modifiers:h,hasImportantModifier:C,baseClassName:y,maybePostfixModifierPosition:D}};if(a){const c=a+_f,h=i;i=m=>m.startsWith(c)?h(m.substring(c.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:m,maybePostfixModifierPosition:void 0}}if(s){const c=i;i=h=>s({className:h,parseClassName:c})}return i},Cw=o=>o.endsWith(Cf)?o.substring(0,o.length-1):o.startsWith(Cf)?o.substring(1):o,_w=o=>{const a=Object.fromEntries(o.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const c=[];let h=[];return i.forEach(m=>{m[0]==="["||a[m]?(c.push(...h.sort(),m),h=[]):h.push(m)}),c.push(...h.sort()),c}},Dw=o=>({cache:Ew(o.cacheSize),parseClassName:Aw(o),sortModifiers:_w(o),...yw(o)}),Bw=/\s+/,Tw=(o,a)=>{const{parseClassName:s,getClassGroupId:i,getConflictingClassGroupIds:c,sortModifiers:h}=a,m=[],x=o.trim().split(Bw);let v="";for(let p=x.length-1;p>=0;p-=1){const b=x[p],{isExternal:y,modifiers:C,hasImportantModifier:D,baseClassName:B,maybePostfixModifierPosition:j}=s(b);if(y){v=b+(v.length>0?" "+v:v);continue}let O=!!j,F=i(O?B.substring(0,j):B);if(!F){if(!O){v=b+(v.length>0?" "+v:v);continue}if(F=i(B),!F){v=b+(v.length>0?" "+v:v);continue}O=!1}const k=h(C).join(":"),M=D?k+Cf:k,z=M+F;if(m.includes(z))continue;m.push(z);const te=c(F,O);for(let G=0;G<te.length;++G){const V=te[G];m.push(M+V)}v=b+(v.length>0?" "+v:v)}return v};function Nw(){let o=0,a,s,i="";for(;o<arguments.length;)(a=arguments[o++])&&(s=Wx(a))&&(i&&(i+=" "),i+=s);return i}const Wx=o=>{if(typeof o=="string")return o;let a,s="";for(let i=0;i<o.length;i++)o[i]&&(a=Wx(o[i]))&&(s&&(s+=" "),s+=a);return s};function kw(o,...a){let s,i,c,h=m;function m(v){const p=a.reduce((b,y)=>y(b),o());return s=Dw(p),i=s.cache.get,c=s.cache.set,h=x,x(v)}function x(v){const p=i(v);if(p)return p;const b=Tw(v,s);return c(v,b),b}return function(){return h(Nw.apply(null,arguments))}}const Cn=o=>{const a=s=>s[o]||[];return a.isThemeGetter=!0,a},Jx=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ey=/^\((?:(\w[\w-]*):)?(.+)\)$/i,jw=/^\d+\/\d+$/,Ow=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Mw=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Rw=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,zw=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Fw=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mi=o=>jw.test(o),mt=o=>!!o&&!Number.isNaN(Number(o)),Ko=o=>!!o&&Number.isInteger(Number(o)),rf=o=>o.endsWith("%")&&mt(o.slice(0,-1)),Jr=o=>Ow.test(o),Lw=()=>!0,Hw=o=>Mw.test(o)&&!Rw.test(o),ty=()=>!1,qw=o=>zw.test(o),Uw=o=>Fw.test(o),Kw=o=>!Xe(o)&&!Qe(o),Pw=o=>bi(o,ry,ty),Xe=o=>Jx.test(o),bs=o=>bi(o,oy,Hw),of=o=>bi(o,Iw,mt),fx=o=>bi(o,ny,ty),Vw=o=>bi(o,ay,Uw),tu=o=>bi(o,sy,qw),Qe=o=>ey.test(o),kl=o=>wi(o,oy),Yw=o=>wi(o,Xw),hx=o=>wi(o,ny),$w=o=>wi(o,ry),Gw=o=>wi(o,ay),nu=o=>wi(o,sy,!0),bi=(o,a,s)=>{const i=Jx.exec(o);return i?i[1]?a(i[1]):s(i[2]):!1},wi=(o,a,s=!1)=>{const i=ey.exec(o);return i?i[1]?a(i[1]):s:!1},ny=o=>o==="position"||o==="percentage",ay=o=>o==="image"||o==="url",ry=o=>o==="length"||o==="size"||o==="bg-size",oy=o=>o==="length",Iw=o=>o==="number",Xw=o=>o==="family-name",sy=o=>o==="shadow",Qw=()=>{const o=Cn("color"),a=Cn("font"),s=Cn("text"),i=Cn("font-weight"),c=Cn("tracking"),h=Cn("leading"),m=Cn("breakpoint"),x=Cn("container"),v=Cn("spacing"),p=Cn("radius"),b=Cn("shadow"),y=Cn("inset-shadow"),C=Cn("text-shadow"),D=Cn("drop-shadow"),B=Cn("blur"),j=Cn("perspective"),O=Cn("aspect"),F=Cn("ease"),k=Cn("animate"),M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],te=()=>[...z(),Qe,Xe],G=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto","contain","none"],J=()=>[Qe,Xe,v],Se=()=>[mi,"full","auto",...J()],ee=()=>[Ko,"none","subgrid",Qe,Xe],ce=()=>["auto",{span:["full",Ko,Qe,Xe]},Ko,Qe,Xe],ye=()=>[Ko,"auto",Qe,Xe],pe=()=>["auto","min","max","fr",Qe,Xe],je=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],qe=()=>["start","end","center","stretch","center-safe","end-safe"],Y=()=>["auto",...J()],xe=()=>[mi,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...J()],he=()=>[o,Qe,Xe],Ke=()=>[...z(),hx,fx,{position:[Qe,Xe]}],ze=()=>["no-repeat",{repeat:["","x","y","space","round"]}],N=()=>["auto","cover","contain",$w,Pw,{size:[Qe,Xe]}],P=()=>[rf,kl,bs],U=()=>["","none","full",p,Qe,Xe],X=()=>["",mt,kl,bs],De=()=>["solid","dashed","dotted","double"],Oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ye=()=>[mt,rf,hx,fx],Fe=()=>["","none",B,Qe,Xe],Te=()=>["none",mt,Qe,Xe],Yt=()=>["none",mt,Qe,Xe],an=()=>[mt,Qe,Xe],rt=()=>[mi,"full",...J()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Jr],breakpoint:[Jr],color:[Lw],container:[Jr],"drop-shadow":[Jr],ease:["in","out","in-out"],font:[Kw],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Jr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Jr],shadow:[Jr],spacing:["px",mt],text:[Jr],"text-shadow":[Jr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",mi,Xe,Qe,O]}],container:["container"],columns:[{columns:[mt,Xe,Qe,x]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:te()}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Se()}],"inset-x":[{"inset-x":Se()}],"inset-y":[{"inset-y":Se()}],start:[{start:Se()}],end:[{end:Se()}],top:[{top:Se()}],right:[{right:Se()}],bottom:[{bottom:Se()}],left:[{left:Se()}],visibility:["visible","invisible","collapse"],z:[{z:[Ko,"auto",Qe,Xe]}],basis:[{basis:[mi,"full","auto",x,...J()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[mt,mi,"auto","initial","none",Xe]}],grow:[{grow:["",mt,Qe,Xe]}],shrink:[{shrink:["",mt,Qe,Xe]}],order:[{order:[Ko,"first","last","none",Qe,Xe]}],"grid-cols":[{"grid-cols":ee()}],"col-start-end":[{col:ce()}],"col-start":[{"col-start":ye()}],"col-end":[{"col-end":ye()}],"grid-rows":[{"grid-rows":ee()}],"row-start-end":[{row:ce()}],"row-start":[{"row-start":ye()}],"row-end":[{"row-end":ye()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":pe()}],"auto-rows":[{"auto-rows":pe()}],gap:[{gap:J()}],"gap-x":[{"gap-x":J()}],"gap-y":[{"gap-y":J()}],"justify-content":[{justify:[...je(),"normal"]}],"justify-items":[{"justify-items":[...qe(),"normal"]}],"justify-self":[{"justify-self":["auto",...qe()]}],"align-content":[{content:["normal",...je()]}],"align-items":[{items:[...qe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...qe(),{baseline:["","last"]}]}],"place-content":[{"place-content":je()}],"place-items":[{"place-items":[...qe(),"baseline"]}],"place-self":[{"place-self":["auto",...qe()]}],p:[{p:J()}],px:[{px:J()}],py:[{py:J()}],ps:[{ps:J()}],pe:[{pe:J()}],pt:[{pt:J()}],pr:[{pr:J()}],pb:[{pb:J()}],pl:[{pl:J()}],m:[{m:Y()}],mx:[{mx:Y()}],my:[{my:Y()}],ms:[{ms:Y()}],me:[{me:Y()}],mt:[{mt:Y()}],mr:[{mr:Y()}],mb:[{mb:Y()}],ml:[{ml:Y()}],"space-x":[{"space-x":J()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":J()}],"space-y-reverse":["space-y-reverse"],size:[{size:xe()}],w:[{w:[x,"screen",...xe()]}],"min-w":[{"min-w":[x,"screen","none",...xe()]}],"max-w":[{"max-w":[x,"screen","none","prose",{screen:[m]},...xe()]}],h:[{h:["screen","lh",...xe()]}],"min-h":[{"min-h":["screen","lh","none",...xe()]}],"max-h":[{"max-h":["screen","lh",...xe()]}],"font-size":[{text:["base",s,kl,bs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Qe,of]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",rf,Xe]}],"font-family":[{font:[Yw,Xe,a]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[c,Qe,Xe]}],"line-clamp":[{"line-clamp":[mt,"none",Qe,of]}],leading:[{leading:[h,...J()]}],"list-image":[{"list-image":["none",Qe,Xe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Qe,Xe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:he()}],"text-color":[{text:he()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...De(),"wavy"]}],"text-decoration-thickness":[{decoration:[mt,"from-font","auto",Qe,bs]}],"text-decoration-color":[{decoration:he()}],"underline-offset":[{"underline-offset":[mt,"auto",Qe,Xe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:J()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Qe,Xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Qe,Xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ke()}],"bg-repeat":[{bg:ze()}],"bg-size":[{bg:N()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ko,Qe,Xe],radial:["",Qe,Xe],conic:[Ko,Qe,Xe]},Gw,Vw]}],"bg-color":[{bg:he()}],"gradient-from-pos":[{from:P()}],"gradient-via-pos":[{via:P()}],"gradient-to-pos":[{to:P()}],"gradient-from":[{from:he()}],"gradient-via":[{via:he()}],"gradient-to":[{to:he()}],rounded:[{rounded:U()}],"rounded-s":[{"rounded-s":U()}],"rounded-e":[{"rounded-e":U()}],"rounded-t":[{"rounded-t":U()}],"rounded-r":[{"rounded-r":U()}],"rounded-b":[{"rounded-b":U()}],"rounded-l":[{"rounded-l":U()}],"rounded-ss":[{"rounded-ss":U()}],"rounded-se":[{"rounded-se":U()}],"rounded-ee":[{"rounded-ee":U()}],"rounded-es":[{"rounded-es":U()}],"rounded-tl":[{"rounded-tl":U()}],"rounded-tr":[{"rounded-tr":U()}],"rounded-br":[{"rounded-br":U()}],"rounded-bl":[{"rounded-bl":U()}],"border-w":[{border:X()}],"border-w-x":[{"border-x":X()}],"border-w-y":[{"border-y":X()}],"border-w-s":[{"border-s":X()}],"border-w-e":[{"border-e":X()}],"border-w-t":[{"border-t":X()}],"border-w-r":[{"border-r":X()}],"border-w-b":[{"border-b":X()}],"border-w-l":[{"border-l":X()}],"divide-x":[{"divide-x":X()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":X()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...De(),"hidden","none"]}],"divide-style":[{divide:[...De(),"hidden","none"]}],"border-color":[{border:he()}],"border-color-x":[{"border-x":he()}],"border-color-y":[{"border-y":he()}],"border-color-s":[{"border-s":he()}],"border-color-e":[{"border-e":he()}],"border-color-t":[{"border-t":he()}],"border-color-r":[{"border-r":he()}],"border-color-b":[{"border-b":he()}],"border-color-l":[{"border-l":he()}],"divide-color":[{divide:he()}],"outline-style":[{outline:[...De(),"none","hidden"]}],"outline-offset":[{"outline-offset":[mt,Qe,Xe]}],"outline-w":[{outline:["",mt,kl,bs]}],"outline-color":[{outline:he()}],shadow:[{shadow:["","none",b,nu,tu]}],"shadow-color":[{shadow:he()}],"inset-shadow":[{"inset-shadow":["none",y,nu,tu]}],"inset-shadow-color":[{"inset-shadow":he()}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:he()}],"ring-offset-w":[{"ring-offset":[mt,bs]}],"ring-offset-color":[{"ring-offset":he()}],"inset-ring-w":[{"inset-ring":X()}],"inset-ring-color":[{"inset-ring":he()}],"text-shadow":[{"text-shadow":["none",C,nu,tu]}],"text-shadow-color":[{"text-shadow":he()}],opacity:[{opacity:[mt,Qe,Xe]}],"mix-blend":[{"mix-blend":[...Oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Oe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[mt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ye()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ye()}],"mask-image-linear-from-color":[{"mask-linear-from":he()}],"mask-image-linear-to-color":[{"mask-linear-to":he()}],"mask-image-t-from-pos":[{"mask-t-from":Ye()}],"mask-image-t-to-pos":[{"mask-t-to":Ye()}],"mask-image-t-from-color":[{"mask-t-from":he()}],"mask-image-t-to-color":[{"mask-t-to":he()}],"mask-image-r-from-pos":[{"mask-r-from":Ye()}],"mask-image-r-to-pos":[{"mask-r-to":Ye()}],"mask-image-r-from-color":[{"mask-r-from":he()}],"mask-image-r-to-color":[{"mask-r-to":he()}],"mask-image-b-from-pos":[{"mask-b-from":Ye()}],"mask-image-b-to-pos":[{"mask-b-to":Ye()}],"mask-image-b-from-color":[{"mask-b-from":he()}],"mask-image-b-to-color":[{"mask-b-to":he()}],"mask-image-l-from-pos":[{"mask-l-from":Ye()}],"mask-image-l-to-pos":[{"mask-l-to":Ye()}],"mask-image-l-from-color":[{"mask-l-from":he()}],"mask-image-l-to-color":[{"mask-l-to":he()}],"mask-image-x-from-pos":[{"mask-x-from":Ye()}],"mask-image-x-to-pos":[{"mask-x-to":Ye()}],"mask-image-x-from-color":[{"mask-x-from":he()}],"mask-image-x-to-color":[{"mask-x-to":he()}],"mask-image-y-from-pos":[{"mask-y-from":Ye()}],"mask-image-y-to-pos":[{"mask-y-to":Ye()}],"mask-image-y-from-color":[{"mask-y-from":he()}],"mask-image-y-to-color":[{"mask-y-to":he()}],"mask-image-radial":[{"mask-radial":[Qe,Xe]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ye()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ye()}],"mask-image-radial-from-color":[{"mask-radial-from":he()}],"mask-image-radial-to-color":[{"mask-radial-to":he()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":z()}],"mask-image-conic-pos":[{"mask-conic":[mt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ye()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ye()}],"mask-image-conic-from-color":[{"mask-conic-from":he()}],"mask-image-conic-to-color":[{"mask-conic-to":he()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ke()}],"mask-repeat":[{mask:ze()}],"mask-size":[{mask:N()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Qe,Xe]}],filter:[{filter:["","none",Qe,Xe]}],blur:[{blur:Fe()}],brightness:[{brightness:[mt,Qe,Xe]}],contrast:[{contrast:[mt,Qe,Xe]}],"drop-shadow":[{"drop-shadow":["","none",D,nu,tu]}],"drop-shadow-color":[{"drop-shadow":he()}],grayscale:[{grayscale:["",mt,Qe,Xe]}],"hue-rotate":[{"hue-rotate":[mt,Qe,Xe]}],invert:[{invert:["",mt,Qe,Xe]}],saturate:[{saturate:[mt,Qe,Xe]}],sepia:[{sepia:["",mt,Qe,Xe]}],"backdrop-filter":[{"backdrop-filter":["","none",Qe,Xe]}],"backdrop-blur":[{"backdrop-blur":Fe()}],"backdrop-brightness":[{"backdrop-brightness":[mt,Qe,Xe]}],"backdrop-contrast":[{"backdrop-contrast":[mt,Qe,Xe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",mt,Qe,Xe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[mt,Qe,Xe]}],"backdrop-invert":[{"backdrop-invert":["",mt,Qe,Xe]}],"backdrop-opacity":[{"backdrop-opacity":[mt,Qe,Xe]}],"backdrop-saturate":[{"backdrop-saturate":[mt,Qe,Xe]}],"backdrop-sepia":[{"backdrop-sepia":["",mt,Qe,Xe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":J()}],"border-spacing-x":[{"border-spacing-x":J()}],"border-spacing-y":[{"border-spacing-y":J()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Qe,Xe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[mt,"initial",Qe,Xe]}],ease:[{ease:["linear","initial",F,Qe,Xe]}],delay:[{delay:[mt,Qe,Xe]}],animate:[{animate:["none",k,Qe,Xe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,Qe,Xe]}],"perspective-origin":[{"perspective-origin":te()}],rotate:[{rotate:Te()}],"rotate-x":[{"rotate-x":Te()}],"rotate-y":[{"rotate-y":Te()}],"rotate-z":[{"rotate-z":Te()}],scale:[{scale:Yt()}],"scale-x":[{"scale-x":Yt()}],"scale-y":[{"scale-y":Yt()}],"scale-z":[{"scale-z":Yt()}],"scale-3d":["scale-3d"],skew:[{skew:an()}],"skew-x":[{"skew-x":an()}],"skew-y":[{"skew-y":an()}],transform:[{transform:[Qe,Xe,"","none","gpu","cpu"]}],"transform-origin":[{origin:te()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:rt()}],"translate-x":[{"translate-x":rt()}],"translate-y":[{"translate-y":rt()}],"translate-z":[{"translate-z":rt()}],"translate-none":["translate-none"],accent:[{accent:he()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:he()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qe,Xe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":J()}],"scroll-mx":[{"scroll-mx":J()}],"scroll-my":[{"scroll-my":J()}],"scroll-ms":[{"scroll-ms":J()}],"scroll-me":[{"scroll-me":J()}],"scroll-mt":[{"scroll-mt":J()}],"scroll-mr":[{"scroll-mr":J()}],"scroll-mb":[{"scroll-mb":J()}],"scroll-ml":[{"scroll-ml":J()}],"scroll-p":[{"scroll-p":J()}],"scroll-px":[{"scroll-px":J()}],"scroll-py":[{"scroll-py":J()}],"scroll-ps":[{"scroll-ps":J()}],"scroll-pe":[{"scroll-pe":J()}],"scroll-pt":[{"scroll-pt":J()}],"scroll-pr":[{"scroll-pr":J()}],"scroll-pb":[{"scroll-pb":J()}],"scroll-pl":[{"scroll-pl":J()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qe,Xe]}],fill:[{fill:["none",...he()]}],"stroke-w":[{stroke:[mt,kl,bs,of]}],stroke:[{stroke:["none",...he()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Bt=kw(Qw),Zw={solid:{default:"bg-muted-500 text-primary-foreground hover:bg-muted-600",primary:"bg-primary-500 text-primary-foreground hover:bg-primary-600",secondary:"bg-secondary-500 text-secondary-foreground hover:bg-secondary-600",success:"bg-success-500 text-success-foreground hover:bg-success-600",warning:"bg-warning-500 text-warning-foreground hover:bg-warning-600",danger:"bg-danger-500 text-danger-foreground hover:bg-danger-600"},faded:{default:"bg-muted-100 text-muted-700 hover:bg-muted-200",primary:"bg-primary-100 text-primary-700 hover:bg-primary-200",secondary:"bg-secondary-100 text-secondary-700 hover:bg-secondary-200",success:"bg-success-100 text-success-700 hover:bg-success-200",warning:"bg-warning-100 text-warning-700 hover:bg-warning-200",danger:"bg-danger-100 text-danger-700 hover:bg-danger-200"},bordered:{default:"border-2 border-muted-500 text-muted-700 hover:bg-muted-50",primary:"border-2 border-primary-500 text-primary-600 hover:bg-primary-50",secondary:"border-2 border-secondary-500 text-secondary-600 hover:bg-secondary-50",success:"border-2 border-success-500 text-success-600 hover:bg-success-50",warning:"border-2 border-warning-500 text-warning-600 hover:bg-warning-50",danger:"border-2 border-danger-500 text-danger-600 hover:bg-danger-50"},light:{default:"bg-transparent text-muted-700 hover:bg-muted-100",primary:"bg-transparent text-primary-600 hover:bg-primary-50",secondary:"bg-transparent text-secondary-600 hover:bg-secondary-50",success:"bg-transparent text-success-600 hover:bg-success-50",warning:"bg-transparent text-warning-600 hover:bg-warning-50",danger:"bg-transparent text-danger-600 hover:bg-danger-50"},flat:{default:"bg-muted-200 text-muted-700 hover:bg-muted-300",primary:"bg-primary-200 text-primary-800 hover:bg-primary-300",secondary:"bg-secondary-200 text-secondary-800 hover:bg-secondary-300",success:"bg-success-200 text-success-800 hover:bg-success-300",warning:"bg-warning-200 text-warning-800 hover:bg-warning-300",danger:"bg-danger-200 text-danger-800 hover:bg-danger-300"},ghost:{default:"text-muted-700 hover:bg-muted-100",primary:"text-primary-600 hover:bg-primary-50",secondary:"text-secondary-600 hover:bg-secondary-50",success:"text-success-600 hover:bg-success-50",warning:"text-warning-600 hover:bg-warning-50",danger:"text-danger-600 hover:bg-danger-50"},shadow:{default:"bg-muted-500 text-primary-foreground shadow-lg shadow-muted-500/50 hover:bg-muted-600",primary:"bg-primary-500 text-primary-foreground shadow-lg shadow-primary-500/50 hover:bg-primary-600",secondary:"bg-secondary-500 text-secondary-foreground shadow-lg shadow-secondary-500/50 hover:bg-secondary-600",success:"bg-success-500 text-success-foreground shadow-lg shadow-success-500/50 hover:bg-success-600",warning:"bg-warning-500 text-warning-foreground shadow-lg shadow-warning-500/50 hover:bg-warning-600",danger:"bg-danger-500 text-danger-foreground shadow-lg shadow-danger-500/50 hover:bg-danger-600"}},Xt=({className:o,variant:a="solid",color:s="primary",...i})=>S.jsx("button",{className:Bt("px-4 py-2 rounded-md transition-colors cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",Zw[a][s],o),...i}),Ww=()=>S.jsx("div",{className:"w-8 h-8 border-4 border-t-4 border-muted-200 border-t-primary-500 rounded-full animate-spin"}),Ia=4,Po=8,Jw=o=>(o.startsWith("top")||o.startsWith("bottom")||o==="right"||o==="left","rotate-45"),e8=(o,a,s)=>{let i=0,c=0,h=0,m=0;const x=o.left+o.width/2,v=o.top+o.height/2;switch(s){case"top":i=o.top-a.height-Po,c=x-a.width/2,h=a.height-Ia,m=a.width/2-Ia;break;case"top-right":i=o.top-a.height-Po,c=o.right-a.width,h=a.height-Ia,m=a.width-16;break;case"top-left":i=o.top-a.height-Po,c=o.left,h=a.height-Ia,m=12;break;case"bottom":i=o.bottom+Po,c=x-a.width/2,h=-Ia,m=a.width/2-Ia;break;case"bottom-right":i=o.bottom+Po,c=o.right-a.width,h=-Ia,m=a.width-16;break;case"bottom-left":i=o.bottom+Po,c=o.left,h=-Ia,m=12;break;case"right":i=v-a.height/2,c=o.right+Po,h=a.height/2-Ia,m=-Ia;break;case"left":i=v-a.height/2,c=o.left-a.width-Po,h=a.height/2-Ia,m=a.width-Ia;break}return{top:i,left:c,arrowTop:h,arrowLeft:m}},t0=({targetRef:o,disabled:a=!1,content:s,className:i="",placement:c="top"})=>{const[h,m]=_e.useState(!1),[x,v]=_e.useState({top:0,left:0}),[p,b]=_e.useState({top:0,left:0}),[y,C]=_e.useState(null);return _e.useEffect(()=>{const D=o.current;if(!D||a)return;const B=()=>{m(!0)},j=()=>{m(!1)};return D.addEventListener("mouseenter",B),D.addEventListener("mouseleave",j),()=>{D.removeEventListener("mouseenter",B),D.removeEventListener("mouseleave",j)}},[o,a]),_e.useEffect(()=>{if(!h||!y||!o.current)return;const D=()=>{const B=o.current.getBoundingClientRect(),j=y.getBoundingClientRect(),{top:O,left:F,arrowTop:k,arrowLeft:M}=e8(B,j,c);v({top:O,left:F}),b({top:k,left:M})};return D(),window.addEventListener("scroll",D,!0),window.addEventListener("resize",D),()=>{window.removeEventListener("scroll",D,!0),window.removeEventListener("resize",D)}},[h,y,o,c]),a||!h?null:Qx.createPortal(S.jsxs("div",{ref:C,className:`fixed z-50 px-3 py-2 text-sm font-medium text-popover-foreground bg-popover border border-border rounded-lg shadow-lg whitespace-nowrap transition-opacity duration-200 ${h?"opacity-100":"opacity-0"} ${i}`,style:{top:`${x.top}px`,left:`${x.left}px`},role:"tooltip","data-testid":"tooltip-content",children:[s,S.jsx("div",{className:`absolute w-2 h-2 bg-popover border-border ${Jw(c)}`,style:{top:`${p.top}px`,left:`${p.left}px`}})]}),document.body)};class t8 extends _e.Component{constructor(a){super(a),this.state={hasError:!1,error:null,errorInfo:null,copied:!1}}static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidMount(){window.addEventListener("error",this.handleGlobalError),window.addEventListener("unhandledrejection",this.handlePromiseRejection)}componentWillUnmount(){window.removeEventListener("error",this.handleGlobalError),window.removeEventListener("unhandledrejection",this.handlePromiseRejection)}handleGlobalError=a=>{a.preventDefault();let s;if(a.error instanceof Error)s=a.error;else if(a.message)s=new Error(a.message);else{const c=a.target,h=c?`${c.tagName}${c.id?`#${c.id}`:""}${c.className?`.${c.className.split(" ").join(".")}`:""}`:"unknown element";s=new Error(`Resource error or unhandled error on ${h}`)}const i={componentStack:`
Global error at ${a.filename||"unknown"}:${a.lineno||0}:${a.colno||0}`};console.error("Global error caught:",s,a),this.setState({hasError:!0,error:s,errorInfo:i}),this.props.onError?.(s,i)};handlePromiseRejection=a=>{a.preventDefault();const s=a.reason instanceof Error?a.reason:new Error(String(a.reason)),i={componentStack:`
Unhandled Promise Rejection`};console.error("Unhandled promise rejection:",s),this.setState({hasError:!0,error:s,errorInfo:i}),this.props.onError?.(s,i)};componentDidCatch(a,s){console.error("ErrorBoundary caught an error:",a,s),this.setState({error:a,errorInfo:s}),this.props.onError?.(a,s)}reset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};copyErrorToClipboard=async()=>{if(!this.state.error||!this.state.errorInfo)return;const a=[`Error: ${this.state.error.message}`,"","Stack Trace:",this.state.error.stack||"No stack trace available","","Component Stack:",this.state.errorInfo.componentStack||"No component stack available"].join(`
`);try{await navigator.clipboard.writeText(a),this.setState({copied:!0}),setTimeout(()=>{this.setState({copied:!1})},1e3)}catch(s){console.error("Failed to copy error to clipboard:",s)}};render(){const a=this.state.hasError&&this.state.error&&this.state.errorInfo?this.props.fallback?this.props.fallback(this.state.error,this.state.errorInfo,this.reset):S.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-background bg-opacity-50 p-8",children:S.jsxs("div",{className:"max-w-2xl w-full bg-card border-2 border-danger-500 rounded-lg p-6 shadow-lg relative max-h-screen",children:[S.jsx("button",{onClick:this.reset,className:"cursor-pointer absolute top-4 right-4 text-danger-600 hover:text-danger-800 font-bold text-2xl leading-none transition-colors","aria-label":"Close error",children:""}),S.jsx("h1",{className:"text-2xl font-bold text-danger-900 mb-4",children:"Game Error"}),S.jsx("p",{className:"text-danger-800 mb-4",children:"Something went wrong while running the game. This error has been logged."}),S.jsxs("details",{className:"mb-4 max-h-100 overflow-auto",children:[S.jsxs("summary",{className:"cursor-pointer text-danger-900 font-semibold mb-2 flex items-center justify-between",children:[S.jsxs("div",{className:"flex gap-4 items-center",children:[S.jsx("span",{children:"Error Details"}),S.jsx("span",{children:S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"w-6 h-6",children:S.jsx("path",{fill:"#000",fillRule:"evenodd",d:"M12.7 14.7a1 1 0 0 1-1.4 0l-5-5a1 1 0 0 1 1.4-1.4l4.3 4.29 4.3-4.3a1 1 0 1 1 1.4 1.42l-5 5Z",clipRule:"evenodd"})})})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[this.state.copied&&S.jsx("span",{className:"text-sm text-danger-700",children:"Copied to clipboard"}),S.jsx("button",{onClick:s=>{s.preventDefault(),this.copyErrorToClipboard()},className:"cursor-pointer text-danger-600 hover:text-danger-800 transition-colors",title:"Copy error to clipboard","aria-label":"Copy error to clipboard",children:S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),S.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})})]})]}),S.jsxs("div",{className:"bg-danger-100 p-4 rounded border border-danger-300 overflow-auto",children:[S.jsxs("p",{className:"font-mono text-sm text-danger-900 mb-2",children:[S.jsx("strong",{children:"Error:"})," ",this.state.error.message]}),S.jsx("p",{className:"font-mono text-xs text-danger-800 whitespace-pre-wrap",children:this.state.error.stack}),L.options.isDevMode&&this.state.errorInfo.componentStack&&S.jsxs("p",{className:"font-mono text-xs text-danger-800 whitespace-pre-wrap mt-4",children:[S.jsx("strong",{children:"Component Stack:"}),this.state.errorInfo.componentStack]})]})]}),S.jsx(Xt,{color:"warning",onClick:this.reset,children:"Try Again"})]})}):null;return S.jsxs(S.Fragment,{children:[this.props.children,a]})}}const iy=_e.createContext(void 0),n8=({children:o})=>{const[a,s]=_e.useState(!1),[i,c]=_e.useState("saveLoad"),h=()=>{c("save"),s(!0)},m=()=>{c("load"),s(!0)},x=()=>{c("saveLoad"),s(!0)},v=()=>{s(!1)};return S.jsx(iy.Provider,{value:{isOpen:a,mode:i,openSaveMenu:h,openLoadMenu:m,openSaveLoadMenu:x,close:v},children:o})},n0=()=>{const o=_e.useContext(iy);if(!o)throw new Error("useSaveLoadMenu must be used within SaveLoadMenuProvider");return o},a8=({className:o="",namespace:a,languageNames:s,showCode:i=!1})=>{const{currentLanguage:c,languages:h,changeLanguage:m}=P1(a),[x,v]=_e.useState(!1),p=y=>s&&s[y]?s[y]:y.toUpperCase(),b=async y=>{await m(y),v(!1)};return h.length<=1?null:S.jsxs("div",{className:Bt("relative inline-block",o),onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),children:[S.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-primary-500 hover:bg-primary-600 text-primary-foreground rounded-lg shadow-md transition-colors duration-200 cursor-pointer active:scale-95","aria-label":"Select language","aria-expanded":x,"aria-haspopup":"true",children:[S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5","aria-hidden":"true",children:[S.jsx("circle",{cx:"12",cy:"12",r:"10"}),S.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"}),S.jsx("path",{d:"M2 12h20"})]}),S.jsxs("span",{className:"font-medium",children:[p(c),i&&` (${c})`]}),S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:Bt("w-4 h-4 transition-transform duration-200",x?"rotate-180":""),"aria-hidden":"true",children:S.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),x&&S.jsx("div",{className:"absolute top-full left-0 pt-2 min-w-full z-50",role:"menu","aria-orientation":"vertical",children:S.jsx("div",{className:"bg-popover border border-border rounded-lg shadow-lg overflow-hidden animate-[fadeIn_150ms_ease-in]",children:h.map(y=>{const C=y===c;return S.jsxs("button",{onClick:()=>b(y),className:Bt("w-full text-left px-4 py-2.5 transition-colors duration-150 whitespace-nowrap",C?"bg-primary-100 text-primary-700 font-medium cursor-default":"text-popover-foreground hover:bg-muted hover:text-accent-foreground cursor-pointer"),role:"menuitem","aria-current":C?"true":void 0,children:[p(y),i&&` (${y})`,C&&S.jsx("span",{className:"ml-2","aria-label":"Current language",children:""})]},y)})})})]})},ly=()=>{const{t:o}=Zu("ui"),{hasLastSave:a,loadLastGame:s}=Yx(),{openLoadMenu:i}=n0();return S.jsxs("div",{className:"mt-10 flex flex-col items-center justify-center h-full gap-8",children:[S.jsxs("div",{className:"fixed top-10 left-10 flex flex-col items-start",children:[S.jsxs("h2",{className:"text-2xl flex gap-2",children:[S.jsx("span",{className:"text-primary-500 font-semibold",children:L.options.gameName.toUpperCase()}),S.jsxs("span",{className:"font-mono font-light text-secondary-500",children:["v",L.options.gameVersion]})]}),L.options.author&&S.jsxs("h3",{className:"text-md font-light text-secondary-400",children:["by ",L.options.author]})]}),S.jsx("div",{className:"fixed top-10 right-20",children:S.jsx(a8,{})}),S.jsx("h1",{className:"text-4xl font-bold text-primary-900",children:o("mainMenu.title")}),S.jsxs("div",{className:"flex flex-col w-40 gap-4",children:[S.jsx(Xt,{onClick:()=>L.jumpTo(L.options.startPassage||wr.START),children:o("mainMenu.newGame")}),S.jsx(Xt,{disabled:!a,onClick:s,children:o("mainMenu.continue")}),S.jsx(Xt,{onClick:i,children:o("mainMenu.loadGame")})]})]})},r8=({slot:o,index:a,mode:s,loading:i,onAction:c})=>{const{t:h}=Zu("ui"),m=s==="save"||s==="load"&&o.data||s==="saveLoad";return S.jsxs("div",{className:Bt("bg-card rounded-lg border border-border transition-all overflow-hidden",m?"hover:border-muted-400 hover:shadow-lg":"cursor-default"),children:[S.jsxs("div",{className:"p-3 border-b border-border",children:[S.jsx("h3",{className:"text-lg font-semibold text-card-foreground",children:h("saves.slot.label",{number:a+1})}),S.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:o.data?new Date(o.data.timestamp).toLocaleString():"no data"})]}),S.jsx("div",{className:"p-3",children:o.data?S.jsxs("div",{className:"space-y-2",children:[o.data.description&&o.data.description!=="undefined"&&S.jsx("p",{className:"text-sm text-card-foreground line-clamp-2",children:o.data.description}),o.data.screenshot&&o.data.screenshot!=="undefined"&&S.jsx("img",{src:o.data.screenshot,alt:"Save screenshot",className:"w-full h-32 object-cover rounded"}),S.jsxs("div",{className:"flex gap-2",children:[(s==="load"||s==="saveLoad")&&S.jsx(Xt,{onClick:()=>c(a,o.load),disabled:i!==null,color:"primary",className:"flex-1 rounded-lg font-medium",children:h(i===a?"saves.actions.loading":"saves.actions.load")}),(s==="save"||s==="saveLoad")&&S.jsx(Xt,{onClick:()=>c(a,o.save),disabled:i!==null,color:"success",className:"flex-1 rounded-lg font-medium",children:h(i===a?"saves.actions.saving":"saves.slot.overwrite")}),S.jsx(Xt,{onClick:()=>c(a,o.delete),disabled:i!==null,color:"danger",className:"rounded-lg","aria-label":"Delete save",children:S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}):S.jsxs("div",{className:"flex flex-col items-center justify-center py-6",children:[S.jsx("p",{className:"text-muted-foreground mb-4",children:h("saves.slot.empty")}),(s==="save"||s==="saveLoad")&&S.jsx(Xt,{onClick:()=>c(a,o.save),disabled:i!==null,color:"success",className:"rounded-lg font-medium",children:h(i===a?"saves.actions.saving":"saves.slot.saveHere")})]})})]})},o8=({isOpen:o,onClose:a,mode:s="saveLoad"})=>{const{t:i}=Zu("ui"),c=Ix({count:9}),[h,m]=_e.useState(null);if(_e.useEffect(()=>(o?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[o]),_e.useEffect(()=>{const v=p=>{p.key==="Escape"&&a()};return o&&document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}},[o,a]),!o)return null;const x=async(v,p)=>{m(v);try{const b=await p();(!b||b.success)&&a()}catch(b){console.error("Action failed:",b),alert(i("saves.errors.actionFailed"))}finally{m(null)}};return S.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",children:[S.jsx("div",{className:"absolute inset-0 bg-overlay/40 backdrop-blur-sm",onClick:a}),S.jsxs("div",{className:"relative w-full h-full md:h-auto md:max-h-[90vh] md:w-full md:max-w-4xl mx-0 md:mx-4 bg-background md:rounded-lg shadow-2xl flex flex-col overflow-hidden",children:[S.jsxs("div",{className:"flex items-center justify-between p-4 md:p-6 border-b border-border",children:[S.jsx("h2",{className:"text-xl md:text-2xl font-bold text-foreground",children:i(s==="save"?"saves.title.save":s==="load"?"saves.title.load":"saves.title.saveLoad")}),S.jsx("button",{onClick:a,className:"text-muted-foreground hover:text-foreground transition-colors p-2 hover:bg-muted rounded-lg","aria-label":"Close",children:S.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),S.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 bg-muted",children:S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map((v,p)=>S.jsx(r8,{slot:v,index:p,mode:s,loading:h,onAction:x},p))})}),S.jsx("div",{className:"p-4 md:p-6 border-t border-border bg-background",children:S.jsx("button",{onClick:a,className:"w-full md:w-auto px-6 py-2 bg-muted hover:bg-muted-300 text-foreground rounded-lg transition-colors font-medium",children:i("saves.actions.close")})})]})]})},s8=({action:o})=>{const a=_e.useRef(null);return S.jsxs(S.Fragment,{children:[S.jsx("div",{ref:a,children:S.jsx(Xt,{color:o.color,variant:o.variant,className:o.className,disabled:o.isDisabled,onClick:o.action,children:o.label})}),S.jsx(t0,{targetRef:a,content:o.tooltip?.content,placement:o.tooltip?.position,disabled:!o.tooltip?.content,className:o.tooltip?.className})]})},i8=({component:o})=>S.jsx("div",{id:"actions-content",className:Bt("flex flex-wrap gap-2 justify-center items-center",o.props?.direction==="vertical"?"flex-col":"flex-row",o.props?.className),children:o.content.map((a,s)=>S.jsx(s8,{action:a},s))}),cy=_e.createContext(void 0),l8=({children:o})=>{const a=_e.useRef(new Map),s=_e.useCallback((h,m)=>{a.current.set(h,m)},[]),i=_e.useCallback(h=>{a.current.delete(h)},[]),c=_e.useCallback(()=>{a.current.forEach(h=>{h()})},[]);return S.jsx(cy.Provider,{value:{registerConversation:s,unregisterConversation:i,notifyClick:c},children:o})},uy=()=>{const o=_e.useContext(cy);if(!o)throw new Error("useConversationClickContext must be used within ConversationClickProvider");return o},c8={chat:o=>({base:`flex items-start gap-2 mb-3 ${o==="left"?"justify-start":"justify-end"}`,content:`max-w-[80%] px-4 py-2 rounded-2xl ${o==="left"?"bg-muted-100 text-primary rounded-tl-sm":"bg-secondary-600 text-secondary-foreground rounded-tr-sm"}`,avatar:`w-10 h-10 rounded-full overflow-hidden flex-shrink-0 ${o==="left"?"order-first":"order-last"}`}),messenger:o=>({base:`flex items-end gap-2 my-4 ${o==="left"?"justify-start":"justify-end"}`,content:`max-w-[70%] px-4 py-3 shadow-sm ${o==="left"?"bg-card text-card-foreground rounded-t-2xl rounded-br-2xl rounded-bl-lg border":"bg-primary-500 text-primary-foreground rounded-t-2xl rounded-bl-2xl rounded-br-lg"}`,avatar:`w-10 h-10 rounded-full overflow-hidden mb-1 ${o==="left"?"order-first":"order-last"}`})},u8=({line:o,onClick:a,variant:s="chat"})=>{const i=c8[s](o.side||"left");return S.jsxs("div",{id:"conversation-line-container",className:Bt(i.base,o.props?.classNames?.base),onClick:a,children:[S.jsx("div",{id:"conversation-line-avatar",className:Bt(i.avatar,o.props?.classNames?.avatar),children:o.who?.avatar?S.jsx("img",{id:"conversation-line-avatar-img",src:o.who.avatar,alt:o.who.name||"Avatar",className:"w-full h-full object-cover"}):S.jsx("div",{id:"conversation-line-avatar-fallback",className:"w-full h-full bg-muted-300 text-muted-700 flex items-center justify-center cursor-default",children:o.who?.name?.[0]||"?"})}),S.jsx("div",{id:"conversation-line-content",className:Bt(i.content,o.props?.classNames?.content),style:{backgroundColor:o.color},children:o.content})]})},d8=({component:o})=>{const[a,s]=_e.useState([]),{appearance:i,content:c,props:h}=o,m=_e.useId();let x;try{x=uy()}catch{x=void 0}_e.useEffect(()=>{if(i==="byClick"){const b=c[0];s(b?[b]:[])}else s(c)},[i,c]);const v=()=>{i==="byClick"&&s(b=>{const y=c[b.length];return y?[...b,y]:b})};_e.useEffect(()=>{if(i==="byClick"&&x)return x.registerConversation(m,v),()=>{x.unregisterConversation(m)}},[i,x,m]);const p=()=>{i==="byClick"&&!x&&v()};return S.jsx("div",{id:"conversation-content",className:h?.className,children:a.map((b,y)=>S.jsx(u8,{onClick:p,line:b,variant:h?.variant},y))})},f8={1:"text-4xl",2:"text-3xl",3:"text-2xl",4:"text-xl",5:"text-lg",6:"text-base text-bold"},h8=({component:{props:o,content:a}})=>S.jsx("div",{id:"heading-content",className:Bt(f8[o?.level??1],o?.className),children:a}),p8=({component:o})=>{const a=_e.useId(),s=!!o.props?.onClick||!o.props?.disableModal,i=o.props?.disableModal,c=()=>{o.props?.onClick&&o.props.onClick()};return _e.useEffect(()=>{const h=m=>{if(m.key==="Escape"){const x=document.getElementById(a);x?.checked&&(x.checked=!1)}};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[a]),i?S.jsx("img",{id:"image-content",src:o.content,alt:o.props?.alt??"image",className:Bt("max-w-200 max-h-200 object-contain mx-auto",s&&"cursor-pointer",o.props?.className),onClick:c}):S.jsxs(S.Fragment,{children:[S.jsx("input",{type:"checkbox",id:a,className:"peer/modal hidden","aria-hidden":"true"}),S.jsx("label",{htmlFor:a,onClick:c,children:S.jsx("img",{id:"image-content-modal",src:o.content,alt:o.props?.alt??"image",className:Bt("max-w-200 max-h-200 object-contain mx-auto cursor-pointer",o.props?.className)})}),S.jsxs("div",{id:"image-content-modal-overlay",className:"peer-checked/modal:opacity-100 peer-checked/modal:pointer-events-auto opacity-0 pointer-events-none fixed inset-0 z-[9999] flex items-center justify-center bg-overlay/80 transition-opacity duration-300 overflow-auto",children:[S.jsxs("div",{id:"image-content-modal-content",className:"relative w-full max-w-7xl min-h-0 p-4 m-auto flex items-center justify-center",children:[S.jsx("img",{id:"image-content-modal-image",src:o.content,alt:o.props?.alt??"image",className:"max-w-full max-h-[90vh] w-auto h-auto object-contain"}),S.jsx("label",{id:"image-content-modal-close-button",htmlFor:a,className:"absolute top-2 right-2 w-10 h-10 flex items-center justify-center bg-white/10 hover:bg-white/20 rounded-full cursor-pointer transition-colors","aria-label":"Close modal",children:S.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),S.jsx("label",{htmlFor:a,className:"absolute inset-0 -z-10 cursor-default","aria-label":"Close modal"})]})]})},m8=({component:{props:o,content:a}})=>{const s=Bt("text-base text-justify whitespace-pre-wrap",o?.className);return o?.isHTML&&typeof a=="string"?S.jsx("div",{id:"text-content",className:s,dangerouslySetInnerHTML:{__html:a}}):S.jsx("div",{id:"text-content",className:s,children:a})},g8=({component:{props:o,content:a}})=>S.jsxs("video",{id:"video-content",className:Bt("max-w-200 max-h-200 mx-auto",o?.className),controls:o?.controls??!1,autoPlay:o?.autoPlay??!0,loop:o?.loop??!0,muted:o?.muted??!0,children:[S.jsx("source",{src:a}),"Your browser does not support the video tag."]}),dy=_e.createContext(void 0),x8=({children:o,components:a})=>{const s=_e.useMemo(()=>({MainMenu:a?.MainMenu||ly,story:{Heading:a?.story?.Heading||h8,Text:a?.story?.Text||m8,Image:a?.story?.Image||p8,Video:a?.story?.Video||g8,Actions:a?.story?.Actions||i8,Conversation:a?.story?.Conversation||d8}}),[a]);return S.jsx(dy.Provider,{value:s,children:o})};function y8(o,a){const[s,i]=_e.useState(()=>{try{const h=window.localStorage.getItem(o);return h?JSON.parse(h):a}catch(h){return console.error(`Error reading localStorage key "${o}":`,h),a}}),c=h=>{try{const m=h instanceof Function?h(s):h;i(m),window.localStorage.setItem(o,JSON.stringify(m))}catch(m){console.error(`Error setting localStorage key "${o}":`,m)}};return _e.useEffect(()=>{const h=m=>{if(m.key===o&&m.newValue)try{i(JSON.parse(m.newValue))}catch(x){console.error(`Error parsing storage event for key "${o}":`,x)}};return window.addEventListener("storage",h),()=>window.removeEventListener("storage",h)},[o]),[s,c]}const fy=({textToCopy:o})=>{const[a,s]=_e.useState(!1),i=async()=>{try{await navigator.clipboard.writeText(o),s(!0),setTimeout(()=>s(!1),1e3)}catch(c){console.error("Failed to copy:",c)}};return S.jsxs(S.Fragment,{children:[S.jsx("button",{className:"ml-1 text-sm cursor-pointer text-card-foreground",onClick:i,children:S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 -.5 25 25",height:24,width:24,className:"inline-block",children:S.jsxs("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",children:[S.jsx("path",{d:"M17.68 14.25a2.93 2.93 0 0 1-2.93 2.93H7.43a2.93 2.93 0 0 1-2.93-2.93V6.93A2.93 2.93 0 0 1 7.43 4h7.32a2.93 2.93 0 0 1 2.93 2.93v7.32Z",clipRule:"evenodd"}),S.jsx("path",{d:"M10.25 20h7.32a2.93 2.93 0 0 0 2.93-2.93V9.75"})]})})}),a&&S.jsx("span",{className:"ml-2 text-xs text-success-600",children:"copied"})]})},hy=({onClick:o})=>S.jsx("button",{className:"ml-1 text-sm cursor-pointer text-card-foreground",onClick:o,children:S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",height:24,width:24,className:"inline-block",children:S.jsx("path",{fill:"currentColor",d:"M4.4 12a.75.75 0 0 0 1.5 0H4.4Zm1.89-3.89.63.4-.63-.4Zm3.05-2.58-.3-.69.3.7Zm3.92-.4.15-.73-.15.73Zm3.47 1.92-.54.52.54-.52Zm.98 3.16a.75.75 0 0 0 1.45-.42l-1.45.42Zm0-.4a.75.75 0 1 0 1.45.38l-1.45-.38Zm2.16-2.35a.75.75 0 1 0-1.45-.38l1.45.38Zm-1.63 3.26a.75.75 0 0 0 .4-1.44l-.4 1.44Zm-2.25-2.17a.75.75 0 1 0-.4 1.44l.4-1.44Zm3.9 3.45a.75.75 0 1 0-1.5 0h1.5ZM18 15.89l-.63-.4.63.4Zm-3.04 2.58.29.69-.3-.7Zm-3.93.4-.15.73.15-.73Zm-3.47-1.92.54-.52-.54.52Zm-.98-3.16a.75.75 0 0 0-1.45.42l1.45-.42Zm0 .4a.75.75 0 1 0-1.45-.38l1.45.38Zm-2.16 2.35a.75.75 0 1 0 1.45.38l-1.45-.38Zm1.63-3.26a.75.75 0 0 0-.4 1.44l.4-1.44Zm2.25 2.18A.75.75 0 0 0 8.7 14l-.4 1.45ZM5.9 12a6.4 6.4 0 0 1 1.02-3.48L5.66 7.7A7.9 7.9 0 0 0 4.4 12h1.5Zm1.02-3.48a6.09 6.09 0 0 1 2.71-2.3l-.6-1.38a7.59 7.59 0 0 0-3.37 2.87l1.26.8Zm2.71-2.3c1.1-.47 2.3-.59 3.48-.35l.3-1.47a7.35 7.35 0 0 0-4.37.44l.59 1.38Zm3.47-.35c1.18.24 2.26.84 3.09 1.7l1.08-1.04a7.48 7.48 0 0 0-3.86-2.13l-.3 1.47Zm3.1 1.7a6.3 6.3 0 0 1 1.51 2.64l1.45-.42a7.8 7.8 0 0 0-1.9-3.26L16.2 7.57Zm2.96 2.62.71-2.73-1.45-.38-.71 2.73 1.45.38Zm-.53-.91L16 8.55l-.4 1.44 2.65.73.4-1.44ZM18.4 12a6.4 6.4 0 0 1-1.03 3.48l1.26.82A7.9 7.9 0 0 0 19.9 12h-1.5Zm-1.03 3.48a6.09 6.09 0 0 1-2.71 2.3l.6 1.38a7.59 7.59 0 0 0 3.37-2.86l-1.26-.82Zm-2.71 2.3c-1.1.47-2.3.6-3.48.35l-.3 1.47c1.47.3 3 .15 4.37-.44l-.59-1.38Zm-3.47.35a5.98 5.98 0 0 1-3.09-1.7l-1.08 1.04a7.47 7.47 0 0 0 3.86 2.13l.3-1.47Zm-3.1-1.7a6.3 6.3 0 0 1-1.51-2.64l-1.45.42a7.8 7.8 0 0 0 1.9 3.26l1.07-1.04ZM5.14 13.8l-.71 2.73 1.45.38.71-2.73-1.45-.38Zm.53.91 2.64.74.4-1.45-2.65-.73-.4 1.44Z"})})}),v8=({isOpen:o})=>{const[a,s]=_e.useState(""),[i,c]=_e.useState(!1),h=()=>{const m=L.currentPassage,x=m?.getLastDisplayResult(),v=JSON.stringify({passage:m,data:x},null,2);s(v),c(!0),setTimeout(()=>c(!1),500)};return _e.useEffect(()=>{o&&h()},[o]),S.jsxs("div",{className:"w-full",children:[S.jsxs("div",{children:[S.jsx("label",{htmlFor:"current-passage",className:"text-sm text-card-foreground",children:"Current Passage data"}),S.jsx(hy,{onClick:h}),S.jsx(fy,{textToCopy:a}),i&&S.jsx("span",{className:"ml-2 text-xs text-success-600",children:"refreshed"})]}),S.jsx("textarea",{id:"current-passage",disabled:!0,className:"w-full h-30 bg-muted/20 border border-input rounded px-2 text-sm text-muted-foreground cursor-default resize-none",value:a})]})},b8=({isOpen:o})=>{const[a,s]=_e.useState(""),[i,c]=_e.useState(!1),h=()=>{const m=JSON.stringify(L.getState(),null,2);s(m),c(!0),setTimeout(()=>c(!1),500)};return _e.useEffect(()=>{o&&h()},[o]),S.jsxs("div",{className:"w-full",children:[S.jsxs("div",{children:[S.jsx("label",{htmlFor:"current-state",className:"text-sm text-card-foreground",children:"Current state"}),S.jsx(hy,{onClick:h}),S.jsx(fy,{textToCopy:a}),i&&S.jsx("span",{className:"ml-2 text-xs text-success-600",children:"refreshed"})]}),S.jsx("textarea",{id:"current-state",disabled:!0,className:"w-full h-30 bg-muted/20 border border-input rounded px-2 text-sm text-muted-foreground cursor-default resize-none",value:a})]})},w8=()=>{const[o,a]=_e.useState(""),s=i=>{i.preventDefault(),o&&(L.jumpTo(o),a(""))};return S.jsx("div",{children:S.jsxs("form",{onSubmit:s,children:[S.jsx("label",{htmlFor:"jump-to-passage-id",className:"mr-2 text-card-foreground",children:"Jump to passage ID:"}),S.jsx("input",{id:"jump-to-passage-id",type:"text",value:o,onChange:i=>a(i.target.value),placeholder:"Enter passage ID",className:"bg-muted/20 border border-input rounded px-2 text-sm text-foreground"}),S.jsx("button",{type:"submit",disabled:!o,className:"ml-2 bg-primary-500 text-primary-foreground px-2 rounded hover:bg-primary-600 transition-colors active:scale-95 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-primary-500 disabled:active:scale-100",children:"Go"})]})})},E8=({options:o})=>{const{isDevMode:a}=o,[s,i]=_e.useState(!1),[c]=Kf(),[h,m]=y8("saveStateOnReload",!0);return _e.useEffect(()=>{h||(console.log("Disabling autosave for this session"),L.disableAutoSave(),L.clearAutoSave())},[h]),a?S.jsx("div",{className:"fixed bottom-0 left-1/2 -translate-x-1/2 z-100000000",children:S.jsxs("div",{className:Bt("bg-card border border-border rounded-t-lg shadow-lg transition-all duration-300",s?"translate-y-0 w-screen md:w-[60vw]":"translate-y-[calc(100%-1rem)] w-auto"),children:[S.jsx("button",{onClick:()=>i(!s),className:"w-full py-2 px-6 flex justify-center items-center cursor-pointer bg-primary-500 hover:bg-primary-600 rounded-t-lg",children:S.jsx("div",{className:"w-12 h-1 bg-muted-400 rounded-full"})}),s&&S.jsxs("div",{className:"p-4 border-t border-border",children:[S.jsx("h3",{className:"text-lg font-semibold mb-3 text-card-foreground",children:"Dev Mode"}),S.jsx("div",{className:"space-y-2",children:S.jsxs("div",{className:"flex items-center flex-wrap gap-4",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("input",{type:"checkbox",id:"save-state-on-reload",checked:h,onChange:x=>m(x.target.checked)}),S.jsx("label",{htmlFor:"save-state-on-reload",className:"text-card-foreground",children:"Save state on reload"})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("label",{htmlFor:"current-passage-id",className:"text-card-foreground",children:"Current passage ID"}),S.jsx("input",{id:"current-passage-id",type:"text",value:c?.id||"none",readOnly:!0,className:"max-w-40 bg-muted/20 border border-input rounded px-2 text-sm text-muted-foreground cursor-default"})]}),S.jsx(w8,{}),S.jsx(b8,{isOpen:s}),S.jsx(v8,{isOpen:s})]})})]})]})}):null},S8=({options:o,setOptions:a})=>{const[s,i]=_e.useState(!1),{isDevMode:c}=o;return S.jsxs("div",{className:"fixed bottom-3 left-2 z-10000000",children:[S.jsx("button",{className:"cursor-pointer hover:opacity-50 active:scale-95 bg-primary-500 p-2 rounded-full",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",className:"w-6 h-6",children:S.jsx("path",{fill:"#000",fillRule:"evenodd",d:"M2.7 13.07 8.1 5.1a.5.5 0 0 1 .9.3v11.04a.5.5 0 0 1-.75.44l-5.4-3.07a.5.5 0 0 1-.15-.73Zm14.45.73-5.4 3.07a.5.5 0 0 1-.75-.44V5.38a.5.5 0 0 1 .9-.3l5.4 8a.5.5 0 0 1-.15.72ZM11 .53c-.48-.7-1.52-.7-2 0L.24 13.03c-.43.58-.26 1.4.36 1.77L9 19.63l.42.22c.36.2.8.2 1.16 0l.42-.22 8.4-4.83c.62-.36.8-1.19.36-1.77L11 .53Z"})})}),s&&S.jsx("div",{className:"absolute left-full bottom-0 bg-popover border border-border rounded-lg shadow-lg p-3 whitespace-nowrap",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:S.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-popover-foreground",children:[S.jsx("input",{type:"checkbox",className:"cursor-pointer",checked:!!c,onChange:()=>a({...o,isDevMode:!c})}),S.jsx("span",{children:"Is dev mode"})]})})]})},A8=()=>{const{isOpen:o,mode:a,close:s}=n0();return S.jsx(o8,{isOpen:o,onClose:s,mode:a})},C8=({children:o,options:a,components:s={}})=>{const[i,c]=_e.useState(a),[h,m]=_e.useState(!1),x=_e.useRef(!1);return _e.useEffect(()=>{x.current||(x.current=!0,L.init(a).then(()=>{if(e0(wr.START_MENU,s?.MainMenu||ly),!L.currentPassage){const v=a.startPassage||wr.START_MENU;!L.getPassageById(v)&&a.startPassage?(console.warn(`[react-text-game] startPassage "${a.startPassage}" not found, falling back to START_MENU`),L.setCurrent(wr.START_MENU)):L.setCurrent(v)}m(!0)}).catch(v=>{console.error("Failed to initialize game:",v)}).finally(()=>{x.current=!1}))},[a]),_e.useEffect(()=>{i&&h&&i!==a&&L.updateOptions(i)},[i,h,a]),h?S.jsx(t8,{children:S.jsx(x8,{components:s,children:S.jsxs(n8,{children:[o,a.isDevMode&&S.jsxs(S.Fragment,{children:[S.jsx(S8,{options:i,setOptions:c}),S.jsx(E8,{options:i})]}),S.jsx(A8,{})]})})}):null},_8=({children:o,positionInfo:a})=>_e.Children.map(o,s=>_e.isValidElement(s)?_e.cloneElement(s,{imagePositionInfo:a}):s),D8=(o,a)=>{if(L.options.isDevMode){const s=a.current?.getBoundingClientRect();if(s){const i=(o.clientX-s.left)/s.width*100,c=(o.clientY-s.top)/s.height*100;console.log("Click position is copied to clipboard"),navigator.clipboard.writeText(`{ x: ${i.toFixed(2)}, y: ${c.toFixed(2)} }`).catch(h=>{console.error("Failed to copy to clipboard:",h)})}else console.error("Image reference is null or invalid.")}},ea=(o,a)=>typeof o=="function"?o(a):o,py=({hotspot:o,imagePositionInfo:a,tooltipContent:s,tooltipPlacement:i="top"})=>{const c=_e.useRef(null),[h,m]=_e.useState(!1),[x,v]=_e.useState(!1),p=o.props?.classNames||{},b=ea(o.isDisabled),y=_e.useMemo(()=>{if(!(typeof o.content=="object")){const j=o.content;return{idle:ea(j),hover:void 0,active:void 0,disabled:void 0}}const B=o.content;return{idle:ea(B.idle),hover:ea(B.hover),active:ea(B.active),disabled:ea(B.disabled)}},[o.content]),C=_e.useMemo(()=>{const D=a?.scaleFactor??1,B=o.props?.zoom||"100%",j=parseFloat(B)/100;return D*j},[a?.scaleFactor,o.props?.zoom]);return S.jsxs(S.Fragment,{children:[S.jsx("button",{id:"image-hotspot-button",ref:c,className:Bt("pointer-events-auto cursor-pointer disabled:cursor-not-allowed relative",p.container),style:{transform:`scale(${C})`,transformOrigin:"center center"},disabled:b,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),onClick:()=>{v(!0),o.action(),setTimeout(()=>v(!1),100)},children:x&&y.active?S.jsx("img",{className:Bt("max-w-none",p.active),src:y.active,alt:"hotspot active"}):h&&y.hover?S.jsx("img",{className:Bt("max-w-none",p.hover),src:y.hover,alt:"hotspot hover"}):b&&y.disabled?S.jsx("img",{className:Bt("max-w-none",p.disabled),src:y.disabled,alt:"hotspot disabled"}):S.jsx("img",{className:Bt("max-w-none",p.idle),src:y.idle,alt:o.id||"hotspot"})}),S.jsx(t0,{content:s,placement:i,targetRef:c,disabled:!s})]})},my=({hotspot:o,tooltipContent:a,tooltipPlacement:s="top"})=>{const i=_e.useRef(null),c=ea(o.content),h=ea(o.isDisabled);return S.jsxs(S.Fragment,{children:[S.jsx("div",{ref:i,children:S.jsx(Xt,{id:"label-hotspot-button",onClick:()=>o.action(),disabled:h,className:Bt("pointer-events-auto",o.props?.classNames?.button),variant:o.props?.variant,color:o.props?.color,children:c})}),S.jsx(t0,{content:a,placement:s,targetRef:i,disabled:!a})]})},B8=({hotspot:o,imagePositionInfo:a})=>{const s=_e.useRef(null),i=ea(o.tooltip?.content);return _e.useEffect(()=>{if(s.current&&a){const{x:c,y:h}=ea(o.position),{offsetLeft:m,offsetTop:x,scaledWidth:v,scaledHeight:p}=a,b=m+c/100*v,y=x+h/100*p;s.current.style.left=`${b}px`,s.current.style.top=`${y}px`,s.current.style.transform="translate(-50%, -50%)"}},[o.position,a]),S.jsx("div",{ref:s,className:"absolute z-10 pointer-events-none",id:"hotspot-container",children:o.type==="image"?S.jsx(py,{hotspot:o,tooltipContent:i,tooltipPlacement:o.tooltip?.position,...a&&{imagePositionInfo:a}}):o.type==="label"?S.jsx(my,{hotspot:o,tooltipContent:i,tooltipPlacement:o.tooltip?.position}):S.jsx("div",{children:"Unknown Hotspot Type"})})},T8=({isLoading:o,naturalWidth:a,naturalHeight:s})=>{const i=_e.useRef(null),c=_e.useRef(null),h=_e.useRef(null),[m,x]=_e.useState({scaleFactor:1,offsetLeft:0,offsetTop:0,scaledWidth:0,scaledHeight:0});return _e.useEffect(()=>{const v=()=>{if(!i.current||!c.current||a===0||s===0)return;const p=i.current.getBoundingClientRect(),b=p.width,y=p.height,C=b/a,D=y/s,B=Math.min(C,D),j=a*B,O=s*B,F=(b-j)/2,k=(y-O)/2;c.current.style.width=`${j}px`,c.current.style.height=`${O}px`,c.current.style.marginLeft=`${F}px`,c.current.style.marginTop=`${k}px`,x({scaleFactor:B,offsetLeft:F,offsetTop:k,scaledWidth:j,scaledHeight:O})};return!o&&i.current&&c.current&&(v(),h.current=new ResizeObserver(()=>{v()}),h.current.observe(i.current),window.addEventListener("resize",v)),()=>{h.current&&h.current.disconnect(),window.removeEventListener("resize",v)}},[o,a,s]),{containerRef:i,imageRef:c,positionInfo:m}},N8=({imageUrl:o,children:a})=>{const[s,i]=_e.useState(!0),[c,h]=_e.useState({width:0,height:0}),{containerRef:m,imageRef:x,positionInfo:v}=T8({isLoading:s,naturalWidth:c.width,naturalHeight:c.height}),p=()=>{x.current&&(h({width:x.current.naturalWidth,height:x.current.naturalHeight}),i(!1))},b=y=>{throw console.error("Failed to load image:",y),i(!1),y};return S.jsxs("div",{id:"hotspot-map",ref:m,className:"relative w-full h-full overflow-hidden",children:[s&&S.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10",children:S.jsx(Ww,{})}),S.jsx("div",{className:"relative w-full h-full overflow-hidden",id:"hotspot-map-content",children:S.jsx("img",{ref:x,src:o,className:"absolute",style:{opacity:s?0:1,transition:"opacity 0.3s ease"},onLoad:p,onError:b,alt:"Exploration map",onClick:y=>D8(y,x)})}),!s&&S.jsx("div",{children:_8({positionInfo:v,children:a})})]})},k8=({item:o})=>{const a=_e.useRef(null),s=ea(o.tooltip?.content),i=ea(o.isDisabled)||!1,c=ea(o.content);return S.jsxs(S.Fragment,{children:[S.jsx("div",{ref:a,children:S.jsx(Xt,{className:Bt("w-full",o.props?.classNames?.button),variant:o.props?.variant,color:o.props?.color,disabled:i,onClick:o.action,children:c})}),S.jsx(t0,{targetRef:a,content:s,placement:o.tooltip?.position||"top",disabled:!s})]})},j8=({menu:o,imagePositionInfo:a})=>{const s=_e.useRef(null),i=_e.useMemo(()=>o.items.map(c=>ea(c)).filter(c=>c!==void 0),[o.items]);return _e.useEffect(()=>{if(s.current&&a&&i.length){const{x:c,y:h}=ea(o.position),{offsetLeft:m,offsetTop:x,scaledWidth:v,scaledHeight:p}=a,b=m+c/100*v,y=x+h/100*p;s.current.style.left=`${b}px`,s.current.style.top=`${y}px`,s.current.style.transform="translate(-50%, -50%)"}},[o.position,a,i.length]),i.length===0?null:S.jsx("div",{ref:s,className:Bt("absolute z-10 flex gap-2 p-2 bg-popover/95 border ","border-border rounded-lg shadow-md justify-center items-center",o.direction==="horizontal"?"flex-row":"flex-col"),children:i.map((c,h)=>S.jsx(k8,{item:c},h))})},au=({hotspot:o})=>{const a=ea(o.tooltip?.content);return S.jsx("div",{id:"side-hotspot-container",children:o.type==="image"?S.jsx(py,{hotspot:o,tooltipContent:a,tooltipPlacement:o.tooltip?.position}):o.type==="label"?S.jsx(my,{hotspot:o,tooltipContent:a,tooltipPlacement:o.tooltip?.position}):S.jsx("div",{children:"Unknown Hotspot Type"})})},O8=({hotspots:o})=>{const a=o.filter(s=>!("position"in s));return{mapHotspots:o.filter(s=>"position"in s&&s.type!=="menu"),topHotspots:a.filter(s=>s.position==="top"),bottomHotspots:a.filter(s=>s.position==="bottom"),leftHotspots:a.filter(s=>s.position==="left"),rightHotspots:a.filter(s=>s.position==="right"),menu:o.filter(s=>s.type==="menu")}},M8=({interactiveMap:o})=>{const a=_e.useRef(null),s=_e.useMemo(()=>o.display(),[o]),{mapHotspots:i,menu:c,bottomHotspots:h,rightHotspots:m,topHotspots:x,leftHotspots:v}=O8({hotspots:s.hotspots}),p=_e.useMemo(()=>`${s.image}-${s.bgImage}-${s.hotspots.length}`,[s.image,s.bgImage,s.hotspots.length]);return S.jsx("div",{className:"w-full h-full flex flex-col",id:"interactive-map-content",children:S.jsxs("div",{className:"flex-grow relative overflow-hidden animate-[fadeIn_0.3s_ease-in-out] min-h-full",children:[s.bgImage&&S.jsx("div",{id:"background-image-container",className:"absolute inset-0 z-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${s.bgImage})`,opacity:s.props?.bgOpacity}}),S.jsxs("div",{id:"hotspot-map-container",className:Bt("h-full w-full flex flex-col",s.classNames?.container),children:[S.jsx("div",{id:"top-hotspots-container",className:Bt("w-full z-20 overflow-y-hidden overflow-x-auto scrollbar-hide max-h-100",s.classNames?.topHotspots),children:x.map((b,y)=>S.jsx(au,{hotspot:b},y))}),S.jsxs("div",{className:"h-full w-full flex",children:[S.jsx("div",{id:"left-hotspots-container",className:Bt("h-full z-20 overflow-x-hidden overflow-y-auto scrollbar-hide max-w-100",s.classNames?.leftHotspots),children:v.map((b,y)=>S.jsx(au,{hotspot:b},y))}),S.jsx("div",{id:"map-container",ref:a,className:"w-full h-full flex justify-center items-center relative z-10",children:S.jsxs(N8,{imageUrl:s.image,children:[i.map((b,y)=>S.jsx(B8,{hotspot:b},y)),c.map((b,y)=>S.jsx(j8,{menu:b},`menu-${y}`))]})}),S.jsx("div",{id:"right-hotspots-container",className:Bt("h-full z-20 overflow-x-hidden overflow-y-auto scrollbar-hide max-w-100",s.classNames?.rightHotspots),children:m.map((b,y)=>S.jsx(au,{hotspot:b},y))})]}),S.jsx("div",{id:"bottom-hotspots-container",className:Bt("w-full z-20 overflow-y-hidden overflow-x-auto scrollbar-hide max-h-100",s.classNames?.bottomHotspots),children:h.map((b,y)=>S.jsx(au,{hotspot:b},y))})]})]},p)})},R8=()=>{const o=_e.useContext(dy);if(!o)throw new Error("useComponents must be used within ComponentsProvider");return o},z8=({story:o})=>{const a=_e.useMemo(()=>o.display(),[o]),{story:{Heading:s,Conversation:i,Actions:c,Video:h,Image:m,Text:x}}=R8(),v=uy(),p=b=>{const y=b.target;y.tagName==="BUTTON"||y.tagName==="A"||y.closest("button")||y.closest("a")||y.closest('[role="button"]')||y.closest("input")||y.closest("select")||y.closest("textarea")||v.notifyClick()};return S.jsx("div",{id:"story-content",className:Bt("w-full h-full flex flex-col content-center items-center",a.options?.classNames?.base),onClick:p,children:S.jsx("div",{className:"px-4 w-full flex flex-col content-center items-center",children:S.jsx("div",{id:"story-content-container",className:Bt("w-full overflow-x-hidden max-w-[1200px] flex flex-col gap-4 my-4",a.options?.classNames?.container),children:a.components.map((b,y)=>{switch(b.type){case"header":return S.jsx(s,{component:b},y);case"text":return S.jsx(x,{component:b},y);case"image":return S.jsx(m,{component:b},y);case"video":return S.jsx(h,{component:b},y);case"actions":return S.jsx(c,{component:b},y);case"conversation":return S.jsx(i,{component:b},y);case"anotherStory":return S.jsx(gy,{story:L.getPassageById(b.storyId)},y);default:return null}})})})})},gy=({story:o})=>S.jsx(l8,{children:S.jsx(z8,{story:o})}),F8=()=>{const[o,a]=Kf(),s=()=>{switch(o?.type){case"story":return S.jsx(gy,{story:o});case"interactiveMap":return S.jsx(M8,{interactiveMap:o});case"widget":return o.display();default:return S.jsxs("div",{children:["Unknown Passage Type ",o?.type]})}};return o?S.jsx("div",{id:"passage-content",className:"w-full h-full animate-in fade-in duration-300",children:s()},`${o.type}-${a}`):S.jsx("div",{className:"flex items-center justify-center w-full h-full",children:S.jsx("h1",{className:"text-2xl font-bold",children:"NO PASSAGE SELECTED"})})},L8=({className:o})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:o,children:S.jsxs("g",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:"1.5",children:[S.jsx("path",{strokeLinejoin:"round",d:"m15.98 8.71-.44-.45c-1.96-2-5.12-2-7.08 0a5.2 5.2 0 0 0 0 7.24c1.96 2 5.12 2 7.08 0a5.18 5.18 0 0 0 1.42-4.26m-.98-2.53h-2.65m2.65 0V6"}),S.jsx("path",{d:"M22 12c0 4.71 0 7.07-1.46 8.54C19.07 22 16.7 22 12 22c-4.71 0-7.07 0-8.54-1.46C2 19.07 2 16.7 2 12c0-4.71 0-7.07 1.46-8.54C4.93 2 7.3 2 12 2c4.71 0 7.07 0 8.54 1.46.97.98 1.3 2.35 1.4 4.54"})]})}),H8=({isIconOnly:o,className:a,...s})=>{const i=h4();return S.jsxs(Xt,{className:Bt("flex gap-2 items-center",a),onClick:i,...s,children:[S.jsx(L8,{className:"w-8 h-8"}),!o&&S.jsx("span",{children:"Restart Game"})]})},q8=({className:o})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 48 48",className:o,children:S.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M35.28 4.88A3 3 0 0 0 33.16 4H7a3 3 0 0 0-3 3v34a3 3 0 0 0 3 3h34a3 3 0 0 0 3-3V14.89a3 3 0 0 0-.87-2.12l-7.85-7.89ZM7 6h6v9.95c0 1.13.92 2.05 2.05 2.05h17.9c1.13 0 2.05-.92 2.05-2.05V11.2a1 1 0 1 0-2 0v4.75c0 .03-.02.05-.05.05h-17.9a.05.05 0 0 1-.05-.05V6h18.16a1 1 0 0 1 .7.3l7.85 7.88a1 1 0 0 1 .29.7V41a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1Zm21 24.02a4 4 0 0 0-4-4 1 1 0 0 1 0-2 6 6 0 1 1-6 6 1 1 0 0 1 2 0 4 4 0 1 0 8 0Z",clipRule:"evenodd"})}),U8=({isIconOnly:o,className:a,mode:s,...i})=>{const{openSaveMenu:c,openSaveLoadMenu:h}=n0();return S.jsxs(Xt,{className:Bt("flex gap-2 items-center",a),onClick:s==="save"?c:h,...i,children:[S.jsx(q8,{className:"w-8 h-8"}),!o&&S.jsx("span",{children:"Save Game"})]})},K8=()=>{const o=Ll(W),a=Ll(nn),s=o.health/o.maxHealth*100,i=s>60?"bg-success-500":s>30?"bg-warning-500":"bg-danger-500";return S.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-900 to-slate-800 p-8",children:S.jsxs("div",{className:"max-w-2xl mx-auto",children:[S.jsxs("div",{className:"flex justify-between items-center mb-8",children:[S.jsx("h1",{className:"text-3xl font-bold text-primary-400",children:"Character Sheet"}),S.jsx(Xt,{color:"default",variant:"bordered",onClick:()=>L.jumpTo("worldMap"),children:"Close"})]}),S.jsx("div",{className:"bg-card/80 rounded-lg p-6 mb-6",children:S.jsxs("div",{className:"flex items-start gap-6",children:[S.jsx("div",{className:"w-32 h-32 rounded-lg overflow-hidden border-2 border-primary-500",children:S.jsx("img",{src:"./assets/avatars/knight.webp",alt:o.name,className:"w-full h-full object-cover",onError:c=>{c.target.src="./assets/avatars/default.webp"}})}),S.jsxs("div",{className:"flex-1",children:[S.jsx("h2",{className:"text-2xl font-bold text-foreground",children:o.name}),S.jsx("p",{className:"text-secondary-400 mb-4",children:o.title}),S.jsxs("div",{className:"mb-2",children:[S.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[S.jsx("span",{className:"text-muted-foreground",children:"Health"}),S.jsxs("span",{className:"text-foreground",children:[o.health," /"," ",o.maxHealth]})]}),S.jsx("div",{className:"h-4 bg-muted rounded-full overflow-hidden",children:S.jsx("div",{className:`h-full ${i} transition-all duration-300`,style:{width:`${s}%`}})})]})]})]})}),S.jsxs("div",{className:"bg-card/80 rounded-lg p-6 mb-6",children:[S.jsx("h3",{className:"text-xl font-semibold text-secondary-400 mb-4",children:"Combat Stats"}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{className:"bg-card/50 rounded-lg p-4",children:[S.jsx("p",{className:"text-muted-foreground text-sm",children:"Attack"}),S.jsx("p",{className:"text-2xl font-bold text-danger-400",children:o.attack})]}),S.jsxs("div",{className:"bg-card/50 rounded-lg p-4",children:[S.jsx("p",{className:"text-muted-foreground text-sm",children:"Defense"}),S.jsx("p",{className:"text-2xl font-bold text-primary-400",children:o.defense})]})]})]}),S.jsxs("div",{className:"bg-card/80 rounded-lg p-6 mb-6",children:[S.jsx("h3",{className:"text-xl font-semibold text-secondary-400 mb-4",children:"Resources"}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{className:"bg-card/50 rounded-lg p-4",children:[S.jsx("p",{className:"text-muted-foreground text-sm",children:"Gold"}),S.jsx("p",{className:"text-2xl font-bold text-warning-400",children:o.gold})]}),S.jsxs("div",{className:"bg-card/50 rounded-lg p-4",children:[S.jsx("p",{className:"text-muted-foreground text-sm",children:"Items"}),S.jsx("p",{className:"text-2xl font-bold text-info-400",children:o.inventory.length})]})]})]}),S.jsxs("div",{className:"bg-card/80 rounded-lg p-6 mb-6",children:[S.jsx("h3",{className:"text-xl font-semibold text-secondary-400 mb-4",children:"Quest Progress"}),S.jsxs("div",{className:"space-y-3",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:`w-4 h-4 rounded-full ${o.quests.mainQuestStarted?"bg-success-500":"bg-muted-500"}`}),S.jsx("span",{className:o.quests.mainQuestStarted?"text-foreground":"text-muted-foreground",children:"Main quest started"})]}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:`w-4 h-4 rounded-full ${o.quests.talkedToKing?"bg-success-500":"bg-muted-500"}`}),S.jsx("span",{className:o.quests.talkedToKing?"text-foreground":"text-muted-foreground",children:"Audience with the King"})]}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:`w-4 h-4 rounded-full ${o.quests.hasRoyalBlessing?"bg-success-500":"bg-muted-500"}`}),S.jsx("span",{className:o.quests.hasRoyalBlessing?"text-foreground":"text-muted-foreground",children:"Royal blessing received"})]}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:`w-4 h-4 rounded-full ${o.quests.defeatedDragon?"bg-success-500":"bg-muted-500"}`}),S.jsx("span",{className:o.quests.defeatedDragon?"text-foreground":"text-muted-foreground",children:"Dragon defeated"})]}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:`w-4 h-4 rounded-full ${o.quests.mainQuestComplete?"bg-success-500":"bg-muted-500"}`}),S.jsx("span",{className:o.quests.mainQuestComplete?"text-foreground":"text-muted-foreground",children:"Quest complete"})]})]})]}),S.jsxs("div",{className:"bg-card/80 rounded-lg p-6 mb-6",children:[S.jsx("h3",{className:"text-xl font-semibold text-secondary-400 mb-4",children:"World Status"}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{className:"bg-card/50 rounded-lg p-4",children:[S.jsx("p",{className:"text-muted-foreground text-sm",children:"Time"}),S.jsx("p",{className:"text-lg font-semibold text-foreground capitalize",children:a.timeOfDay})]}),S.jsxs("div",{className:"bg-card/50 rounded-lg p-4",children:[S.jsx("p",{className:"text-muted-foreground text-sm",children:"Weather"}),S.jsx("p",{className:"text-lg font-semibold text-foreground capitalize",children:a.weather})]})]})]}),S.jsxs("div",{className:"bg-card/80 rounded-lg p-6",children:[S.jsx("h3",{className:"text-xl font-semibold text-secondary-400 mb-4",children:"Statistics"}),S.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{className:"text-muted-foreground",children:"Monsters Defeated"}),S.jsx("span",{className:"text-foreground",children:o.stats.monstersDefeated})]}),S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{className:"text-muted-foreground",children:"Gold Earned"}),S.jsx("span",{className:"text-foreground",children:o.stats.goldEarned})]}),S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{className:"text-muted-foreground",children:"Gold Spent"}),S.jsx("span",{className:"text-foreground",children:o.stats.goldSpent})]}),S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{className:"text-muted-foreground",children:"Locations Visited"}),S.jsx("span",{className:"text-foreground",children:o.stats.locationsVisited})]})]})]})]})})};e0("characterSheet",S.jsx(K8,{}));const gi={iron_sword:{name:"Iron Sword",description:"A sturdy iron blade. Attack +5",type:"weapon",icon:"./assets/items/iron-sword.webp"},steel_sword:{name:"Steel Sword",description:"A finely crafted steel blade. Attack +15",type:"weapon",icon:"./assets/items/steel-sword.webp"},dragon_slayer:{name:"Dragon Slayer",description:"A legendary blade forged to slay dragons. Attack +40",type:"weapon",icon:"./assets/items/dragon-slayer.webp"},chainmail:{name:"Chainmail Armor",description:"Linked metal rings provide good protection. Defense +5",type:"armor",icon:"./assets/items/chainmail.webp"},plate_armor:{name:"Plate Armor",description:"Heavy plate armor for maximum protection. Defense +15",type:"armor",icon:"./assets/items/plate-armor.webp"},wooden_shield:{name:"Wooden Shield",description:"A simple wooden shield. Defense +3",type:"shield",icon:"./assets/items/wooden-shield.webp"},iron_shield:{name:"Iron Shield",description:"A sturdy iron shield. Defense +7",type:"shield",icon:"./assets/items/iron-shield.webp"},health_potion:{name:"Health Potion",description:"Restores 50 HP when consumed",type:"consumable",icon:"./assets/items/health-potion.webp"},royal_seal:{name:"Elder's Sealed Letter",description:"A letter from Elder Marcus granting audience with the King",type:"quest",icon:"./assets/items/royal-seal.webp"},forest_treasure:{name:"Ancient Amulet",description:"A mysterious amulet found in the Whispering Woods",type:"treasure",icon:"./assets/items/amulet.webp"},dragon_scale:{name:"Dragon Scale",description:"A scale from Vexarion. Proof of your encounter.",type:"trophy",icon:"./assets/items/dragon-scale.webp"}},P8=()=>{const o=Ll(W),a=c=>{const h=gi[c];h&&h.type==="consumable"&&c==="health_potion"&&($e.heal(50),$e.removeItem(c))},s=c=>{const h=gi[c];h&&(h.type==="weapon"?$e.equipWeapon(c):h.type==="armor"?$e.equipArmor(c):h.type==="shield"&&$e.equipShield(c))},i=c=>o.equipment.weapon===c||o.equipment.armor===c||o.equipment.shield===c;return S.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-900 to-slate-800 p-8",children:S.jsxs("div",{className:"max-w-4xl mx-auto",children:[S.jsxs("div",{className:"flex justify-between items-center mb-8",children:[S.jsx("h1",{className:"text-3xl font-bold text-primary-400",children:"Inventory"}),S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsxs("span",{className:"text-warning-400 font-semibold",children:["Gold: ",o.gold]}),S.jsx(Xt,{color:"default",variant:"bordered",onClick:()=>L.jumpTo("worldMap"),children:"Close"})]})]}),S.jsxs("div",{className:"bg-card/80 rounded-lg p-6 mb-6",children:[S.jsx("h2",{className:"text-xl font-semibold text-secondary-400 mb-4",children:"Equipped Items"}),S.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[S.jsxs("div",{className:"bg-card/50 rounded-lg p-4 text-center",children:[S.jsx("p",{className:"text-muted-foreground text-sm mb-2",children:"Weapon"}),o.equipment.weapon?S.jsx("p",{className:"text-foreground",children:gi[o.equipment.weapon]?.name}):S.jsx("p",{className:"text-muted-foreground italic",children:"None"})]}),S.jsxs("div",{className:"bg-card/50 rounded-lg p-4 text-center",children:[S.jsx("p",{className:"text-muted-foreground text-sm mb-2",children:"Armor"}),o.equipment.armor?S.jsx("p",{className:"text-foreground",children:gi[o.equipment.armor]?.name}):S.jsx("p",{className:"text-muted-foreground italic",children:"None"})]}),S.jsxs("div",{className:"bg-card/50 rounded-lg p-4 text-center",children:[S.jsx("p",{className:"text-muted-foreground text-sm mb-2",children:"Shield"}),o.equipment.shield?S.jsx("p",{className:"text-foreground",children:gi[o.equipment.shield]?.name}):S.jsx("p",{className:"text-muted-foreground italic",children:"None"})]})]})]}),S.jsxs("div",{className:"bg-card/80 rounded-lg p-6",children:[S.jsxs("h2",{className:"text-xl font-semibold text-secondary-400 mb-4",children:["Items (",o.inventory.length,")"]}),o.inventory.length===0?S.jsx("p",{className:"text-muted-foreground text-center py-8 italic",children:"Your inventory is empty"}):S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.inventory.map(c=>{const h=gi[c];if(!h)return null;const m=i(c);return S.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg border ${m?"border-primary-500 bg-primary-500/10":"border-border bg-card/50"}`,children:[S.jsx("div",{className:"w-12 h-12 bg-muted rounded-lg flex items-center justify-center",children:S.jsx("img",{src:h.icon,alt:h.name,className:"w-8 h-8 object-contain",onError:x=>{x.target.src="./assets/items/default.webp"}})}),S.jsxs("div",{className:"flex-1",children:[S.jsxs("p",{className:"font-semibold text-foreground",children:[h.name,m&&S.jsx("span",{className:"text-primary-400 text-sm ml-2",children:"(Equipped)"})]}),S.jsx("p",{className:"text-sm text-muted-foreground",children:h.description})]}),S.jsxs("div",{className:"flex gap-2",children:[h.type==="consumable"&&S.jsx(Xt,{color:"success",variant:"solid",onClick:()=>a(c),children:"Use"}),["weapon","armor","shield"].includes(h.type)&&!m&&S.jsx(Xt,{color:"primary",variant:"bordered",onClick:()=>s(c),children:"Equip"})]})]},c)})})]})]})})};e0("inventory",S.jsx(P8,{}));const V8=()=>{const o=Ix({count:6});return S.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-900 to-slate-800 p-8",children:S.jsxs("div",{className:"max-w-3xl mx-auto",children:[S.jsxs("div",{className:"flex justify-between items-center mb-8",children:[S.jsx("h1",{className:"text-3xl font-bold text-primary-400",children:"Save / Load Game"}),S.jsx(Xt,{color:"default",variant:"bordered",onClick:()=>L.jumpTo("worldMap"),children:"Close"})]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map((a,s)=>S.jsxs("div",{className:"bg-card/80 rounded-lg p-4 border border-border",children:[S.jsxs("div",{className:"flex items-center justify-between mb-3",children:[S.jsxs("h3",{className:"font-semibold text-foreground",children:["Slot ",s+1]}),a.data&&S.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(a.data.timestamp).toLocaleString()})]}),a.data?S.jsxs("div",{className:"mb-3",children:[S.jsx("p",{className:"text-sm text-muted-foreground",children:a.data.name||"Unnamed Save"}),a.data.description&&S.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:a.data.description})]}):S.jsx("p",{className:"text-sm text-muted-foreground mb-3 italic",children:"Empty slot"}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx(Xt,{color:"success",variant:"solid",className:"flex-1",onClick:()=>a.save(),children:"Save"}),S.jsx(Xt,{color:"primary",variant:"bordered",className:"flex-1",onClick:()=>a.load(),disabled:!a.data,children:"Load"}),S.jsx(Xt,{color:"danger",variant:"ghost",onClick:()=>a.delete(),disabled:!a.data,children:"Delete"})]})]},s))}),S.jsx("p",{className:"text-center text-muted-foreground text-sm mt-6",children:"Saves are stored locally in your browser using IndexedDB."})]})})};e0("saveLoadWidget",S.jsx(V8,{}));var sf={exports:{}},jl={},lf={exports:{}},cf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var px;function Y8(){return px||(px=1,(function(o){function a(Y,xe){var he=Y.length;Y.push(xe);e:for(;0<he;){var Ke=he-1>>>1,ze=Y[Ke];if(0<c(ze,xe))Y[Ke]=xe,Y[he]=ze,he=Ke;else break e}}function s(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var xe=Y[0],he=Y.pop();if(he!==xe){Y[0]=he;e:for(var Ke=0,ze=Y.length,N=ze>>>1;Ke<N;){var P=2*(Ke+1)-1,U=Y[P],X=P+1,De=Y[X];if(0>c(U,he))X<ze&&0>c(De,U)?(Y[Ke]=De,Y[X]=he,Ke=X):(Y[Ke]=U,Y[P]=he,Ke=P);else if(X<ze&&0>c(De,he))Y[Ke]=De,Y[X]=he,Ke=X;else break e}}return xe}function c(Y,xe){var he=Y.sortIndex-xe.sortIndex;return he!==0?he:Y.id-xe.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;o.unstable_now=function(){return h.now()}}else{var m=Date,x=m.now();o.unstable_now=function(){return m.now()-x}}var v=[],p=[],b=1,y=null,C=3,D=!1,B=!1,j=!1,O=!1,F=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function z(Y){for(var xe=s(p);xe!==null;){if(xe.callback===null)i(p);else if(xe.startTime<=Y)i(p),xe.sortIndex=xe.expirationTime,a(v,xe);else break;xe=s(p)}}function te(Y){if(j=!1,z(Y),!B)if(s(v)!==null)B=!0,G||(G=!0,ye());else{var xe=s(p);xe!==null&&qe(te,xe.startTime-Y)}}var G=!1,V=-1,J=5,Se=-1;function ee(){return O?!0:!(o.unstable_now()-Se<J)}function ce(){if(O=!1,G){var Y=o.unstable_now();Se=Y;var xe=!0;try{e:{B=!1,j&&(j=!1,k(V),V=-1),D=!0;var he=C;try{t:{for(z(Y),y=s(v);y!==null&&!(y.expirationTime>Y&&ee());){var Ke=y.callback;if(typeof Ke=="function"){y.callback=null,C=y.priorityLevel;var ze=Ke(y.expirationTime<=Y);if(Y=o.unstable_now(),typeof ze=="function"){y.callback=ze,z(Y),xe=!0;break t}y===s(v)&&i(v),z(Y)}else i(v);y=s(v)}if(y!==null)xe=!0;else{var N=s(p);N!==null&&qe(te,N.startTime-Y),xe=!1}}break e}finally{y=null,C=he,D=!1}xe=void 0}}finally{xe?ye():G=!1}}}var ye;if(typeof M=="function")ye=function(){M(ce)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,je=pe.port2;pe.port1.onmessage=ce,ye=function(){je.postMessage(null)}}else ye=function(){F(ce,0)};function qe(Y,xe){V=F(function(){Y(o.unstable_now())},xe)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(Y){Y.callback=null},o.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<Y?Math.floor(1e3/Y):5},o.unstable_getCurrentPriorityLevel=function(){return C},o.unstable_next=function(Y){switch(C){case 1:case 2:case 3:var xe=3;break;default:xe=C}var he=C;C=xe;try{return Y()}finally{C=he}},o.unstable_requestPaint=function(){O=!0},o.unstable_runWithPriority=function(Y,xe){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var he=C;C=Y;try{return xe()}finally{C=he}},o.unstable_scheduleCallback=function(Y,xe,he){var Ke=o.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Ke+he:Ke):he=Ke,Y){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=he+ze,Y={id:b++,callback:xe,priorityLevel:Y,startTime:he,expirationTime:ze,sortIndex:-1},he>Ke?(Y.sortIndex=he,a(p,Y),s(v)===null&&Y===s(p)&&(j?(k(V),V=-1):j=!0,qe(te,he-Ke))):(Y.sortIndex=ze,a(v,Y),B||D||(B=!0,G||(G=!0,ye()))),Y},o.unstable_shouldYield=ee,o.unstable_wrapCallback=function(Y){var xe=C;return function(){var he=C;C=xe;try{return Y.apply(this,arguments)}finally{C=he}}}})(cf)),cf}var mx;function $8(){return mx||(mx=1,lf.exports=Y8()),lf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gx;function G8(){if(gx)return jl;gx=1;var o=$8(),a=Rf(),s=Xx();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function x(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(h(e)!==e)throw Error(i(188))}function p(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var u=n.return;if(u===null)break;var f=u.alternate;if(f===null){if(r=u.return,r!==null){n=r;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===n)return v(u),e;if(f===r)return v(u),t;f=f.sibling}throw Error(i(188))}if(n.return!==r.return)n=u,r=f;else{for(var E=!1,T=u.child;T;){if(T===n){E=!0,n=u,r=f;break}if(T===r){E=!0,r=u,n=f;break}T=T.sibling}if(!E){for(T=f.child;T;){if(T===n){E=!0,n=f,r=u;break}if(T===r){E=!0,r=f,n=u;break}T=T.sibling}if(!E)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,C=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),M=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),Se=Symbol.for("react.activity"),ee=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function ye(e){return e===null||typeof e!="object"?null:(e=ce&&e[ce]||e["@@iterator"],typeof e=="function"?e:null)}var pe=Symbol.for("react.client.reference");function je(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===pe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case F:return"Profiler";case O:return"StrictMode";case te:return"Suspense";case G:return"SuspenseList";case Se:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case B:return"Portal";case M:return e.displayName||"Context";case k:return(e._context.displayName||"Context")+".Consumer";case z:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return t=e.displayName||null,t!==null?t:je(e.type)||"Memo";case J:t=e._payload,e=e._init;try{return je(e(t))}catch{}}return null}var qe=Array.isArray,Y=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Ke=[],ze=-1;function N(e){return{current:e}}function P(e){0>ze||(e.current=Ke[ze],Ke[ze]=null,ze--)}function U(e,t){ze++,Ke[ze]=e.current,e.current=t}var X=N(null),De=N(null),Oe=N(null),Ye=N(null);function Fe(e,t){switch(U(Oe,t),U(De,e),U(X,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?pm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=pm(t),e=mm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}P(X),U(X,e)}function Te(){P(X),P(De),P(Oe)}function Yt(e){e.memoizedState!==null&&U(Ye,e);var t=X.current,n=mm(t,e.type);t!==n&&(U(De,e),U(X,n))}function an(e){De.current===e&&(P(X),P(De)),Ye.current===e&&(P(Ye),Sl._currentValue=he)}var rt,rn;function qt(e){if(rt===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);rt=t&&t[1]||"",rn=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rt+e+rn}var _n=!1;function la(e,t){if(!e||_n)return"";_n=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var Ce=function(){throw Error()};if(Object.defineProperty(Ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ce,[])}catch(ge){var fe=ge}Reflect.construct(e,[],Ce)}else{try{Ce.call()}catch(ge){fe=ge}e.call(Ce.prototype)}}else{try{throw Error()}catch(ge){fe=ge}(Ce=e())&&typeof Ce.catch=="function"&&Ce.catch(function(){})}}catch(ge){if(ge&&fe&&typeof ge.stack=="string")return[ge.stack,fe.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=r.DetermineComponentFrameRoot(),E=f[0],T=f[1];if(E&&T){var K=E.split(`
`),de=T.split(`
`);for(u=r=0;r<K.length&&!K[r].includes("DetermineComponentFrameRoot");)r++;for(;u<de.length&&!de[u].includes("DetermineComponentFrameRoot");)u++;if(r===K.length||u===de.length)for(r=K.length-1,u=de.length-1;1<=r&&0<=u&&K[r]!==de[u];)u--;for(;1<=r&&0<=u;r--,u--)if(K[r]!==de[u]){if(r!==1||u!==1)do if(r--,u--,0>u||K[r]!==de[u]){var Ee=`
`+K[r].replace(" at new "," at ");return e.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",e.displayName)),Ee}while(1<=r&&0<=u);break}}}finally{_n=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?qt(n):""}function ca(e,t){switch(e.tag){case 26:case 27:case 5:return qt(e.type);case 16:return qt("Lazy");case 13:return e.child!==t&&t!==null?qt("Suspense Fallback"):qt("Suspense");case 19:return qt("SuspenseList");case 0:case 15:return la(e.type,!1);case 11:return la(e.type.render,!1);case 1:return la(e.type,!0);case 31:return qt("Activity");default:return""}}function ba(e){try{var t="",n=null;do t+=ca(e,n),n=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Sn=Object.prototype.hasOwnProperty,na=o.unstable_scheduleCallback,Mt=o.unstable_cancelCallback,Tt=o.unstable_shouldYield,Wt=o.unstable_requestPaint,Jt=o.unstable_now,Ra=o.unstable_getCurrentPriorityLevel,on=o.unstable_ImmediatePriority,Dn=o.unstable_UserBlockingPriority,wa=o.unstable_NormalPriority,ua=o.unstable_LowPriority,Yn=o.unstable_IdlePriority,$n=o.log,sn=o.unstable_setDisableYieldValue,da=null,ln=null;function en(e){if(typeof $n=="function"&&sn(e),ln&&typeof ln.setStrictMode=="function")try{ln.setStrictMode(da,e)}catch{}}var Ve=Math.clz32?Math.clz32:Mn,Za=Math.log,Gn=Math.LN2;function Mn(e){return e>>>=0,e===0?32:31-(Za(e)/Gn|0)|0}var He=256,za=262144,Ea=4194304;function In(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function tt(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var u=0,f=e.suspendedLanes,E=e.pingedLanes;e=e.warmLanes;var T=r&134217727;return T!==0?(r=T&~f,r!==0?u=In(r):(E&=T,E!==0?u=In(E):n||(n=T&~e,n!==0&&(u=In(n))))):(T=r&~f,T!==0?u=In(T):E!==0?u=In(E):n||(n=r&~e,n!==0&&(u=In(n)))),u===0?0:t!==0&&t!==u&&(t&f)===0&&(f=u&-u,n=t&-t,f>=n||f===32&&(n&4194048)!==0)?t:u}function kt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function tn(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gn(){var e=Ea;return Ea<<=1,(Ea&62914560)===0&&(Ea=4194304),e}function Rn(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ct(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function xn(e,t,n,r,u,f){var E=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var T=e.entanglements,K=e.expirationTimes,de=e.hiddenUpdates;for(n=E&~n;0<n;){var Ee=31-Ve(n),Ce=1<<Ee;T[Ee]=0,K[Ee]=-1;var fe=de[Ee];if(fe!==null)for(de[Ee]=null,Ee=0;Ee<fe.length;Ee++){var ge=fe[Ee];ge!==null&&(ge.lane&=-536870913)}n&=~Ce}r!==0&&aa(e,r,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(E&~t))}function aa(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Ve(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function et(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ve(n),u=1<<r;u&t|e[r]&t&&(e[r]|=t),n&=~u}}function ut(e,t){var n=t&-t;return n=(n&42)!==0?1:Wa(n),(n&(e.suspendedLanes|t))!==0?0:n}function Wa(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Bn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function no(){var e=xe.p;return e!==0?e:(e=window.event,e===void 0?32:Lm(e.type))}function $o(e,t){var n=xe.p;try{return xe.p=e,t()}finally{xe.p=n}}var sr=Math.random().toString(36).slice(2),Pt="__reactFiber$"+sr,dn="__reactProps$"+sr,ra="__reactContainer$"+sr,ao="__reactEvents$"+sr,a0="__reactListeners$"+sr,ir="__reactHandles$"+sr,Ei="__reactResources$"+sr,Sa="__reactMarker$"+sr;function _s(e){delete e[Pt],delete e[dn],delete e[ao],delete e[a0],delete e[ir]}function lr(e){var t=e[Pt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ra]||n[Pt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Em(e);e!==null;){if(n=e[Pt])return n;e=Em(e)}return t}e=n,n=e.parentNode}return null}function Rt(e){if(e=e[Pt]||e[ra]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Aa(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function Xn(e){var t=e[Ei];return t||(t=e[Ei]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function fn(e){e[Sa]=!0}var Sr=new Set,Go={};function Ja(e,t){cr(e,t),cr(e+"Capture",t)}function cr(e,t){for(Go[e]=t,e=0;e<t.length;e++)Sr.add(t[e])}var Ar=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Si={},Io={};function ql(e){return Sn.call(Io,e)?!0:Sn.call(Si,e)?!1:Ar.test(e)?Io[e]=!0:(Si[e]=!0,!1)}function pt(e,t,n){if(ql(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Xo(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Fa(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}function zn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ai(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ut(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,f=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(E){n=""+E,f.call(this,E)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(E){n=""+E},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cr(e){if(!e._valueTracker){var t=Ai(e)?"checked":"value";e._valueTracker=Ut(e,t,""+e[t])}}function ro(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ai(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function er(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ci=/[\n"\\]/g;function Qn(e){return e.replace(Ci,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function oo(e,t,n,r,u,f,E,T){e.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.type=E:e.removeAttribute("type"),t!=null?E==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+zn(t)):e.value!==""+zn(t)&&(e.value=""+zn(t)):E!=="submit"&&E!=="reset"||e.removeAttribute("value"),t!=null?so(e,E,zn(t)):n!=null?so(e,E,zn(n)):r!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+zn(T):e.removeAttribute("name")}function _i(e,t,n,r,u,f,E,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||n!=null){if(!(f!=="submit"&&f!=="reset"||t!=null)){Cr(e);return}n=n!=null?""+zn(n):"",t=t!=null?""+zn(t):n,T||t===e.value||(e.value=t),e.defaultValue=t}r=r??u,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=T?e.checked:!!r,e.defaultChecked=!!r,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(e.name=E),Cr(e)}function so(e,t,n){t==="number"&&er(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function _r(e,t,n,r){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&r&&(e[n].defaultSelected=!0)}else{for(n=""+zn(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,r&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function io(e,t,n){if(t!=null&&(t=""+zn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+zn(n):""}function Di(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(i(92));if(qe(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=zn(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r),Cr(e)}function lo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var At=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bi(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||At.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ul(e,t,n){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var u in t)r=t[u],t.hasOwnProperty(u)&&n[u]!==r&&Bi(e,u,r)}else for(var f in t)t.hasOwnProperty(f)&&Bi(e,f,t[f])}function Ti(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oa=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),co=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dr(e){return co.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Tn(){}var Ds=null;function Bs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $t=null,Fn=null;function uo(e){var t=Rt(e);if(t&&(e=t.stateNode)){var n=e[dn]||null;e:switch(e=t.stateNode,t.type){case"input":if(oo(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Qn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var u=r[dn]||null;if(!u)throw Error(i(90));oo(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&ro(r)}break e;case"textarea":io(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&_r(e,!!n.multiple,t,!1)}}}var Br=!1;function Ts(e,t,n){if(Br)return e(t,n);Br=!0;try{var r=e(t);return r}finally{if(Br=!1,($t!==null||Fn!==null)&&(Bc(),$t&&(t=$t,e=Fn,Fn=$t=null,uo(t),e)))for(t=0;t<e.length;t++)uo(e[t])}}function fa(e,t){var n=e.stateNode;if(n===null)return null;var r=n[dn]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ha=!1;if(tr)try{var Tr={};Object.defineProperty(Tr,"passive",{get:function(){ha=!0}}),window.addEventListener("test",Tr,Tr),window.removeEventListener("test",Tr,Tr)}catch{ha=!1}var nr=null,Qo=null,ur=null;function Ns(){if(ur)return ur;var e,t=Qo,n=t.length,r,u="value"in nr?nr.value:nr.textContent,f=u.length;for(e=0;e<n&&t[e]===u[e];e++);var E=n-e;for(r=1;r<=E&&t[n-r]===u[f-r];r++);return ur=u.slice(e,1<r?1-r:void 0)}function Zo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ks(){return!0}function fo(){return!1}function Zn(e){function t(n,r,u,f,E){this._reactName=n,this._targetInst=u,this.type=r,this.nativeEvent=f,this.target=E,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(n=e[T],this[T]=n?n(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ks:fo,this.isPropagationStopped=fo,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ks)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ks)},persist:function(){},isPersistent:ks}),t}var Nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kr=Zn(Nr),dr=y({},Nr,{view:0,detail:0}),Ni=Zn(dr),ki,ji,Wo,ho=y({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wo&&(Wo&&e.type==="mousemove"?(ki=e.screenX-Wo.screenX,ji=e.screenY-Wo.screenY):ji=ki=0,Wo=e),ki)},movementY:function(e){return"movementY"in e?e.movementY:ji}}),js=Zn(ho),Kl=y({},ho,{dataTransfer:0}),Os=Zn(Kl),Ms=y({},dr,{relatedTarget:0}),po=Zn(Ms),Pl=y({},Nr,{animationName:0,elapsedTime:0,pseudoElement:0}),r0=Zn(Pl),mo=y({},Nr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Oi=Zn(mo),Mi=y({},Nr,{data:0}),Rs=Zn(Mi),Ri={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function es(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Jo[e])?!!t[e]:!1}function zs(){return es}var Fs=y({},dr,{key:function(e){if(e.key){var t=Ri[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zs,charCode:function(e){return e.type==="keypress"?Zo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vl=Zn(Fs),Yl=y({},ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ts=Zn(Yl),zi=y({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zs}),jr=Zn(zi),Fi=y({},Nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Li=Zn(Fi),Ls=y({},ho,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Hi=Zn(Ls),$l=y({},Nr,{newState:0,oldState:0}),o0=Zn($l),qi=[9,13,27,32],go=tr&&"CompositionEvent"in window,ns=null;tr&&"documentMode"in document&&(ns=document.documentMode);var Ui=tr&&"TextEvent"in window&&!ns,Hs=tr&&(!go||ns&&8<ns&&11>=ns),Gl=" ",Ki=!1;function Il(e,t){switch(e){case"keyup":return qi.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pi(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Or=!1;function s0(e,t){switch(e){case"compositionend":return Pi(t);case"keypress":return t.which!==32?null:(Ki=!0,Gl);case"textInput":return e=t.data,e===Gl&&Ki?null:e;default:return null}}function Xl(e,t){if(Or)return e==="compositionend"||!go&&Il(e,t)?(e=Ns(),ur=Qo=nr=null,Or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hs&&t.locale!=="ko"?null:t.data;default:return null}}var Vi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vi[e.type]:t==="textarea"}function $i(e,t,n,r){$t?Fn?Fn.push(r):Fn=[r]:$t=r,t=Rc(t,"onChange"),0<t.length&&(n=new kr("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var as=null,rs=null;function i0(e){lm(e,0)}function Mr(e){var t=Aa(e);if(ro(t))return e}function La(e,t){if(e==="change")return t}var Qt=!1;if(tr){var xo;if(tr){var Wn="oninput"in document;if(!Wn){var Ql=document.createElement("div");Ql.setAttribute("oninput","return;"),Wn=typeof Ql.oninput=="function"}xo=Wn}else xo=!1;Qt=xo&&(!document.documentMode||9<document.documentMode)}function qs(){as&&(as.detachEvent("onpropertychange",Gi),rs=as=null)}function Gi(e){if(e.propertyName==="value"&&Mr(rs)){var t=[];$i(t,rs,e,Bs(e)),Ts(i0,t)}}function Rr(e,t,n){e==="focusin"?(qs(),as=t,rs=n,as.attachEvent("onpropertychange",Gi)):e==="focusout"&&qs()}function Ii(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mr(rs)}function yo(e,t){if(e==="click")return Mr(t)}function fr(e,t){if(e==="input"||e==="change")return Mr(t)}function Zl(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var l=typeof Object.is=="function"?Object.is:Zl;function d(e,t){if(l(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var u=n[r];if(!Sn.call(t,u)||!l(e[u],t[u]))return!1}return!0}function g(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function w(e,t){var n=g(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=g(n)}}function A(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?A(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=er(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=er(e.document)}return t}function R(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var H=tr&&"documentMode"in document&&11>=document.documentMode,$=null,Z=null,ae=null,q=!1;function ie(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;q||$==null||$!==er(r)||(r=$,"selectionStart"in r&&R(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ae&&d(ae,r)||(ae=r,r=Rc(Z,"onSelect"),0<r.length&&(t=new kr("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=$)))}function I(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ne={animationend:I("Animation","AnimationEnd"),animationiteration:I("Animation","AnimationIteration"),animationstart:I("Animation","AnimationStart"),transitionrun:I("Transition","TransitionRun"),transitionstart:I("Transition","TransitionStart"),transitioncancel:I("Transition","TransitionCancel"),transitionend:I("Transition","TransitionEnd")},oe={},re={};tr&&(re=document.createElement("div").style,"AnimationEvent"in window||(delete ne.animationend.animation,delete ne.animationiteration.animation,delete ne.animationstart.animation),"TransitionEvent"in window||delete ne.transitionend.transition);function le(e){if(oe[e])return oe[e];if(!ne[e])return e;var t=ne[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in re)return oe[e]=t[n];return e}var me=le("animationend"),ve=le("animationiteration"),we=le("animationstart"),Be=le("transitionrun"),Re=le("transitionstart"),Ne=le("transitioncancel"),ke=le("transitionend"),Pe=new Map,Ue="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ue.push("scrollEnd");function Le(e,t){Pe.set(e,t),Ja(t,[e])}var st=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},it=[],nt=0,Vt=0;function ot(){for(var e=nt,t=Vt=nt=0;t<e;){var n=it[t];it[t++]=null;var r=it[t];it[t++]=null;var u=it[t];it[t++]=null;var f=it[t];if(it[t++]=null,r!==null&&u!==null){var E=r.pending;E===null?u.next=u:(u.next=E.next,E.next=u),r.pending=u}f!==0&&kn(n,u,f)}}function hn(e,t,n,r){it[nt++]=e,it[nt++]=t,it[nt++]=n,it[nt++]=r,Vt|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function yn(e,t,n,r){return hn(e,t,n,r),qa(e)}function Ha(e,t){return hn(e,null,null,t),qa(e)}function kn(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var u=!1,f=e.return;f!==null;)f.childLanes|=n,r=f.alternate,r!==null&&(r.childLanes|=n),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&t!==null&&(u=31-Ve(n),e=f.hiddenUpdates,r=e[u],r===null?e[u]=[t]:r.push(t),t.lane=n|536870912),f):null}function qa(e){if(50<gl)throw gl=0,gd=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var hr={};function yy(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ca(e,t,n,r){return new yy(e,t,n,r)}function l0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zr(e,t){var n=e.alternate;return n===null?(n=Ca(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Vf(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Wl(e,t,n,r,u,f){var E=0;if(r=e,typeof e=="function")l0(e)&&(E=1);else if(typeof e=="string")E=Sv(e,n,X.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Se:return e=Ca(31,n,t,u),e.elementType=Se,e.lanes=f,e;case j:return os(n.children,u,f,t);case O:E=8,u|=24;break;case F:return e=Ca(12,n,t,u|2),e.elementType=F,e.lanes=f,e;case te:return e=Ca(13,n,t,u),e.elementType=te,e.lanes=f,e;case G:return e=Ca(19,n,t,u),e.elementType=G,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M:E=10;break e;case k:E=9;break e;case z:E=11;break e;case V:E=14;break e;case J:E=16,r=null;break e}E=29,n=Error(i(130,e===null?"null":typeof e,"")),r=null}return t=Ca(E,n,t,u),t.elementType=e,t.type=r,t.lanes=f,t}function os(e,t,n,r){return e=Ca(7,e,r,t),e.lanes=n,e}function c0(e,t,n){return e=Ca(6,e,null,t),e.lanes=n,e}function Yf(e){var t=Ca(18,null,null,0);return t.stateNode=e,t}function u0(e,t,n){return t=Ca(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var $f=new WeakMap;function Ua(e,t){if(typeof e=="object"&&e!==null){var n=$f.get(e);return n!==void 0?n:(t={value:e,source:t,stack:ba(t)},$f.set(e,t),t)}return{value:e,source:t,stack:ba(t)}}var Us=[],Ks=0,Jl=null,Xi=0,Ka=[],Pa=0,vo=null,pr=1,mr="";function Fr(e,t){Us[Ks++]=Xi,Us[Ks++]=Jl,Jl=e,Xi=t}function Gf(e,t,n){Ka[Pa++]=pr,Ka[Pa++]=mr,Ka[Pa++]=vo,vo=e;var r=pr;e=mr;var u=32-Ve(r)-1;r&=~(1<<u),n+=1;var f=32-Ve(t)+u;if(30<f){var E=u-u%5;f=(r&(1<<E)-1).toString(32),r>>=E,u-=E,pr=1<<32-Ve(t)+u|n<<u|r,mr=f+e}else pr=1<<f|n<<u|r,mr=e}function d0(e){e.return!==null&&(Fr(e,1),Gf(e,1,0))}function f0(e){for(;e===Jl;)Jl=Us[--Ks],Us[Ks]=null,Xi=Us[--Ks],Us[Ks]=null;for(;e===vo;)vo=Ka[--Pa],Ka[Pa]=null,mr=Ka[--Pa],Ka[Pa]=null,pr=Ka[--Pa],Ka[Pa]=null}function If(e,t){Ka[Pa++]=pr,Ka[Pa++]=mr,Ka[Pa++]=vo,pr=t.id,mr=t.overflow,vo=e}var Ln=null,Gt=null,Et=!1,bo=null,Va=!1,h0=Error(i(519));function wo(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qi(Ua(t,e)),h0}function Xf(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Pt]=e,t[dn]=r,n){case"dialog":yt("cancel",t),yt("close",t);break;case"iframe":case"object":case"embed":yt("load",t);break;case"video":case"audio":for(n=0;n<yl.length;n++)yt(yl[n],t);break;case"source":yt("error",t);break;case"img":case"image":case"link":yt("error",t),yt("load",t);break;case"details":yt("toggle",t);break;case"input":yt("invalid",t),_i(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":yt("invalid",t);break;case"textarea":yt("invalid",t),Di(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||fm(t.textContent,n)?(r.popover!=null&&(yt("beforetoggle",t),yt("toggle",t)),r.onScroll!=null&&yt("scroll",t),r.onScrollEnd!=null&&yt("scrollend",t),r.onClick!=null&&(t.onclick=Tn),t=!0):t=!1,t||wo(e,!0)}function Qf(e){for(Ln=e.return;Ln;)switch(Ln.tag){case 5:case 31:case 13:Va=!1;return;case 27:case 3:Va=!0;return;default:Ln=Ln.return}}function Ps(e){if(e!==Ln)return!1;if(!Et)return Qf(e),Et=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||kd(e.type,e.memoizedProps)),n=!n),n&&Gt&&wo(e),Qf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Gt=wm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Gt=wm(e)}else t===27?(t=Gt,Ro(e.type)?(e=zd,zd=null,Gt=e):Gt=t):Gt=Ln?$a(e.stateNode.nextSibling):null;return!0}function ss(){Gt=Ln=null,Et=!1}function p0(){var e=bo;return e!==null&&(xa===null?xa=e:xa.push.apply(xa,e),bo=null),e}function Qi(e){bo===null?bo=[e]:bo.push(e)}var m0=N(null),is=null,Lr=null;function Eo(e,t,n){U(m0,t._currentValue),t._currentValue=n}function Hr(e){e._currentValue=m0.current,P(m0)}function g0(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function x0(e,t,n,r){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var E=u.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=u;for(var K=0;K<t.length;K++)if(T.context===t[K]){f.lanes|=n,T=f.alternate,T!==null&&(T.lanes|=n),g0(f.return,n,e),r||(E=null);break e}f=T.next}}else if(u.tag===18){if(E=u.return,E===null)throw Error(i(341));E.lanes|=n,f=E.alternate,f!==null&&(f.lanes|=n),g0(E,n,e),E=null}else E=u.child;if(E!==null)E.return=u;else for(E=u;E!==null;){if(E===e){E=null;break}if(u=E.sibling,u!==null){u.return=E.return,E=u;break}E=E.return}u=E}}function Vs(e,t,n,r){e=null;for(var u=t,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var E=u.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var T=u.type;l(u.pendingProps.value,E.value)||(e!==null?e.push(T):e=[T])}}else if(u===Ye.current){if(E=u.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Sl):e=[Sl])}u=u.return}e!==null&&x0(t,e,n,r),t.flags|=262144}function ec(e){for(e=e.firstContext;e!==null;){if(!l(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ls(e){is=e,Lr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Hn(e){return Zf(is,e)}function tc(e,t){return is===null&&ls(e),Zf(e,t)}function Zf(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Lr===null){if(e===null)throw Error(i(308));Lr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Lr=Lr.next=t;return n}var vy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},by=o.unstable_scheduleCallback,wy=o.unstable_NormalPriority,vn={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function y0(){return{controller:new vy,data:new Map,refCount:0}}function Zi(e){e.refCount--,e.refCount===0&&by(wy,function(){e.controller.abort()})}var Wi=null,v0=0,Ys=0,$s=null;function Ey(e,t){if(Wi===null){var n=Wi=[];v0=0,Ys=Ed(),$s={status:"pending",value:void 0,then:function(r){n.push(r)}}}return v0++,t.then(Wf,Wf),t}function Wf(){if(--v0===0&&Wi!==null){$s!==null&&($s.status="fulfilled");var e=Wi;Wi=null,Ys=0,$s=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Sy(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(r.status="rejected",r.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),r}var Jf=Y.S;Y.S=function(e,t){zp=Jt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Ey(e,t),Jf!==null&&Jf(e,t)};var cs=N(null);function b0(){var e=cs.current;return e!==null?e:Kt.pooledCache}function nc(e,t){t===null?U(cs,cs.current):U(cs,t.pool)}function eh(){var e=b0();return e===null?null:{parent:vn._currentValue,pool:e}}var Gs=Error(i(460)),w0=Error(i(474)),ac=Error(i(542)),rc={then:function(){}};function th(e){return e=e.status,e==="fulfilled"||e==="rejected"}function nh(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Tn,Tn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,rh(e),e;default:if(typeof t.status=="string")t.then(Tn,Tn);else{if(e=Kt,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=r}},function(r){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,rh(e),e}throw ds=t,Gs}}function us(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ds=n,Gs):n}}var ds=null;function ah(){if(ds===null)throw Error(i(459));var e=ds;return ds=null,e}function rh(e){if(e===Gs||e===ac)throw Error(i(483))}var Is=null,Ji=0;function oc(e){var t=Ji;return Ji+=1,Is===null&&(Is=[]),nh(Is,e,t)}function el(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function sc(e,t){throw t.$$typeof===C?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function oh(e){function t(se,Q){if(e){var ue=se.deletions;ue===null?(se.deletions=[Q],se.flags|=16):ue.push(Q)}}function n(se,Q){if(!e)return null;for(;Q!==null;)t(se,Q),Q=Q.sibling;return null}function r(se){for(var Q=new Map;se!==null;)se.key!==null?Q.set(se.key,se):Q.set(se.index,se),se=se.sibling;return Q}function u(se,Q){return se=zr(se,Q),se.index=0,se.sibling=null,se}function f(se,Q,ue){return se.index=ue,e?(ue=se.alternate,ue!==null?(ue=ue.index,ue<Q?(se.flags|=67108866,Q):ue):(se.flags|=67108866,Q)):(se.flags|=1048576,Q)}function E(se){return e&&se.alternate===null&&(se.flags|=67108866),se}function T(se,Q,ue,Ae){return Q===null||Q.tag!==6?(Q=c0(ue,se.mode,Ae),Q.return=se,Q):(Q=u(Q,ue),Q.return=se,Q)}function K(se,Q,ue,Ae){var We=ue.type;return We===j?Ee(se,Q,ue.props.children,Ae,ue.key):Q!==null&&(Q.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===J&&us(We)===Q.type)?(Q=u(Q,ue.props),el(Q,ue),Q.return=se,Q):(Q=Wl(ue.type,ue.key,ue.props,null,se.mode,Ae),el(Q,ue),Q.return=se,Q)}function de(se,Q,ue,Ae){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ue.containerInfo||Q.stateNode.implementation!==ue.implementation?(Q=u0(ue,se.mode,Ae),Q.return=se,Q):(Q=u(Q,ue.children||[]),Q.return=se,Q)}function Ee(se,Q,ue,Ae,We){return Q===null||Q.tag!==7?(Q=os(ue,se.mode,Ae,We),Q.return=se,Q):(Q=u(Q,ue),Q.return=se,Q)}function Ce(se,Q,ue){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=c0(""+Q,se.mode,ue),Q.return=se,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case D:return ue=Wl(Q.type,Q.key,Q.props,null,se.mode,ue),el(ue,Q),ue.return=se,ue;case B:return Q=u0(Q,se.mode,ue),Q.return=se,Q;case J:return Q=us(Q),Ce(se,Q,ue)}if(qe(Q)||ye(Q))return Q=os(Q,se.mode,ue,null),Q.return=se,Q;if(typeof Q.then=="function")return Ce(se,oc(Q),ue);if(Q.$$typeof===M)return Ce(se,tc(se,Q),ue);sc(se,Q)}return null}function fe(se,Q,ue,Ae){var We=Q!==null?Q.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return We!==null?null:T(se,Q,""+ue,Ae);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case D:return ue.key===We?K(se,Q,ue,Ae):null;case B:return ue.key===We?de(se,Q,ue,Ae):null;case J:return ue=us(ue),fe(se,Q,ue,Ae)}if(qe(ue)||ye(ue))return We!==null?null:Ee(se,Q,ue,Ae,null);if(typeof ue.then=="function")return fe(se,Q,oc(ue),Ae);if(ue.$$typeof===M)return fe(se,Q,tc(se,ue),Ae);sc(se,ue)}return null}function ge(se,Q,ue,Ae,We){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return se=se.get(ue)||null,T(Q,se,""+Ae,We);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case D:return se=se.get(Ae.key===null?ue:Ae.key)||null,K(Q,se,Ae,We);case B:return se=se.get(Ae.key===null?ue:Ae.key)||null,de(Q,se,Ae,We);case J:return Ae=us(Ae),ge(se,Q,ue,Ae,We)}if(qe(Ae)||ye(Ae))return se=se.get(ue)||null,Ee(Q,se,Ae,We,null);if(typeof Ae.then=="function")return ge(se,Q,ue,oc(Ae),We);if(Ae.$$typeof===M)return ge(se,Q,ue,tc(Q,Ae),We);sc(Q,Ae)}return null}function Ge(se,Q,ue,Ae){for(var We=null,_t=null,Ze=Q,ft=Q=0,bt=null;Ze!==null&&ft<ue.length;ft++){Ze.index>ft?(bt=Ze,Ze=null):bt=Ze.sibling;var Dt=fe(se,Ze,ue[ft],Ae);if(Dt===null){Ze===null&&(Ze=bt);break}e&&Ze&&Dt.alternate===null&&t(se,Ze),Q=f(Dt,Q,ft),_t===null?We=Dt:_t.sibling=Dt,_t=Dt,Ze=bt}if(ft===ue.length)return n(se,Ze),Et&&Fr(se,ft),We;if(Ze===null){for(;ft<ue.length;ft++)Ze=Ce(se,ue[ft],Ae),Ze!==null&&(Q=f(Ze,Q,ft),_t===null?We=Ze:_t.sibling=Ze,_t=Ze);return Et&&Fr(se,ft),We}for(Ze=r(Ze);ft<ue.length;ft++)bt=ge(Ze,se,ft,ue[ft],Ae),bt!==null&&(e&&bt.alternate!==null&&Ze.delete(bt.key===null?ft:bt.key),Q=f(bt,Q,ft),_t===null?We=bt:_t.sibling=bt,_t=bt);return e&&Ze.forEach(function(qo){return t(se,qo)}),Et&&Fr(se,ft),We}function at(se,Q,ue,Ae){if(ue==null)throw Error(i(151));for(var We=null,_t=null,Ze=Q,ft=Q=0,bt=null,Dt=ue.next();Ze!==null&&!Dt.done;ft++,Dt=ue.next()){Ze.index>ft?(bt=Ze,Ze=null):bt=Ze.sibling;var qo=fe(se,Ze,Dt.value,Ae);if(qo===null){Ze===null&&(Ze=bt);break}e&&Ze&&qo.alternate===null&&t(se,Ze),Q=f(qo,Q,ft),_t===null?We=qo:_t.sibling=qo,_t=qo,Ze=bt}if(Dt.done)return n(se,Ze),Et&&Fr(se,ft),We;if(Ze===null){for(;!Dt.done;ft++,Dt=ue.next())Dt=Ce(se,Dt.value,Ae),Dt!==null&&(Q=f(Dt,Q,ft),_t===null?We=Dt:_t.sibling=Dt,_t=Dt);return Et&&Fr(se,ft),We}for(Ze=r(Ze);!Dt.done;ft++,Dt=ue.next())Dt=ge(Ze,se,ft,Dt.value,Ae),Dt!==null&&(e&&Dt.alternate!==null&&Ze.delete(Dt.key===null?ft:Dt.key),Q=f(Dt,Q,ft),_t===null?We=Dt:_t.sibling=Dt,_t=Dt);return e&&Ze.forEach(function(Mv){return t(se,Mv)}),Et&&Fr(se,ft),We}function Lt(se,Q,ue,Ae){if(typeof ue=="object"&&ue!==null&&ue.type===j&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case D:e:{for(var We=ue.key;Q!==null;){if(Q.key===We){if(We=ue.type,We===j){if(Q.tag===7){n(se,Q.sibling),Ae=u(Q,ue.props.children),Ae.return=se,se=Ae;break e}}else if(Q.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===J&&us(We)===Q.type){n(se,Q.sibling),Ae=u(Q,ue.props),el(Ae,ue),Ae.return=se,se=Ae;break e}n(se,Q);break}else t(se,Q);Q=Q.sibling}ue.type===j?(Ae=os(ue.props.children,se.mode,Ae,ue.key),Ae.return=se,se=Ae):(Ae=Wl(ue.type,ue.key,ue.props,null,se.mode,Ae),el(Ae,ue),Ae.return=se,se=Ae)}return E(se);case B:e:{for(We=ue.key;Q!==null;){if(Q.key===We)if(Q.tag===4&&Q.stateNode.containerInfo===ue.containerInfo&&Q.stateNode.implementation===ue.implementation){n(se,Q.sibling),Ae=u(Q,ue.children||[]),Ae.return=se,se=Ae;break e}else{n(se,Q);break}else t(se,Q);Q=Q.sibling}Ae=u0(ue,se.mode,Ae),Ae.return=se,se=Ae}return E(se);case J:return ue=us(ue),Lt(se,Q,ue,Ae)}if(qe(ue))return Ge(se,Q,ue,Ae);if(ye(ue)){if(We=ye(ue),typeof We!="function")throw Error(i(150));return ue=We.call(ue),at(se,Q,ue,Ae)}if(typeof ue.then=="function")return Lt(se,Q,oc(ue),Ae);if(ue.$$typeof===M)return Lt(se,Q,tc(se,ue),Ae);sc(se,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint"?(ue=""+ue,Q!==null&&Q.tag===6?(n(se,Q.sibling),Ae=u(Q,ue),Ae.return=se,se=Ae):(n(se,Q),Ae=c0(ue,se.mode,Ae),Ae.return=se,se=Ae),E(se)):n(se,Q)}return function(se,Q,ue,Ae){try{Ji=0;var We=Lt(se,Q,ue,Ae);return Is=null,We}catch(Ze){if(Ze===Gs||Ze===ac)throw Ze;var _t=Ca(29,Ze,null,se.mode);return _t.lanes=Ae,_t.return=se,_t}finally{}}}var fs=oh(!0),sh=oh(!1),So=!1;function E0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function S0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ao(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Co(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Nt&2)!==0){var u=r.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),r.pending=t,t=qa(e),kn(e,null,n),t}return hn(e,r,t,n),qa(e)}function tl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,et(e,n)}}function A0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var u=null,f=null;if(n=n.firstBaseUpdate,n!==null){do{var E={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};f===null?u=f=E:f=f.next=E,n=n.next}while(n!==null);f===null?u=f=t:f=f.next=t}else u=f=t;n={baseState:r.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var C0=!1;function nl(){if(C0){var e=$s;if(e!==null)throw e}}function al(e,t,n,r){C0=!1;var u=e.updateQueue;So=!1;var f=u.firstBaseUpdate,E=u.lastBaseUpdate,T=u.shared.pending;if(T!==null){u.shared.pending=null;var K=T,de=K.next;K.next=null,E===null?f=de:E.next=de,E=K;var Ee=e.alternate;Ee!==null&&(Ee=Ee.updateQueue,T=Ee.lastBaseUpdate,T!==E&&(T===null?Ee.firstBaseUpdate=de:T.next=de,Ee.lastBaseUpdate=K))}if(f!==null){var Ce=u.baseState;E=0,Ee=de=K=null,T=f;do{var fe=T.lane&-536870913,ge=fe!==T.lane;if(ge?(vt&fe)===fe:(r&fe)===fe){fe!==0&&fe===Ys&&(C0=!0),Ee!==null&&(Ee=Ee.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ge=e,at=T;fe=t;var Lt=n;switch(at.tag){case 1:if(Ge=at.payload,typeof Ge=="function"){Ce=Ge.call(Lt,Ce,fe);break e}Ce=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=at.payload,fe=typeof Ge=="function"?Ge.call(Lt,Ce,fe):Ge,fe==null)break e;Ce=y({},Ce,fe);break e;case 2:So=!0}}fe=T.callback,fe!==null&&(e.flags|=64,ge&&(e.flags|=8192),ge=u.callbacks,ge===null?u.callbacks=[fe]:ge.push(fe))}else ge={lane:fe,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Ee===null?(de=Ee=ge,K=Ce):Ee=Ee.next=ge,E|=fe;if(T=T.next,T===null){if(T=u.shared.pending,T===null)break;ge=T,T=ge.next,ge.next=null,u.lastBaseUpdate=ge,u.shared.pending=null}}while(!0);Ee===null&&(K=Ce),u.baseState=K,u.firstBaseUpdate=de,u.lastBaseUpdate=Ee,f===null&&(u.shared.lanes=0),No|=E,e.lanes=E,e.memoizedState=Ce}}function ih(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function lh(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)ih(n[e],t)}var Xs=N(null),ic=N(0);function ch(e,t){e=Ir,U(ic,e),U(Xs,t),Ir=e|t.baseLanes}function _0(){U(ic,Ir),U(Xs,Xs.current)}function D0(){Ir=ic.current,P(Xs),P(ic)}var _a=N(null),Ya=null;function _o(e){var t=e.alternate;U(pn,pn.current&1),U(_a,e),Ya===null&&(t===null||Xs.current!==null||t.memoizedState!==null)&&(Ya=e)}function B0(e){U(pn,pn.current),U(_a,e),Ya===null&&(Ya=e)}function uh(e){e.tag===22?(U(pn,pn.current),U(_a,e),Ya===null&&(Ya=e)):Do()}function Do(){U(pn,pn.current),U(_a,_a.current)}function Da(e){P(_a),Ya===e&&(Ya=null),P(pn)}var pn=N(0);function lc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Md(n)||Rd(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qr=0,dt=null,zt=null,bn=null,cc=!1,Qs=!1,hs=!1,uc=0,rl=0,Zs=null,Ay=0;function cn(){throw Error(i(321))}function T0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!l(e[n],t[n]))return!1;return!0}function N0(e,t,n,r,u,f){return qr=f,dt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Y.H=e===null||e.memoizedState===null?Gh:Y0,hs=!1,f=n(r,u),hs=!1,Qs&&(f=fh(t,n,r,u)),dh(e),f}function dh(e){Y.H=il;var t=zt!==null&&zt.next!==null;if(qr=0,bn=zt=dt=null,cc=!1,rl=0,Zs=null,t)throw Error(i(300));e===null||wn||(e=e.dependencies,e!==null&&ec(e)&&(wn=!0))}function fh(e,t,n,r){dt=e;var u=0;do{if(Qs&&(Zs=null),rl=0,Qs=!1,25<=u)throw Error(i(301));if(u+=1,bn=zt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Y.H=Ih,f=t(n,r)}while(Qs);return f}function Cy(){var e=Y.H,t=e.useState()[0];return t=typeof t.then=="function"?ol(t):t,e=e.useState()[0],(zt!==null?zt.memoizedState:null)!==e&&(dt.flags|=1024),t}function k0(){var e=uc!==0;return uc=0,e}function j0(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function O0(e){if(cc){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}cc=!1}qr=0,bn=zt=dt=null,Qs=!1,rl=uc=0,Zs=null}function sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?dt.memoizedState=bn=e:bn=bn.next=e,bn}function mn(){if(zt===null){var e=dt.alternate;e=e!==null?e.memoizedState:null}else e=zt.next;var t=bn===null?dt.memoizedState:bn.next;if(t!==null)bn=t,zt=e;else{if(e===null)throw dt.alternate===null?Error(i(467)):Error(i(310));zt=e,e={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},bn===null?dt.memoizedState=bn=e:bn=bn.next=e}return bn}function dc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ol(e){var t=rl;return rl+=1,Zs===null&&(Zs=[]),e=nh(Zs,e,t),t=dt,(bn===null?t.memoizedState:bn.next)===null&&(t=t.alternate,Y.H=t===null||t.memoizedState===null?Gh:Y0),e}function fc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ol(e);if(e.$$typeof===M)return Hn(e)}throw Error(i(438,String(e)))}function M0(e){var t=null,n=dt.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=dt.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=dc(),dt.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=ee;return t.index++,n}function Ur(e,t){return typeof t=="function"?t(e):t}function hc(e){var t=mn();return R0(t,zt,e)}function R0(e,t,n){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=n;var u=e.baseQueue,f=r.pending;if(f!==null){if(u!==null){var E=u.next;u.next=f.next,f.next=E}t.baseQueue=u=f,r.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{t=u.next;var T=E=null,K=null,de=t,Ee=!1;do{var Ce=de.lane&-536870913;if(Ce!==de.lane?(vt&Ce)===Ce:(qr&Ce)===Ce){var fe=de.revertLane;if(fe===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),Ce===Ys&&(Ee=!0);else if((qr&fe)===fe){de=de.next,fe===Ys&&(Ee=!0);continue}else Ce={lane:0,revertLane:de.revertLane,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},K===null?(T=K=Ce,E=f):K=K.next=Ce,dt.lanes|=fe,No|=fe;Ce=de.action,hs&&n(f,Ce),f=de.hasEagerState?de.eagerState:n(f,Ce)}else fe={lane:Ce,revertLane:de.revertLane,gesture:de.gesture,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},K===null?(T=K=fe,E=f):K=K.next=fe,dt.lanes|=Ce,No|=Ce;de=de.next}while(de!==null&&de!==t);if(K===null?E=f:K.next=T,!l(f,e.memoizedState)&&(wn=!0,Ee&&(n=$s,n!==null)))throw n;e.memoizedState=f,e.baseState=E,e.baseQueue=K,r.lastRenderedState=f}return u===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function z0(e){var t=mn(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,u=n.pending,f=t.memoizedState;if(u!==null){n.pending=null;var E=u=u.next;do f=e(f,E.action),E=E.next;while(E!==u);l(f,t.memoizedState)||(wn=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),n.lastRenderedState=f}return[f,r]}function hh(e,t,n){var r=dt,u=mn(),f=Et;if(f){if(n===void 0)throw Error(i(407));n=n()}else n=t();var E=!l((zt||u).memoizedState,n);if(E&&(u.memoizedState=n,wn=!0),u=u.queue,H0(gh.bind(null,r,u,e),[e]),u.getSnapshot!==t||E||bn!==null&&bn.memoizedState.tag&1){if(r.flags|=2048,Ws(9,{destroy:void 0},mh.bind(null,r,u,n,t),null),Kt===null)throw Error(i(349));f||(qr&127)!==0||ph(r,t,n)}return n}function ph(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=dt.updateQueue,t===null?(t=dc(),dt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function mh(e,t,n,r){t.value=n,t.getSnapshot=r,xh(t)&&yh(e)}function gh(e,t,n){return n(function(){xh(t)&&yh(e)})}function xh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!l(e,n)}catch{return!0}}function yh(e){var t=Ha(e,2);t!==null&&ya(t,e,2)}function F0(e){var t=sa();if(typeof e=="function"){var n=e;if(e=n(),hs){en(!0);try{n()}finally{en(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ur,lastRenderedState:e},t}function vh(e,t,n,r){return e.baseState=n,R0(e,zt,typeof r=="function"?r:Ur)}function _y(e,t,n,r,u){if(gc(e))throw Error(i(485));if(e=t.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){f.listeners.push(E)}};Y.T!==null?n(!0):f.isTransition=!1,r(f),n=t.pending,n===null?(f.next=t.pending=f,bh(t,f)):(f.next=n.next,t.pending=n.next=f)}}function bh(e,t){var n=t.action,r=t.payload,u=e.state;if(t.isTransition){var f=Y.T,E={};Y.T=E;try{var T=n(u,r),K=Y.S;K!==null&&K(E,T),wh(e,t,T)}catch(de){L0(e,t,de)}finally{f!==null&&E.types!==null&&(f.types=E.types),Y.T=f}}else try{f=n(u,r),wh(e,t,f)}catch(de){L0(e,t,de)}}function wh(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){Eh(e,t,r)},function(r){return L0(e,t,r)}):Eh(e,t,n)}function Eh(e,t,n){t.status="fulfilled",t.value=n,Sh(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,bh(e,n)))}function L0(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,Sh(t),t=t.next;while(t!==r)}e.action=null}function Sh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ah(e,t){return t}function Ch(e,t){if(Et){var n=Kt.formState;if(n!==null){e:{var r=dt;if(Et){if(Gt){t:{for(var u=Gt,f=Va;u.nodeType!==8;){if(!f){u=null;break t}if(u=$a(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){Gt=$a(u.nextSibling),r=u.data==="F!";break e}}wo(r)}r=!1}r&&(t=n[0])}}return n=sa(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ah,lastRenderedState:t},n.queue=r,n=Vh.bind(null,dt,r),r.dispatch=n,r=F0(!1),f=V0.bind(null,dt,!1,r.queue),r=sa(),u={state:t,dispatch:null,action:e,pending:null},r.queue=u,n=_y.bind(null,dt,u,f,n),u.dispatch=n,r.memoizedState=e,[t,n,!1]}function _h(e){var t=mn();return Dh(t,zt,e)}function Dh(e,t,n){if(t=R0(e,t,Ah)[0],e=hc(Ur)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=ol(t)}catch(E){throw E===Gs?ac:E}else r=t;t=mn();var u=t.queue,f=u.dispatch;return n!==t.memoizedState&&(dt.flags|=2048,Ws(9,{destroy:void 0},Dy.bind(null,u,n),null)),[r,f,e]}function Dy(e,t){e.action=t}function Bh(e){var t=mn(),n=zt;if(n!==null)return Dh(t,n,e);mn(),t=t.memoizedState,n=mn();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Ws(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=dt.updateQueue,t===null&&(t=dc(),dt.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Th(){return mn().memoizedState}function pc(e,t,n,r){var u=sa();dt.flags|=e,u.memoizedState=Ws(1|t,{destroy:void 0},n,r===void 0?null:r)}function mc(e,t,n,r){var u=mn();r=r===void 0?null:r;var f=u.memoizedState.inst;zt!==null&&r!==null&&T0(r,zt.memoizedState.deps)?u.memoizedState=Ws(t,f,n,r):(dt.flags|=e,u.memoizedState=Ws(1|t,f,n,r))}function Nh(e,t){pc(8390656,8,e,t)}function H0(e,t){mc(2048,8,e,t)}function By(e){dt.flags|=4;var t=dt.updateQueue;if(t===null)t=dc(),dt.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function kh(e){var t=mn().memoizedState;return By({ref:t,nextImpl:e}),function(){if((Nt&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function jh(e,t){return mc(4,2,e,t)}function Oh(e,t){return mc(4,4,e,t)}function Mh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Rh(e,t,n){n=n!=null?n.concat([e]):null,mc(4,4,Mh.bind(null,t,e),n)}function q0(){}function zh(e,t){var n=mn();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&T0(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Fh(e,t){var n=mn();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&T0(t,r[1]))return r[0];if(r=e(),hs){en(!0);try{e()}finally{en(!1)}}return n.memoizedState=[r,t],r}function U0(e,t,n){return n===void 0||(qr&1073741824)!==0&&(vt&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Lp(),dt.lanes|=e,No|=e,n)}function Lh(e,t,n,r){return l(n,t)?n:Xs.current!==null?(e=U0(e,n,r),l(e,t)||(wn=!0),e):(qr&42)===0||(qr&1073741824)!==0&&(vt&261930)===0?(wn=!0,e.memoizedState=n):(e=Lp(),dt.lanes|=e,No|=e,t)}function Hh(e,t,n,r,u){var f=xe.p;xe.p=f!==0&&8>f?f:8;var E=Y.T,T={};Y.T=T,V0(e,!1,t,n);try{var K=u(),de=Y.S;if(de!==null&&de(T,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var Ee=Sy(K,r);sl(e,t,Ee,Na(e))}else sl(e,t,r,Na(e))}catch(Ce){sl(e,t,{then:function(){},status:"rejected",reason:Ce},Na())}finally{xe.p=f,E!==null&&T.types!==null&&(E.types=T.types),Y.T=E}}function Ty(){}function K0(e,t,n,r){if(e.tag!==5)throw Error(i(476));var u=qh(e).queue;Hh(e,u,t,he,n===null?Ty:function(){return Uh(e),n(r)})}function qh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ur,lastRenderedState:he},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ur,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Uh(e){var t=qh(e);t.next===null&&(t=e.alternate.memoizedState),sl(e,t.next.queue,{},Na())}function P0(){return Hn(Sl)}function Kh(){return mn().memoizedState}function Ph(){return mn().memoizedState}function Ny(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Na();e=Ao(n);var r=Co(t,e,n);r!==null&&(ya(r,t,n),tl(r,t,n)),t={cache:y0()},e.payload=t;return}t=t.return}}function ky(e,t,n){var r=Na();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},gc(e)?Yh(t,n):(n=yn(e,t,n,r),n!==null&&(ya(n,e,r),$h(n,t,r)))}function Vh(e,t,n){var r=Na();sl(e,t,n,r)}function sl(e,t,n,r){var u={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(gc(e))Yh(t,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var E=t.lastRenderedState,T=f(E,n);if(u.hasEagerState=!0,u.eagerState=T,l(T,E))return hn(e,t,u,0),Kt===null&&ot(),!1}catch{}finally{}if(n=yn(e,t,u,r),n!==null)return ya(n,e,r),$h(n,t,r),!0}return!1}function V0(e,t,n,r){if(r={lane:2,revertLane:Ed(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},gc(e)){if(t)throw Error(i(479))}else t=yn(e,n,r,2),t!==null&&ya(t,e,2)}function gc(e){var t=e.alternate;return e===dt||t!==null&&t===dt}function Yh(e,t){Qs=cc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $h(e,t,n){if((n&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,et(e,n)}}var il={readContext:Hn,use:fc,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useLayoutEffect:cn,useInsertionEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useSyncExternalStore:cn,useId:cn,useHostTransitionStatus:cn,useFormState:cn,useActionState:cn,useOptimistic:cn,useMemoCache:cn,useCacheRefresh:cn};il.useEffectEvent=cn;var Gh={readContext:Hn,use:fc,useCallback:function(e,t){return sa().memoizedState=[e,t===void 0?null:t],e},useContext:Hn,useEffect:Nh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,pc(4194308,4,Mh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return pc(4194308,4,e,t)},useInsertionEffect:function(e,t){pc(4,2,e,t)},useMemo:function(e,t){var n=sa();t=t===void 0?null:t;var r=e();if(hs){en(!0);try{e()}finally{en(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=sa();if(n!==void 0){var u=n(t);if(hs){en(!0);try{n(t)}finally{en(!1)}}}else u=t;return r.memoizedState=r.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},r.queue=e,e=e.dispatch=ky.bind(null,dt,e),[r.memoizedState,e]},useRef:function(e){var t=sa();return e={current:e},t.memoizedState=e},useState:function(e){e=F0(e);var t=e.queue,n=Vh.bind(null,dt,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:q0,useDeferredValue:function(e,t){var n=sa();return U0(n,e,t)},useTransition:function(){var e=F0(!1);return e=Hh.bind(null,dt,e.queue,!0,!1),sa().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=dt,u=sa();if(Et){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),Kt===null)throw Error(i(349));(vt&127)!==0||ph(r,t,n)}u.memoizedState=n;var f={value:n,getSnapshot:t};return u.queue=f,Nh(gh.bind(null,r,f,e),[e]),r.flags|=2048,Ws(9,{destroy:void 0},mh.bind(null,r,f,n,t),null),n},useId:function(){var e=sa(),t=Kt.identifierPrefix;if(Et){var n=mr,r=pr;n=(r&~(1<<32-Ve(r)-1)).toString(32)+n,t="_"+t+"R_"+n,n=uc++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Ay++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:P0,useFormState:Ch,useActionState:Ch,useOptimistic:function(e){var t=sa();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=V0.bind(null,dt,!0,n),n.dispatch=t,[e,t]},useMemoCache:M0,useCacheRefresh:function(){return sa().memoizedState=Ny.bind(null,dt)},useEffectEvent:function(e){var t=sa(),n={impl:e};return t.memoizedState=n,function(){if((Nt&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},Y0={readContext:Hn,use:fc,useCallback:zh,useContext:Hn,useEffect:H0,useImperativeHandle:Rh,useInsertionEffect:jh,useLayoutEffect:Oh,useMemo:Fh,useReducer:hc,useRef:Th,useState:function(){return hc(Ur)},useDebugValue:q0,useDeferredValue:function(e,t){var n=mn();return Lh(n,zt.memoizedState,e,t)},useTransition:function(){var e=hc(Ur)[0],t=mn().memoizedState;return[typeof e=="boolean"?e:ol(e),t]},useSyncExternalStore:hh,useId:Kh,useHostTransitionStatus:P0,useFormState:_h,useActionState:_h,useOptimistic:function(e,t){var n=mn();return vh(n,zt,e,t)},useMemoCache:M0,useCacheRefresh:Ph};Y0.useEffectEvent=kh;var Ih={readContext:Hn,use:fc,useCallback:zh,useContext:Hn,useEffect:H0,useImperativeHandle:Rh,useInsertionEffect:jh,useLayoutEffect:Oh,useMemo:Fh,useReducer:z0,useRef:Th,useState:function(){return z0(Ur)},useDebugValue:q0,useDeferredValue:function(e,t){var n=mn();return zt===null?U0(n,e,t):Lh(n,zt.memoizedState,e,t)},useTransition:function(){var e=z0(Ur)[0],t=mn().memoizedState;return[typeof e=="boolean"?e:ol(e),t]},useSyncExternalStore:hh,useId:Kh,useHostTransitionStatus:P0,useFormState:Bh,useActionState:Bh,useOptimistic:function(e,t){var n=mn();return zt!==null?vh(n,zt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:M0,useCacheRefresh:Ph};Ih.useEffectEvent=kh;function $0(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:y({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var G0={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Na(),u=Ao(r);u.payload=t,n!=null&&(u.callback=n),t=Co(e,u,r),t!==null&&(ya(t,e,r),tl(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Na(),u=Ao(r);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Co(e,u,r),t!==null&&(ya(t,e,r),tl(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Na(),r=Ao(n);r.tag=2,t!=null&&(r.callback=t),t=Co(e,r,n),t!==null&&(ya(t,e,n),tl(t,e,n))}};function Xh(e,t,n,r,u,f,E){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,f,E):t.prototype&&t.prototype.isPureReactComponent?!d(n,r)||!d(u,f):!0}function Qh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&G0.enqueueReplaceState(t,t.state,null)}function ps(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=y({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}function Zh(e){st(e)}function Wh(e){console.error(e)}function Jh(e){st(e)}function xc(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function ep(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function I0(e,t,n){return n=Ao(n),n.tag=3,n.payload={element:null},n.callback=function(){xc(e,t)},n}function tp(e){return e=Ao(e),e.tag=3,e}function np(e,t,n,r){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var f=r.value;e.payload=function(){return u(f)},e.callback=function(){ep(t,n,r)}}var E=n.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(e.callback=function(){ep(t,n,r),typeof u!="function"&&(ko===null?ko=new Set([this]):ko.add(this));var T=r.stack;this.componentDidCatch(r.value,{componentStack:T!==null?T:""})})}function jy(e,t,n,r,u){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&Vs(t,n,u,!0),n=_a.current,n!==null){switch(n.tag){case 31:case 13:return Ya===null?Tc():n.alternate===null&&un===0&&(un=3),n.flags&=-257,n.flags|=65536,n.lanes=u,r===rc?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),vd(e,r,u)),!1;case 22:return n.flags|=65536,r===rc?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),vd(e,r,u)),!1}throw Error(i(435,n.tag))}return vd(e,r,u),Tc(),!1}if(Et)return t=_a.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,r!==h0&&(e=Error(i(422),{cause:r}),Qi(Ua(e,n)))):(r!==h0&&(t=Error(i(423),{cause:r}),Qi(Ua(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,r=Ua(r,n),u=I0(e.stateNode,r,u),A0(e,u),un!==4&&(un=2)),!1;var f=Error(i(520),{cause:r});if(f=Ua(f,n),ml===null?ml=[f]:ml.push(f),un!==4&&(un=2),t===null)return!0;r=Ua(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=I0(n.stateNode,r,e),A0(n,e),!1;case 1:if(t=n.type,f=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ko===null||!ko.has(f))))return n.flags|=65536,u&=-u,n.lanes|=u,u=tp(u),np(u,e,n,r),A0(n,u),!1}n=n.return}while(n!==null);return!1}var X0=Error(i(461)),wn=!1;function qn(e,t,n,r){t.child=e===null?sh(t,null,n,r):fs(t,e.child,n,r)}function ap(e,t,n,r,u){n=n.render;var f=t.ref;if("ref"in r){var E={};for(var T in r)T!=="ref"&&(E[T]=r[T])}else E=r;return ls(t),r=N0(e,t,n,E,f,u),T=k0(),e!==null&&!wn?(j0(e,t,u),Kr(e,t,u)):(Et&&T&&d0(t),t.flags|=1,qn(e,t,r,u),t.child)}function rp(e,t,n,r,u){if(e===null){var f=n.type;return typeof f=="function"&&!l0(f)&&f.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=f,op(e,t,f,r,u)):(e=Wl(n.type,null,r,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!ad(e,u)){var E=f.memoizedProps;if(n=n.compare,n=n!==null?n:d,n(E,r)&&e.ref===t.ref)return Kr(e,t,u)}return t.flags|=1,e=zr(f,r),e.ref=t.ref,e.return=t,t.child=e}function op(e,t,n,r,u){if(e!==null){var f=e.memoizedProps;if(d(f,r)&&e.ref===t.ref)if(wn=!1,t.pendingProps=r=f,ad(e,u))(e.flags&131072)!==0&&(wn=!0);else return t.lanes=e.lanes,Kr(e,t,u)}return Q0(e,t,n,r,u)}function sp(e,t,n,r){var u=r.children,f=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(f=f!==null?f.baseLanes|n:n,e!==null){for(r=t.child=e.child,u=0;r!==null;)u=u|r.lanes|r.childLanes,r=r.sibling;r=u&~f}else r=0,t.child=null;return ip(e,t,f,n,r)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&nc(t,f!==null?f.cachePool:null),f!==null?ch(t,f):_0(),uh(t);else return r=t.lanes=536870912,ip(e,t,f!==null?f.baseLanes|n:n,n,r)}else f!==null?(nc(t,f.cachePool),ch(t,f),Do(),t.memoizedState=null):(e!==null&&nc(t,null),_0(),Do());return qn(e,t,u,n),t.child}function ll(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function ip(e,t,n,r,u){var f=b0();return f=f===null?null:{parent:vn._currentValue,pool:f},t.memoizedState={baseLanes:n,cachePool:f},e!==null&&nc(t,null),_0(),uh(t),e!==null&&Vs(e,t,r,!0),t.childLanes=u,null}function yc(e,t){return t=bc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function lp(e,t,n){return fs(t,e.child,null,n),e=yc(t,t.pendingProps),e.flags|=2,Da(t),t.memoizedState=null,e}function Oy(e,t,n){var r=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Et){if(r.mode==="hidden")return e=yc(t,r),t.lanes=536870912,ll(null,e);if(B0(t),(e=Gt)?(e=bm(e,Va),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:vo!==null?{id:pr,overflow:mr}:null,retryLane:536870912,hydrationErrors:null},n=Yf(e),n.return=t,t.child=n,Ln=t,Gt=null)):e=null,e===null)throw wo(t);return t.lanes=536870912,null}return yc(t,r)}var f=e.memoizedState;if(f!==null){var E=f.dehydrated;if(B0(t),u)if(t.flags&256)t.flags&=-257,t=lp(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(wn||Vs(e,t,n,!1),u=(n&e.childLanes)!==0,wn||u){if(r=Kt,r!==null&&(E=ut(r,n),E!==0&&E!==f.retryLane))throw f.retryLane=E,Ha(e,E),ya(r,e,E),X0;Tc(),t=lp(e,t,n)}else e=f.treeContext,Gt=$a(E.nextSibling),Ln=t,Et=!0,bo=null,Va=!1,e!==null&&If(t,e),t=yc(t,r),t.flags|=4096;return t}return e=zr(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function vc(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Q0(e,t,n,r,u){return ls(t),n=N0(e,t,n,r,void 0,u),r=k0(),e!==null&&!wn?(j0(e,t,u),Kr(e,t,u)):(Et&&r&&d0(t),t.flags|=1,qn(e,t,n,u),t.child)}function cp(e,t,n,r,u,f){return ls(t),t.updateQueue=null,n=fh(t,r,n,u),dh(e),r=k0(),e!==null&&!wn?(j0(e,t,f),Kr(e,t,f)):(Et&&r&&d0(t),t.flags|=1,qn(e,t,n,f),t.child)}function up(e,t,n,r,u){if(ls(t),t.stateNode===null){var f=hr,E=n.contextType;typeof E=="object"&&E!==null&&(f=Hn(E)),f=new n(r,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=G0,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=r,f.state=t.memoizedState,f.refs={},E0(t),E=n.contextType,f.context=typeof E=="object"&&E!==null?Hn(E):hr,f.state=t.memoizedState,E=n.getDerivedStateFromProps,typeof E=="function"&&($0(t,n,E,r),f.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(E=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),E!==f.state&&G0.enqueueReplaceState(f,f.state,null),al(t,r,f,u),nl(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){f=t.stateNode;var T=t.memoizedProps,K=ps(n,T);f.props=K;var de=f.context,Ee=n.contextType;E=hr,typeof Ee=="object"&&Ee!==null&&(E=Hn(Ee));var Ce=n.getDerivedStateFromProps;Ee=typeof Ce=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=t.pendingProps!==T,Ee||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||de!==E)&&Qh(t,f,r,E),So=!1;var fe=t.memoizedState;f.state=fe,al(t,r,f,u),nl(),de=t.memoizedState,T||fe!==de||So?(typeof Ce=="function"&&($0(t,n,Ce,r),de=t.memoizedState),(K=So||Xh(t,n,K,r,fe,de,E))?(Ee||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=de),f.props=r,f.state=de,f.context=E,r=K):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{f=t.stateNode,S0(e,t),E=t.memoizedProps,Ee=ps(n,E),f.props=Ee,Ce=t.pendingProps,fe=f.context,de=n.contextType,K=hr,typeof de=="object"&&de!==null&&(K=Hn(de)),T=n.getDerivedStateFromProps,(de=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E!==Ce||fe!==K)&&Qh(t,f,r,K),So=!1,fe=t.memoizedState,f.state=fe,al(t,r,f,u),nl();var ge=t.memoizedState;E!==Ce||fe!==ge||So||e!==null&&e.dependencies!==null&&ec(e.dependencies)?(typeof T=="function"&&($0(t,n,T,r),ge=t.memoizedState),(Ee=So||Xh(t,n,Ee,r,fe,ge,K)||e!==null&&e.dependencies!==null&&ec(e.dependencies))?(de||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(r,ge,K),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(r,ge,K)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||E===e.memoizedProps&&fe===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&fe===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=ge),f.props=r,f.state=ge,f.context=K,r=Ee):(typeof f.componentDidUpdate!="function"||E===e.memoizedProps&&fe===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&fe===e.memoizedState||(t.flags|=1024),r=!1)}return f=r,vc(e,t),r=(t.flags&128)!==0,f||r?(f=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&r?(t.child=fs(t,e.child,null,u),t.child=fs(t,null,n,u)):qn(e,t,n,u),t.memoizedState=f.state,e=t.child):e=Kr(e,t,u),e}function dp(e,t,n,r){return ss(),t.flags|=256,qn(e,t,n,r),t.child}var Z0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function W0(e){return{baseLanes:e,cachePool:eh()}}function J0(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Ta),e}function fp(e,t,n){var r=t.pendingProps,u=!1,f=(t.flags&128)!==0,E;if((E=f)||(E=e!==null&&e.memoizedState===null?!1:(pn.current&2)!==0),E&&(u=!0,t.flags&=-129),E=(t.flags&32)!==0,t.flags&=-33,e===null){if(Et){if(u?_o(t):Do(),(e=Gt)?(e=bm(e,Va),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:vo!==null?{id:pr,overflow:mr}:null,retryLane:536870912,hydrationErrors:null},n=Yf(e),n.return=t,t.child=n,Ln=t,Gt=null)):e=null,e===null)throw wo(t);return Rd(e)?t.lanes=32:t.lanes=536870912,null}var T=r.children;return r=r.fallback,u?(Do(),u=t.mode,T=bc({mode:"hidden",children:T},u),r=os(r,u,n,null),T.return=t,r.return=t,T.sibling=r,t.child=T,r=t.child,r.memoizedState=W0(n),r.childLanes=J0(e,E,n),t.memoizedState=Z0,ll(null,r)):(_o(t),ed(t,T))}var K=e.memoizedState;if(K!==null&&(T=K.dehydrated,T!==null)){if(f)t.flags&256?(_o(t),t.flags&=-257,t=td(e,t,n)):t.memoizedState!==null?(Do(),t.child=e.child,t.flags|=128,t=null):(Do(),T=r.fallback,u=t.mode,r=bc({mode:"visible",children:r.children},u),T=os(T,u,n,null),T.flags|=2,r.return=t,T.return=t,r.sibling=T,t.child=r,fs(t,e.child,null,n),r=t.child,r.memoizedState=W0(n),r.childLanes=J0(e,E,n),t.memoizedState=Z0,t=ll(null,r));else if(_o(t),Rd(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var de=E.dgst;E=de,r=Error(i(419)),r.stack="",r.digest=E,Qi({value:r,source:null,stack:null}),t=td(e,t,n)}else if(wn||Vs(e,t,n,!1),E=(n&e.childLanes)!==0,wn||E){if(E=Kt,E!==null&&(r=ut(E,n),r!==0&&r!==K.retryLane))throw K.retryLane=r,Ha(e,r),ya(E,e,r),X0;Md(T)||Tc(),t=td(e,t,n)}else Md(T)?(t.flags|=192,t.child=e.child,t=null):(e=K.treeContext,Gt=$a(T.nextSibling),Ln=t,Et=!0,bo=null,Va=!1,e!==null&&If(t,e),t=ed(t,r.children),t.flags|=4096);return t}return u?(Do(),T=r.fallback,u=t.mode,K=e.child,de=K.sibling,r=zr(K,{mode:"hidden",children:r.children}),r.subtreeFlags=K.subtreeFlags&65011712,de!==null?T=zr(de,T):(T=os(T,u,n,null),T.flags|=2),T.return=t,r.return=t,r.sibling=T,t.child=r,ll(null,r),r=t.child,T=e.child.memoizedState,T===null?T=W0(n):(u=T.cachePool,u!==null?(K=vn._currentValue,u=u.parent!==K?{parent:K,pool:K}:u):u=eh(),T={baseLanes:T.baseLanes|n,cachePool:u}),r.memoizedState=T,r.childLanes=J0(e,E,n),t.memoizedState=Z0,ll(e.child,r)):(_o(t),n=e.child,e=n.sibling,n=zr(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(E=t.deletions,E===null?(t.deletions=[e],t.flags|=16):E.push(e)),t.child=n,t.memoizedState=null,n)}function ed(e,t){return t=bc({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function bc(e,t){return e=Ca(22,e,null,t),e.lanes=0,e}function td(e,t,n){return fs(t,e.child,null,n),e=ed(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),g0(e.return,t,n)}function nd(e,t,n,r,u,f){var E=e.memoizedState;E===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:u,treeForkCount:f}:(E.isBackwards=t,E.rendering=null,E.renderingStartTime=0,E.last=r,E.tail=n,E.tailMode=u,E.treeForkCount=f)}function pp(e,t,n){var r=t.pendingProps,u=r.revealOrder,f=r.tail;r=r.children;var E=pn.current,T=(E&2)!==0;if(T?(E=E&1|2,t.flags|=128):E&=1,U(pn,E),qn(e,t,r,n),r=Et?Xi:0,!T&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hp(e,n,t);else if(e.tag===19)hp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&lc(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),nd(t,!1,u,n,f,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&lc(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}nd(t,!0,n,null,f,r);break;case"together":nd(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Kr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),No|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Vs(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=zr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=zr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ad(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ec(e)))}function My(e,t,n){switch(t.tag){case 3:Fe(t,t.stateNode.containerInfo),Eo(t,vn,e.memoizedState.cache),ss();break;case 27:case 5:Yt(t);break;case 4:Fe(t,t.stateNode.containerInfo);break;case 10:Eo(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,B0(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(_o(t),t.flags|=128,null):(n&t.child.childLanes)!==0?fp(e,t,n):(_o(t),e=Kr(e,t,n),e!==null?e.sibling:null);_o(t);break;case 19:var u=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(Vs(e,t,n,!1),r=(n&t.childLanes)!==0),u){if(r)return pp(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),U(pn,pn.current),r)break;return null;case 22:return t.lanes=0,sp(e,t,n,t.pendingProps);case 24:Eo(t,vn,e.memoizedState.cache)}return Kr(e,t,n)}function mp(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)wn=!0;else{if(!ad(e,n)&&(t.flags&128)===0)return wn=!1,My(e,t,n);wn=(e.flags&131072)!==0}else wn=!1,Et&&(t.flags&1048576)!==0&&Gf(t,Xi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=us(t.elementType),t.type=e,typeof e=="function")l0(e)?(r=ps(e,r),t.tag=1,t=up(null,t,e,r,n)):(t.tag=0,t=Q0(null,t,e,r,n));else{if(e!=null){var u=e.$$typeof;if(u===z){t.tag=11,t=ap(null,t,e,r,n);break e}else if(u===V){t.tag=14,t=rp(null,t,e,r,n);break e}}throw t=je(e)||e,Error(i(306,t,""))}}return t;case 0:return Q0(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,u=ps(r,t.pendingProps),up(e,t,r,u,n);case 3:e:{if(Fe(t,t.stateNode.containerInfo),e===null)throw Error(i(387));r=t.pendingProps;var f=t.memoizedState;u=f.element,S0(e,t),al(t,r,null,n);var E=t.memoizedState;if(r=E.cache,Eo(t,vn,r),r!==f.cache&&x0(t,[vn],n,!0),nl(),r=E.element,f.isDehydrated)if(f={element:r,isDehydrated:!1,cache:E.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=dp(e,t,r,n);break e}else if(r!==u){u=Ua(Error(i(424)),t),Qi(u),t=dp(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Gt=$a(e.firstChild),Ln=t,Et=!0,bo=null,Va=!0,n=sh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ss(),r===u){t=Kr(e,t,n);break e}qn(e,t,r,n)}t=t.child}return t;case 26:return vc(e,t),e===null?(n=_m(t.type,null,t.pendingProps,null))?t.memoizedState=n:Et||(n=t.type,e=t.pendingProps,r=zc(Oe.current).createElement(n),r[Pt]=t,r[dn]=e,Un(r,n,e),fn(r),t.stateNode=r):t.memoizedState=_m(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Yt(t),e===null&&Et&&(r=t.stateNode=Sm(t.type,t.pendingProps,Oe.current),Ln=t,Va=!0,u=Gt,Ro(t.type)?(zd=u,Gt=$a(r.firstChild)):Gt=u),qn(e,t,t.pendingProps.children,n),vc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Et&&((u=r=Gt)&&(r=uv(r,t.type,t.pendingProps,Va),r!==null?(t.stateNode=r,Ln=t,Gt=$a(r.firstChild),Va=!1,u=!0):u=!1),u||wo(t)),Yt(t),u=t.type,f=t.pendingProps,E=e!==null?e.memoizedProps:null,r=f.children,kd(u,f)?r=null:E!==null&&kd(u,E)&&(t.flags|=32),t.memoizedState!==null&&(u=N0(e,t,Cy,null,null,n),Sl._currentValue=u),vc(e,t),qn(e,t,r,n),t.child;case 6:return e===null&&Et&&((e=n=Gt)&&(n=dv(n,t.pendingProps,Va),n!==null?(t.stateNode=n,Ln=t,Gt=null,e=!0):e=!1),e||wo(t)),null;case 13:return fp(e,t,n);case 4:return Fe(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=fs(t,null,r,n):qn(e,t,r,n),t.child;case 11:return ap(e,t,t.type,t.pendingProps,n);case 7:return qn(e,t,t.pendingProps,n),t.child;case 8:return qn(e,t,t.pendingProps.children,n),t.child;case 12:return qn(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Eo(t,t.type,r.value),qn(e,t,r.children,n),t.child;case 9:return u=t.type._context,r=t.pendingProps.children,ls(t),u=Hn(u),r=r(u),t.flags|=1,qn(e,t,r,n),t.child;case 14:return rp(e,t,t.type,t.pendingProps,n);case 15:return op(e,t,t.type,t.pendingProps,n);case 19:return pp(e,t,n);case 31:return Oy(e,t,n);case 22:return sp(e,t,n,t.pendingProps);case 24:return ls(t),r=Hn(vn),e===null?(u=b0(),u===null&&(u=Kt,f=y0(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=n),u=f),t.memoizedState={parent:r,cache:u},E0(t),Eo(t,vn,u)):((e.lanes&n)!==0&&(S0(e,t),al(t,null,null,n),nl()),u=e.memoizedState,f=t.memoizedState,u.parent!==r?(u={parent:r,cache:r},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Eo(t,vn,r)):(r=f.cache,Eo(t,vn,r),r!==u.cache&&x0(t,[vn],n,!0))),qn(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Pr(e){e.flags|=4}function rd(e,t,n,r,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Kp())e.flags|=8192;else throw ds=rc,w0}else e.flags&=-16777217}function gp(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!km(t))if(Kp())e.flags|=8192;else throw ds=rc,w0}function wc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?gn():536870912,e.lanes|=t,ni|=t)}function cl(e,t){if(!Et)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function It(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,r|=u.subtreeFlags&65011712,r|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,r|=u.subtreeFlags,r|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ry(e,t,n){var r=t.pendingProps;switch(f0(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(t),null;case 1:return It(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Hr(vn),Te(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ps(t)?Pr(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,p0())),It(t),null;case 26:var u=t.type,f=t.memoizedState;return e===null?(Pr(t),f!==null?(It(t),gp(t,f)):(It(t),rd(t,u,null,r,n))):f?f!==e.memoizedState?(Pr(t),It(t),gp(t,f)):(It(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&Pr(t),It(t),rd(t,u,e,r,n)),null;case 27:if(an(t),n=Oe.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Pr(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return It(t),null}e=X.current,Ps(t)?Xf(t):(e=Sm(u,r,n),t.stateNode=e,Pr(t))}return It(t),null;case 5:if(an(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Pr(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return It(t),null}if(f=X.current,Ps(t))Xf(t);else{var E=zc(Oe.current);switch(f){case 1:f=E.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:f=E.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":f=E.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":f=E.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":f=E.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof r.is=="string"?E.createElement("select",{is:r.is}):E.createElement("select"),r.multiple?f.multiple=!0:r.size&&(f.size=r.size);break;default:f=typeof r.is=="string"?E.createElement(u,{is:r.is}):E.createElement(u)}}f[Pt]=t,f[dn]=r;e:for(E=t.child;E!==null;){if(E.tag===5||E.tag===6)f.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===t)break e;for(;E.sibling===null;){if(E.return===null||E.return===t)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}t.stateNode=f;e:switch(Un(f,u,r),u){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Pr(t)}}return It(t),rd(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Pr(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(i(166));if(e=Oe.current,Ps(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,u=Ln,u!==null)switch(u.tag){case 27:case 5:r=u.memoizedProps}e[Pt]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||fm(e.nodeValue,n)),e||wo(t,!0)}else e=zc(e).createTextNode(r),e[Pt]=t,t.stateNode=e}return It(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=Ps(t),n!==null){if(e===null){if(!r)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[Pt]=t}else ss(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;It(t),e=!1}else n=p0(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Da(t),t):(Da(t),null);if((t.flags&128)!==0)throw Error(i(558))}return It(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Ps(t),r!==null&&r.dehydrated!==null){if(e===null){if(!u)throw Error(i(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[Pt]=t}else ss(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;It(t),u=!1}else u=p0(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(Da(t),t):(Da(t),null)}return Da(t),(t.flags&128)!==0?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,u=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(u=r.alternate.memoizedState.cachePool.pool),f=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==u&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),wc(t,t.updateQueue),It(t),null);case 4:return Te(),e===null&&_d(t.stateNode.containerInfo),It(t),null;case 10:return Hr(t.type),It(t),null;case 19:if(P(pn),r=t.memoizedState,r===null)return It(t),null;if(u=(t.flags&128)!==0,f=r.rendering,f===null)if(u)cl(r,!1);else{if(un!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=lc(e),f!==null){for(t.flags|=128,cl(r,!1),e=f.updateQueue,t.updateQueue=e,wc(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Vf(n,e),n=n.sibling;return U(pn,pn.current&1|2),Et&&Fr(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&Jt()>_c&&(t.flags|=128,u=!0,cl(r,!1),t.lanes=4194304)}else{if(!u)if(e=lc(f),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,wc(t,e),cl(r,!0),r.tail===null&&r.tailMode==="hidden"&&!f.alternate&&!Et)return It(t),null}else 2*Jt()-r.renderingStartTime>_c&&n!==536870912&&(t.flags|=128,u=!0,cl(r,!1),t.lanes=4194304);r.isBackwards?(f.sibling=t.child,t.child=f):(e=r.last,e!==null?e.sibling=f:t.child=f,r.last=f)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Jt(),e.sibling=null,n=pn.current,U(pn,u?n&1|2:n&1),Et&&Fr(t,r.treeForkCount),e):(It(t),null);case 22:case 23:return Da(t),D0(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(n&536870912)!==0&&(t.flags&128)===0&&(It(t),t.subtreeFlags&6&&(t.flags|=8192)):It(t),n=t.updateQueue,n!==null&&wc(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&P(cs),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Hr(vn),It(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function zy(e,t){switch(f0(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hr(vn),Te(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return an(t),null;case 31:if(t.memoizedState!==null){if(Da(t),t.alternate===null)throw Error(i(340));ss()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Da(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));ss()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return P(pn),null;case 4:return Te(),null;case 10:return Hr(t.type),null;case 22:case 23:return Da(t),D0(),e!==null&&P(cs),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Hr(vn),null;case 25:return null;default:return null}}function xp(e,t){switch(f0(t),t.tag){case 3:Hr(vn),Te();break;case 26:case 27:case 5:an(t);break;case 4:Te();break;case 31:t.memoizedState!==null&&Da(t);break;case 13:Da(t);break;case 19:P(pn);break;case 10:Hr(t.type);break;case 22:case 23:Da(t),D0(),e!==null&&P(cs);break;case 24:Hr(vn)}}function ul(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var u=r.next;n=u;do{if((n.tag&e)===e){r=void 0;var f=n.create,E=n.inst;r=f(),E.destroy=r}n=n.next}while(n!==u)}}catch(T){Ot(t,t.return,T)}}function Bo(e,t,n){try{var r=t.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var f=u.next;r=f;do{if((r.tag&e)===e){var E=r.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,u=t;var K=n,de=T;try{de()}catch(Ee){Ot(u,K,Ee)}}}r=r.next}while(r!==f)}}catch(Ee){Ot(t,t.return,Ee)}}function yp(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{lh(t,n)}catch(r){Ot(e,e.return,r)}}}function vp(e,t,n){n.props=ps(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Ot(e,t,r)}}function dl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(u){Ot(e,t,u)}}function gr(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(u){Ot(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){Ot(e,t,u)}else n.current=null}function bp(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(u){Ot(e,e.return,u)}}function od(e,t,n){try{var r=e.stateNode;rv(r,e.type,n,t),r[dn]=t}catch(u){Ot(e,e.return,u)}}function wp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ro(e.type)||e.tag===4}function sd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ro(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function id(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Tn));else if(r!==4&&(r===27&&Ro(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(id(e,t,n),e=e.sibling;e!==null;)id(e,t,n),e=e.sibling}function Ec(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&Ro(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Ec(e,t,n),e=e.sibling;e!==null;)Ec(e,t,n),e=e.sibling}function Ep(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);Un(t,r,n),t[Pt]=e,t[dn]=n}catch(f){Ot(e,e.return,f)}}var Vr=!1,En=!1,ld=!1,Sp=typeof WeakSet=="function"?WeakSet:Set,jn=null;function Fy(e,t){if(e=e.containerInfo,Td=Pc,e=_(e),R(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var u=r.anchorOffset,f=r.focusNode;r=r.focusOffset;try{n.nodeType,f.nodeType}catch{n=null;break e}var E=0,T=-1,K=-1,de=0,Ee=0,Ce=e,fe=null;t:for(;;){for(var ge;Ce!==n||u!==0&&Ce.nodeType!==3||(T=E+u),Ce!==f||r!==0&&Ce.nodeType!==3||(K=E+r),Ce.nodeType===3&&(E+=Ce.nodeValue.length),(ge=Ce.firstChild)!==null;)fe=Ce,Ce=ge;for(;;){if(Ce===e)break t;if(fe===n&&++de===u&&(T=E),fe===f&&++Ee===r&&(K=E),(ge=Ce.nextSibling)!==null)break;Ce=fe,fe=Ce.parentNode}Ce=ge}n=T===-1||K===-1?null:{start:T,end:K}}else n=null}n=n||{start:0,end:0}}else n=null;for(Nd={focusedElem:e,selectionRange:n},Pc=!1,jn=t;jn!==null;)if(t=jn,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,jn=e;else for(;jn!==null;){switch(t=jn,f=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)u=e[n],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,n=t,u=f.memoizedProps,f=f.memoizedState,r=n.stateNode;try{var Ge=ps(n.type,u);e=r.getSnapshotBeforeUpdate(Ge,f),r.__reactInternalSnapshotBeforeUpdate=e}catch(at){Ot(n,n.return,at)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Od(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Od(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,jn=e;break}jn=t.return}}function Ap(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:$r(e,n),r&4&&ul(5,n);break;case 1:if($r(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(E){Ot(n,n.return,E)}else{var u=ps(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(E){Ot(n,n.return,E)}}r&64&&yp(n),r&512&&dl(n,n.return);break;case 3:if($r(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{lh(e,t)}catch(E){Ot(n,n.return,E)}}break;case 27:t===null&&r&4&&Ep(n);case 26:case 5:$r(e,n),t===null&&r&4&&bp(n),r&512&&dl(n,n.return);break;case 12:$r(e,n);break;case 31:$r(e,n),r&4&&Dp(e,n);break;case 13:$r(e,n),r&4&&Bp(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=$y.bind(null,n),fv(e,n))));break;case 22:if(r=n.memoizedState!==null||Vr,!r){t=t!==null&&t.memoizedState!==null||En,u=Vr;var f=En;Vr=r,(En=t)&&!f?Gr(e,n,(n.subtreeFlags&8772)!==0):$r(e,n),Vr=u,En=f}break;case 30:break;default:$r(e,n)}}function Cp(e){var t=e.alternate;t!==null&&(e.alternate=null,Cp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&_s(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Zt=null,pa=!1;function Yr(e,t,n){for(n=n.child;n!==null;)_p(e,t,n),n=n.sibling}function _p(e,t,n){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(da,n)}catch{}switch(n.tag){case 26:En||gr(n,t),Yr(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:En||gr(n,t);var r=Zt,u=pa;Ro(n.type)&&(Zt=n.stateNode,pa=!1),Yr(e,t,n),bl(n.stateNode),Zt=r,pa=u;break;case 5:En||gr(n,t);case 6:if(r=Zt,u=pa,Zt=null,Yr(e,t,n),Zt=r,pa=u,Zt!==null)if(pa)try{(Zt.nodeType===9?Zt.body:Zt.nodeName==="HTML"?Zt.ownerDocument.body:Zt).removeChild(n.stateNode)}catch(f){Ot(n,t,f)}else try{Zt.removeChild(n.stateNode)}catch(f){Ot(n,t,f)}break;case 18:Zt!==null&&(pa?(e=Zt,ym(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ui(e)):ym(Zt,n.stateNode));break;case 4:r=Zt,u=pa,Zt=n.stateNode.containerInfo,pa=!0,Yr(e,t,n),Zt=r,pa=u;break;case 0:case 11:case 14:case 15:Bo(2,n,t),En||Bo(4,n,t),Yr(e,t,n);break;case 1:En||(gr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&vp(n,t,r)),Yr(e,t,n);break;case 21:Yr(e,t,n);break;case 22:En=(r=En)||n.memoizedState!==null,Yr(e,t,n),En=r;break;default:Yr(e,t,n)}}function Dp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ui(e)}catch(n){Ot(t,t.return,n)}}}function Bp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ui(e)}catch(n){Ot(t,t.return,n)}}function Ly(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Sp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Sp),t;default:throw Error(i(435,e.tag))}}function Sc(e,t){var n=Ly(e);t.forEach(function(r){if(!n.has(r)){n.add(r);var u=Gy.bind(null,e,r);r.then(u,u)}})}function ma(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var u=n[r],f=e,E=t,T=E;e:for(;T!==null;){switch(T.tag){case 27:if(Ro(T.type)){Zt=T.stateNode,pa=!1;break e}break;case 5:Zt=T.stateNode,pa=!1;break e;case 3:case 4:Zt=T.stateNode.containerInfo,pa=!0;break e}T=T.return}if(Zt===null)throw Error(i(160));_p(f,E,u),Zt=null,pa=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Tp(t,e),t=t.sibling}var ar=null;function Tp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ma(t,e),ga(e),r&4&&(Bo(3,e,e.return),ul(3,e),Bo(5,e,e.return));break;case 1:ma(t,e),ga(e),r&512&&(En||n===null||gr(n,n.return)),r&64&&Vr&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var u=ar;if(ma(t,e),ga(e),r&512&&(En||n===null||gr(n,n.return)),r&4){var f=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(r){case"title":f=u.getElementsByTagName("title")[0],(!f||f[Sa]||f[Pt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(r),u.head.insertBefore(f,u.querySelector("head > title"))),Un(f,r,n),f[Pt]=e,fn(f),r=f;break e;case"link":var E=Tm("link","href",u).get(r+(n.href||""));if(E){for(var T=0;T<E.length;T++)if(f=E[T],f.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&f.getAttribute("rel")===(n.rel==null?null:n.rel)&&f.getAttribute("title")===(n.title==null?null:n.title)&&f.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){E.splice(T,1);break t}}f=u.createElement(r),Un(f,r,n),u.head.appendChild(f);break;case"meta":if(E=Tm("meta","content",u).get(r+(n.content||""))){for(T=0;T<E.length;T++)if(f=E[T],f.getAttribute("content")===(n.content==null?null:""+n.content)&&f.getAttribute("name")===(n.name==null?null:n.name)&&f.getAttribute("property")===(n.property==null?null:n.property)&&f.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&f.getAttribute("charset")===(n.charSet==null?null:n.charSet)){E.splice(T,1);break t}}f=u.createElement(r),Un(f,r,n),u.head.appendChild(f);break;default:throw Error(i(468,r))}f[Pt]=e,fn(f),r=f}e.stateNode=r}else Nm(u,e.type,e.stateNode);else e.stateNode=Bm(u,r,e.memoizedProps);else f!==r?(f===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):f.count--,r===null?Nm(u,e.type,e.stateNode):Bm(u,r,e.memoizedProps)):r===null&&e.stateNode!==null&&od(e,e.memoizedProps,n.memoizedProps)}break;case 27:ma(t,e),ga(e),r&512&&(En||n===null||gr(n,n.return)),n!==null&&r&4&&od(e,e.memoizedProps,n.memoizedProps);break;case 5:if(ma(t,e),ga(e),r&512&&(En||n===null||gr(n,n.return)),e.flags&32){u=e.stateNode;try{lo(u,"")}catch(Ge){Ot(e,e.return,Ge)}}r&4&&e.stateNode!=null&&(u=e.memoizedProps,od(e,u,n!==null?n.memoizedProps:u)),r&1024&&(ld=!0);break;case 6:if(ma(t,e),ga(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(Ge){Ot(e,e.return,Ge)}}break;case 3:if(Hc=null,u=ar,ar=Fc(t.containerInfo),ma(t,e),ar=u,ga(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ui(t.containerInfo)}catch(Ge){Ot(e,e.return,Ge)}ld&&(ld=!1,Np(e));break;case 4:r=ar,ar=Fc(e.stateNode.containerInfo),ma(t,e),ga(e),ar=r;break;case 12:ma(t,e),ga(e);break;case 31:ma(t,e),ga(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Sc(e,r)));break;case 13:ma(t,e),ga(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Cc=Jt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Sc(e,r)));break;case 22:u=e.memoizedState!==null;var K=n!==null&&n.memoizedState!==null,de=Vr,Ee=En;if(Vr=de||u,En=Ee||K,ma(t,e),En=Ee,Vr=de,ga(e),r&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||K||Vr||En||ms(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){K=n=t;try{if(f=K.stateNode,u)E=f.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=K.stateNode;var Ce=K.memoizedProps.style,fe=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null;T.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(Ge){Ot(K,K.return,Ge)}}}else if(t.tag===6){if(n===null){K=t;try{K.stateNode.nodeValue=u?"":K.memoizedProps}catch(Ge){Ot(K,K.return,Ge)}}}else if(t.tag===18){if(n===null){K=t;try{var ge=K.stateNode;u?vm(ge,!0):vm(K.stateNode,!1)}catch(Ge){Ot(K,K.return,Ge)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Sc(e,n))));break;case 19:ma(t,e),ga(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Sc(e,r)));break;case 30:break;case 21:break;default:ma(t,e),ga(e)}}function ga(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(wp(r)){n=r;break}r=r.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var u=n.stateNode,f=sd(e);Ec(e,f,u);break;case 5:var E=n.stateNode;n.flags&32&&(lo(E,""),n.flags&=-33);var T=sd(e);Ec(e,T,E);break;case 3:case 4:var K=n.stateNode.containerInfo,de=sd(e);id(e,de,K);break;default:throw Error(i(161))}}catch(Ee){Ot(e,e.return,Ee)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Np(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Np(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function $r(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Ap(e,t.alternate,t),t=t.sibling}function ms(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Bo(4,t,t.return),ms(t);break;case 1:gr(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&vp(t,t.return,n),ms(t);break;case 27:bl(t.stateNode);case 26:case 5:gr(t,t.return),ms(t);break;case 22:t.memoizedState===null&&ms(t);break;case 30:ms(t);break;default:ms(t)}e=e.sibling}}function Gr(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,u=e,f=t,E=f.flags;switch(f.tag){case 0:case 11:case 15:Gr(u,f,n),ul(4,f);break;case 1:if(Gr(u,f,n),r=f,u=r.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(de){Ot(r,r.return,de)}if(r=f,u=r.updateQueue,u!==null){var T=r.stateNode;try{var K=u.shared.hiddenCallbacks;if(K!==null)for(u.shared.hiddenCallbacks=null,u=0;u<K.length;u++)ih(K[u],T)}catch(de){Ot(r,r.return,de)}}n&&E&64&&yp(f),dl(f,f.return);break;case 27:Ep(f);case 26:case 5:Gr(u,f,n),n&&r===null&&E&4&&bp(f),dl(f,f.return);break;case 12:Gr(u,f,n);break;case 31:Gr(u,f,n),n&&E&4&&Dp(u,f);break;case 13:Gr(u,f,n),n&&E&4&&Bp(u,f);break;case 22:f.memoizedState===null&&Gr(u,f,n),dl(f,f.return);break;case 30:break;default:Gr(u,f,n)}t=t.sibling}}function cd(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Zi(n))}function ud(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Zi(e))}function rr(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)kp(e,t,n,r),t=t.sibling}function kp(e,t,n,r){var u=t.flags;switch(t.tag){case 0:case 11:case 15:rr(e,t,n,r),u&2048&&ul(9,t);break;case 1:rr(e,t,n,r);break;case 3:rr(e,t,n,r),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Zi(e)));break;case 12:if(u&2048){rr(e,t,n,r),e=t.stateNode;try{var f=t.memoizedProps,E=f.id,T=f.onPostCommit;typeof T=="function"&&T(E,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(K){Ot(t,t.return,K)}}else rr(e,t,n,r);break;case 31:rr(e,t,n,r);break;case 13:rr(e,t,n,r);break;case 23:break;case 22:f=t.stateNode,E=t.alternate,t.memoizedState!==null?f._visibility&2?rr(e,t,n,r):fl(e,t):f._visibility&2?rr(e,t,n,r):(f._visibility|=2,Js(e,t,n,r,(t.subtreeFlags&10256)!==0||!1)),u&2048&&cd(E,t);break;case 24:rr(e,t,n,r),u&2048&&ud(t.alternate,t);break;default:rr(e,t,n,r)}}function Js(e,t,n,r,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var f=e,E=t,T=n,K=r,de=E.flags;switch(E.tag){case 0:case 11:case 15:Js(f,E,T,K,u),ul(8,E);break;case 23:break;case 22:var Ee=E.stateNode;E.memoizedState!==null?Ee._visibility&2?Js(f,E,T,K,u):fl(f,E):(Ee._visibility|=2,Js(f,E,T,K,u)),u&&de&2048&&cd(E.alternate,E);break;case 24:Js(f,E,T,K,u),u&&de&2048&&ud(E.alternate,E);break;default:Js(f,E,T,K,u)}t=t.sibling}}function fl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,u=r.flags;switch(r.tag){case 22:fl(n,r),u&2048&&cd(r.alternate,r);break;case 24:fl(n,r),u&2048&&ud(r.alternate,r);break;default:fl(n,r)}t=t.sibling}}var hl=8192;function ei(e,t,n){if(e.subtreeFlags&hl)for(e=e.child;e!==null;)jp(e,t,n),e=e.sibling}function jp(e,t,n){switch(e.tag){case 26:ei(e,t,n),e.flags&hl&&e.memoizedState!==null&&Av(n,ar,e.memoizedState,e.memoizedProps);break;case 5:ei(e,t,n);break;case 3:case 4:var r=ar;ar=Fc(e.stateNode.containerInfo),ei(e,t,n),ar=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=hl,hl=16777216,ei(e,t,n),hl=r):ei(e,t,n));break;default:ei(e,t,n)}}function Op(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function pl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];jn=r,Rp(r,e)}Op(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Mp(e),e=e.sibling}function Mp(e){switch(e.tag){case 0:case 11:case 15:pl(e),e.flags&2048&&Bo(9,e,e.return);break;case 3:pl(e);break;case 12:pl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ac(e)):pl(e);break;default:pl(e)}}function Ac(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];jn=r,Rp(r,e)}Op(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Bo(8,t,t.return),Ac(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Ac(t));break;default:Ac(t)}e=e.sibling}}function Rp(e,t){for(;jn!==null;){var n=jn;switch(n.tag){case 0:case 11:case 15:Bo(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Zi(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,jn=r;else e:for(n=e;jn!==null;){r=jn;var u=r.sibling,f=r.return;if(Cp(r),r===n){jn=null;break e}if(u!==null){u.return=f,jn=u;break e}jn=f}}}var Hy={getCacheForType:function(e){var t=Hn(vn),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Hn(vn).controller.signal}},qy=typeof WeakMap=="function"?WeakMap:Map,Nt=0,Kt=null,xt=null,vt=0,jt=0,Ba=null,To=!1,ti=!1,dd=!1,Ir=0,un=0,No=0,gs=0,fd=0,Ta=0,ni=0,ml=null,xa=null,hd=!1,Cc=0,zp=0,_c=1/0,Dc=null,ko=null,An=0,jo=null,ai=null,Xr=0,pd=0,md=null,Fp=null,gl=0,gd=null;function Na(){return(Nt&2)!==0&&vt!==0?vt&-vt:Y.T!==null?Ed():no()}function Lp(){if(Ta===0)if((vt&536870912)===0||Et){var e=za;za<<=1,(za&3932160)===0&&(za=262144),Ta=e}else Ta=536870912;return e=_a.current,e!==null&&(e.flags|=32),Ta}function ya(e,t,n){(e===Kt&&(jt===2||jt===9)||e.cancelPendingCommit!==null)&&(ri(e,0),Oo(e,vt,Ta,!1)),Ct(e,n),((Nt&2)===0||e!==Kt)&&(e===Kt&&((Nt&2)===0&&(gs|=n),un===4&&Oo(e,vt,Ta,!1)),xr(e))}function Hp(e,t,n){if((Nt&6)!==0)throw Error(i(327));var r=!n&&(t&127)===0&&(t&e.expiredLanes)===0||kt(e,t),u=r?Py(e,t):yd(e,t,!0),f=r;do{if(u===0){ti&&!r&&Oo(e,t,0,!1);break}else{if(n=e.current.alternate,f&&!Uy(n)){u=yd(e,t,!1),f=!1;continue}if(u===2){if(f=t,e.errorRecoveryDisabledLanes&f)var E=0;else E=e.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){t=E;e:{var T=e;u=ml;var K=T.current.memoizedState.isDehydrated;if(K&&(ri(T,E).flags|=256),E=yd(T,E,!1),E!==2){if(dd&&!K){T.errorRecoveryDisabledLanes|=f,gs|=f,u=4;break e}f=xa,xa=u,f!==null&&(xa===null?xa=f:xa.push.apply(xa,f))}u=E}if(f=!1,u!==2)continue}}if(u===1){ri(e,0),Oo(e,t,0,!0);break}e:{switch(r=e,f=u,f){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Oo(r,t,Ta,!To);break e;case 2:xa=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(u=Cc+300-Jt(),10<u)){if(Oo(r,t,Ta,!To),tt(r,0,!0)!==0)break e;Xr=t,r.timeoutHandle=gm(qp.bind(null,r,n,xa,Dc,hd,t,Ta,gs,ni,To,f,"Throttled",-0,0),u);break e}qp(r,n,xa,Dc,hd,t,Ta,gs,ni,To,f,null,-0,0)}}break}while(!0);xr(e)}function qp(e,t,n,r,u,f,E,T,K,de,Ee,Ce,fe,ge){if(e.timeoutHandle=-1,Ce=t.subtreeFlags,Ce&8192||(Ce&16785408)===16785408){Ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Tn},jp(t,f,Ce);var Ge=(f&62914560)===f?Cc-Jt():(f&4194048)===f?zp-Jt():0;if(Ge=Cv(Ce,Ge),Ge!==null){Xr=f,e.cancelPendingCommit=Ge(Ip.bind(null,e,t,f,n,r,u,E,T,K,Ee,Ce,null,fe,ge)),Oo(e,f,E,!de);return}}Ip(e,t,f,n,r,u,E,T,K)}function Uy(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var u=n[r],f=u.getSnapshot;u=u.value;try{if(!l(f(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Oo(e,t,n,r){t&=~fd,t&=~gs,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var u=t;0<u;){var f=31-Ve(u),E=1<<f;r[f]=-1,u&=~E}n!==0&&aa(e,n,t)}function Bc(){return(Nt&6)===0?(xl(0),!1):!0}function xd(){if(xt!==null){if(jt===0)var e=xt.return;else e=xt,Lr=is=null,O0(e),Is=null,Ji=0,e=xt;for(;e!==null;)xp(e.alternate,e),e=e.return;xt=null}}function ri(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,iv(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Xr=0,xd(),Kt=e,xt=n=zr(e.current,null),vt=t,jt=0,Ba=null,To=!1,ti=kt(e,t),dd=!1,ni=Ta=fd=gs=No=un=0,xa=ml=null,hd=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var u=31-Ve(r),f=1<<u;t|=e[u],r&=~f}return Ir=t,ot(),n}function Up(e,t){dt=null,Y.H=il,t===Gs||t===ac?(t=ah(),jt=3):t===w0?(t=ah(),jt=4):jt=t===X0?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ba=t,xt===null&&(un=1,xc(e,Ua(t,e.current)))}function Kp(){var e=_a.current;return e===null?!0:(vt&4194048)===vt?Ya===null:(vt&62914560)===vt||(vt&536870912)!==0?e===Ya:!1}function Pp(){var e=Y.H;return Y.H=il,e===null?il:e}function Vp(){var e=Y.A;return Y.A=Hy,e}function Tc(){un=4,To||(vt&4194048)!==vt&&_a.current!==null||(ti=!0),(No&134217727)===0&&(gs&134217727)===0||Kt===null||Oo(Kt,vt,Ta,!1)}function yd(e,t,n){var r=Nt;Nt|=2;var u=Pp(),f=Vp();(Kt!==e||vt!==t)&&(Dc=null,ri(e,t)),t=!1;var E=un;e:do try{if(jt!==0&&xt!==null){var T=xt,K=Ba;switch(jt){case 8:xd(),E=6;break e;case 3:case 2:case 9:case 6:_a.current===null&&(t=!0);var de=jt;if(jt=0,Ba=null,oi(e,T,K,de),n&&ti){E=0;break e}break;default:de=jt,jt=0,Ba=null,oi(e,T,K,de)}}Ky(),E=un;break}catch(Ee){Up(e,Ee)}while(!0);return t&&e.shellSuspendCounter++,Lr=is=null,Nt=r,Y.H=u,Y.A=f,xt===null&&(Kt=null,vt=0,ot()),E}function Ky(){for(;xt!==null;)Yp(xt)}function Py(e,t){var n=Nt;Nt|=2;var r=Pp(),u=Vp();Kt!==e||vt!==t?(Dc=null,_c=Jt()+500,ri(e,t)):ti=kt(e,t);e:do try{if(jt!==0&&xt!==null){t=xt;var f=Ba;t:switch(jt){case 1:jt=0,Ba=null,oi(e,t,f,1);break;case 2:case 9:if(th(f)){jt=0,Ba=null,$p(t);break}t=function(){jt!==2&&jt!==9||Kt!==e||(jt=7),xr(e)},f.then(t,t);break e;case 3:jt=7;break e;case 4:jt=5;break e;case 7:th(f)?(jt=0,Ba=null,$p(t)):(jt=0,Ba=null,oi(e,t,f,7));break;case 5:var E=null;switch(xt.tag){case 26:E=xt.memoizedState;case 5:case 27:var T=xt;if(E?km(E):T.stateNode.complete){jt=0,Ba=null;var K=T.sibling;if(K!==null)xt=K;else{var de=T.return;de!==null?(xt=de,Nc(de)):xt=null}break t}}jt=0,Ba=null,oi(e,t,f,5);break;case 6:jt=0,Ba=null,oi(e,t,f,6);break;case 8:xd(),un=6;break e;default:throw Error(i(462))}}Vy();break}catch(Ee){Up(e,Ee)}while(!0);return Lr=is=null,Y.H=r,Y.A=u,Nt=n,xt!==null?0:(Kt=null,vt=0,ot(),un)}function Vy(){for(;xt!==null&&!Tt();)Yp(xt)}function Yp(e){var t=mp(e.alternate,e,Ir);e.memoizedProps=e.pendingProps,t===null?Nc(e):xt=t}function $p(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=cp(n,t,t.pendingProps,t.type,void 0,vt);break;case 11:t=cp(n,t,t.pendingProps,t.type.render,t.ref,vt);break;case 5:O0(t);default:xp(n,t),t=xt=Vf(t,Ir),t=mp(n,t,Ir)}e.memoizedProps=e.pendingProps,t===null?Nc(e):xt=t}function oi(e,t,n,r){Lr=is=null,O0(t),Is=null,Ji=0;var u=t.return;try{if(jy(e,u,t,n,vt)){un=1,xc(e,Ua(n,e.current)),xt=null;return}}catch(f){if(u!==null)throw xt=u,f;un=1,xc(e,Ua(n,e.current)),xt=null;return}t.flags&32768?(Et||r===1?e=!0:ti||(vt&536870912)!==0?e=!1:(To=e=!0,(r===2||r===9||r===3||r===6)&&(r=_a.current,r!==null&&r.tag===13&&(r.flags|=16384))),Gp(t,e)):Nc(t)}function Nc(e){var t=e;do{if((t.flags&32768)!==0){Gp(t,To);return}e=t.return;var n=Ry(t.alternate,t,Ir);if(n!==null){xt=n;return}if(t=t.sibling,t!==null){xt=t;return}xt=t=e}while(t!==null);un===0&&(un=5)}function Gp(e,t){do{var n=zy(e.alternate,e);if(n!==null){n.flags&=32767,xt=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){xt=e;return}xt=e=n}while(e!==null);un=6,xt=null}function Ip(e,t,n,r,u,f,E,T,K){e.cancelPendingCommit=null;do kc();while(An!==0);if((Nt&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(f=t.lanes|t.childLanes,f|=Vt,xn(e,n,f,E,T,K),e===Kt&&(xt=Kt=null,vt=0),ai=t,jo=e,Xr=n,pd=f,md=u,Fp=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Iy(wa,function(){return Jp(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=Y.T,Y.T=null,u=xe.p,xe.p=2,E=Nt,Nt|=4;try{Fy(e,t,n)}finally{Nt=E,xe.p=u,Y.T=r}}An=1,Xp(),Qp(),Zp()}}function Xp(){if(An===1){An=0;var e=jo,t=ai,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=Y.T,Y.T=null;var r=xe.p;xe.p=2;var u=Nt;Nt|=4;try{Tp(t,e);var f=Nd,E=_(e.containerInfo),T=f.focusedElem,K=f.selectionRange;if(E!==T&&T&&T.ownerDocument&&A(T.ownerDocument.documentElement,T)){if(K!==null&&R(T)){var de=K.start,Ee=K.end;if(Ee===void 0&&(Ee=de),"selectionStart"in T)T.selectionStart=de,T.selectionEnd=Math.min(Ee,T.value.length);else{var Ce=T.ownerDocument||document,fe=Ce&&Ce.defaultView||window;if(fe.getSelection){var ge=fe.getSelection(),Ge=T.textContent.length,at=Math.min(K.start,Ge),Lt=K.end===void 0?at:Math.min(K.end,Ge);!ge.extend&&at>Lt&&(E=Lt,Lt=at,at=E);var se=w(T,at),Q=w(T,Lt);if(se&&Q&&(ge.rangeCount!==1||ge.anchorNode!==se.node||ge.anchorOffset!==se.offset||ge.focusNode!==Q.node||ge.focusOffset!==Q.offset)){var ue=Ce.createRange();ue.setStart(se.node,se.offset),ge.removeAllRanges(),at>Lt?(ge.addRange(ue),ge.extend(Q.node,Q.offset)):(ue.setEnd(Q.node,Q.offset),ge.addRange(ue))}}}}for(Ce=[],ge=T;ge=ge.parentNode;)ge.nodeType===1&&Ce.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Ce.length;T++){var Ae=Ce[T];Ae.element.scrollLeft=Ae.left,Ae.element.scrollTop=Ae.top}}Pc=!!Td,Nd=Td=null}finally{Nt=u,xe.p=r,Y.T=n}}e.current=t,An=2}}function Qp(){if(An===2){An=0;var e=jo,t=ai,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=Y.T,Y.T=null;var r=xe.p;xe.p=2;var u=Nt;Nt|=4;try{Ap(e,t.alternate,t)}finally{Nt=u,xe.p=r,Y.T=n}}An=3}}function Zp(){if(An===4||An===3){An=0,Wt();var e=jo,t=ai,n=Xr,r=Fp;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?An=5:(An=0,ai=jo=null,Wp(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(ko=null),Bn(n),t=t.stateNode,ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(da,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=Y.T,u=xe.p,xe.p=2,Y.T=null;try{for(var f=e.onRecoverableError,E=0;E<r.length;E++){var T=r[E];f(T.value,{componentStack:T.stack})}}finally{Y.T=t,xe.p=u}}(Xr&3)!==0&&kc(),xr(e),u=e.pendingLanes,(n&261930)!==0&&(u&42)!==0?e===gd?gl++:(gl=0,gd=e):gl=0,xl(0)}}function Wp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Zi(t)))}function kc(){return Xp(),Qp(),Zp(),Jp()}function Jp(){if(An!==5)return!1;var e=jo,t=pd;pd=0;var n=Bn(Xr),r=Y.T,u=xe.p;try{xe.p=32>n?32:n,Y.T=null,n=md,md=null;var f=jo,E=Xr;if(An=0,ai=jo=null,Xr=0,(Nt&6)!==0)throw Error(i(331));var T=Nt;if(Nt|=4,Mp(f.current),kp(f,f.current,E,n),Nt=T,xl(0,!1),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(da,f)}catch{}return!0}finally{xe.p=u,Y.T=r,Wp(e,t)}}function em(e,t,n){t=Ua(n,t),t=I0(e.stateNode,t,2),e=Co(e,t,2),e!==null&&(Ct(e,2),xr(e))}function Ot(e,t,n){if(e.tag===3)em(e,e,n);else for(;t!==null;){if(t.tag===3){em(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ko===null||!ko.has(r))){e=Ua(n,e),n=tp(2),r=Co(t,n,2),r!==null&&(np(n,r,t,e),Ct(r,2),xr(r));break}}t=t.return}}function vd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new qy;var u=new Set;r.set(t,u)}else u=r.get(t),u===void 0&&(u=new Set,r.set(t,u));u.has(n)||(dd=!0,u.add(n),e=Yy.bind(null,e,t,n),t.then(e,e))}function Yy(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Kt===e&&(vt&n)===n&&(un===4||un===3&&(vt&62914560)===vt&&300>Jt()-Cc?(Nt&2)===0&&ri(e,0):fd|=n,ni===vt&&(ni=0)),xr(e)}function tm(e,t){t===0&&(t=gn()),e=Ha(e,t),e!==null&&(Ct(e,t),xr(e))}function $y(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),tm(e,n)}function Gy(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(t),tm(e,n)}function Iy(e,t){return na(e,t)}var jc=null,si=null,bd=!1,Oc=!1,wd=!1,Mo=0;function xr(e){e!==si&&e.next===null&&(si===null?jc=si=e:si=si.next=e),Oc=!0,bd||(bd=!0,Qy())}function xl(e,t){if(!wd&&Oc){wd=!0;do for(var n=!1,r=jc;r!==null;){if(e!==0){var u=r.pendingLanes;if(u===0)var f=0;else{var E=r.suspendedLanes,T=r.pingedLanes;f=(1<<31-Ve(42|e)+1)-1,f&=u&~(E&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(n=!0,om(r,f))}else f=vt,f=tt(r,r===Kt?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(f&3)===0||kt(r,f)||(n=!0,om(r,f));r=r.next}while(n);wd=!1}}function Xy(){nm()}function nm(){Oc=bd=!1;var e=0;Mo!==0&&sv()&&(e=Mo);for(var t=Jt(),n=null,r=jc;r!==null;){var u=r.next,f=am(r,t);f===0?(r.next=null,n===null?jc=u:n.next=u,u===null&&(si=n)):(n=r,(e!==0||(f&3)!==0)&&(Oc=!0)),r=u}An!==0&&An!==5||xl(e),Mo!==0&&(Mo=0)}function am(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var E=31-Ve(f),T=1<<E,K=u[E];K===-1?((T&n)===0||(T&r)!==0)&&(u[E]=tn(T,t)):K<=t&&(e.expiredLanes|=T),f&=~T}if(t=Kt,n=vt,n=tt(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(jt===2||jt===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Mt(r),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||kt(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Mt(r),Bn(n)){case 2:case 8:n=Dn;break;case 32:n=wa;break;case 268435456:n=Yn;break;default:n=wa}return r=rm.bind(null,e),n=na(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Mt(r),e.callbackPriority=2,e.callbackNode=null,2}function rm(e,t){if(An!==0&&An!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=vt;return r=tt(e,e===Kt?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Hp(e,r,t),am(e,Jt()),e.callbackNode!=null&&e.callbackNode===n?rm.bind(null,e):null)}function om(e,t){if(kc())return null;Hp(e,t,!0)}function Qy(){lv(function(){(Nt&6)!==0?na(on,Xy):nm()})}function Ed(){if(Mo===0){var e=Ys;e===0&&(e=He,He<<=1,(He&261888)===0&&(He=256)),Mo=e}return Mo}function sm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Dr(""+e)}function im(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Zy(e,t,n,r,u){if(t==="submit"&&n&&n.stateNode===u){var f=sm((u[dn]||null).action),E=r.submitter;E&&(t=(t=E[dn]||null)?sm(t.formAction):E.getAttribute("formAction"),t!==null&&(f=t,E=null));var T=new kr("action","action",null,r,u);e.push({event:T,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Mo!==0){var K=E?im(u,E):new FormData(u);K0(n,{pending:!0,data:K,method:u.method,action:f},null,K)}}else typeof f=="function"&&(T.preventDefault(),K=E?im(u,E):new FormData(u),K0(n,{pending:!0,data:K,method:u.method,action:f},f,K))},currentTarget:u}]})}}for(var Sd=0;Sd<Ue.length;Sd++){var Ad=Ue[Sd],Wy=Ad.toLowerCase(),Jy=Ad[0].toUpperCase()+Ad.slice(1);Le(Wy,"on"+Jy)}Le(me,"onAnimationEnd"),Le(ve,"onAnimationIteration"),Le(we,"onAnimationStart"),Le("dblclick","onDoubleClick"),Le("focusin","onFocus"),Le("focusout","onBlur"),Le(Be,"onTransitionRun"),Le(Re,"onTransitionStart"),Le(Ne,"onTransitionCancel"),Le(ke,"onTransitionEnd"),cr("onMouseEnter",["mouseout","mouseover"]),cr("onMouseLeave",["mouseout","mouseover"]),cr("onPointerEnter",["pointerout","pointerover"]),cr("onPointerLeave",["pointerout","pointerover"]),Ja("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ja("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ja("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ja("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ja("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ja("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ev=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yl));function lm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],u=r.event;r=r.listeners;e:{var f=void 0;if(t)for(var E=r.length-1;0<=E;E--){var T=r[E],K=T.instance,de=T.currentTarget;if(T=T.listener,K!==f&&u.isPropagationStopped())break e;f=T,u.currentTarget=de;try{f(u)}catch(Ee){st(Ee)}u.currentTarget=null,f=K}else for(E=0;E<r.length;E++){if(T=r[E],K=T.instance,de=T.currentTarget,T=T.listener,K!==f&&u.isPropagationStopped())break e;f=T,u.currentTarget=de;try{f(u)}catch(Ee){st(Ee)}u.currentTarget=null,f=K}}}}function yt(e,t){var n=t[ao];n===void 0&&(n=t[ao]=new Set);var r=e+"__bubble";n.has(r)||(cm(t,e,2,!1),n.add(r))}function Cd(e,t,n){var r=0;t&&(r|=4),cm(n,e,r,t)}var Mc="_reactListening"+Math.random().toString(36).slice(2);function _d(e){if(!e[Mc]){e[Mc]=!0,Sr.forEach(function(n){n!=="selectionchange"&&(ev.has(n)||Cd(n,!1,e),Cd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mc]||(t[Mc]=!0,Cd("selectionchange",!1,t))}}function cm(e,t,n,r){switch(Lm(t)){case 2:var u=Bv;break;case 8:u=Tv;break;default:u=Ud}n=u.bind(null,t,n,e),u=void 0,!ha||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),r?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function Dd(e,t,n,r,u){var f=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var E=r.tag;if(E===3||E===4){var T=r.stateNode.containerInfo;if(T===u)break;if(E===4)for(E=r.return;E!==null;){var K=E.tag;if((K===3||K===4)&&E.stateNode.containerInfo===u)return;E=E.return}for(;T!==null;){if(E=lr(T),E===null)return;if(K=E.tag,K===5||K===6||K===26||K===27){r=f=E;continue e}T=T.parentNode}}r=r.return}Ts(function(){var de=f,Ee=Bs(n),Ce=[];e:{var fe=Pe.get(e);if(fe!==void 0){var ge=kr,Ge=e;switch(e){case"keypress":if(Zo(n)===0)break e;case"keydown":case"keyup":ge=Vl;break;case"focusin":Ge="focus",ge=po;break;case"focusout":Ge="blur",ge=po;break;case"beforeblur":case"afterblur":ge=po;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=js;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=Os;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=jr;break;case me:case ve:case we:ge=r0;break;case ke:ge=Li;break;case"scroll":case"scrollend":ge=Ni;break;case"wheel":ge=Hi;break;case"copy":case"cut":case"paste":ge=Oi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=ts;break;case"toggle":case"beforetoggle":ge=o0}var at=(t&4)!==0,Lt=!at&&(e==="scroll"||e==="scrollend"),se=at?fe!==null?fe+"Capture":null:fe;at=[];for(var Q=de,ue;Q!==null;){var Ae=Q;if(ue=Ae.stateNode,Ae=Ae.tag,Ae!==5&&Ae!==26&&Ae!==27||ue===null||se===null||(Ae=fa(Q,se),Ae!=null&&at.push(vl(Q,Ae,ue))),Lt)break;Q=Q.return}0<at.length&&(fe=new ge(fe,Ge,null,n,Ee),Ce.push({event:fe,listeners:at}))}}if((t&7)===0){e:{if(fe=e==="mouseover"||e==="pointerover",ge=e==="mouseout"||e==="pointerout",fe&&n!==Ds&&(Ge=n.relatedTarget||n.fromElement)&&(lr(Ge)||Ge[ra]))break e;if((ge||fe)&&(fe=Ee.window===Ee?Ee:(fe=Ee.ownerDocument)?fe.defaultView||fe.parentWindow:window,ge?(Ge=n.relatedTarget||n.toElement,ge=de,Ge=Ge?lr(Ge):null,Ge!==null&&(Lt=h(Ge),at=Ge.tag,Ge!==Lt||at!==5&&at!==27&&at!==6)&&(Ge=null)):(ge=null,Ge=de),ge!==Ge)){if(at=js,Ae="onMouseLeave",se="onMouseEnter",Q="mouse",(e==="pointerout"||e==="pointerover")&&(at=ts,Ae="onPointerLeave",se="onPointerEnter",Q="pointer"),Lt=ge==null?fe:Aa(ge),ue=Ge==null?fe:Aa(Ge),fe=new at(Ae,Q+"leave",ge,n,Ee),fe.target=Lt,fe.relatedTarget=ue,Ae=null,lr(Ee)===de&&(at=new at(se,Q+"enter",Ge,n,Ee),at.target=ue,at.relatedTarget=Lt,Ae=at),Lt=Ae,ge&&Ge)t:{for(at=tv,se=ge,Q=Ge,ue=0,Ae=se;Ae;Ae=at(Ae))ue++;Ae=0;for(var We=Q;We;We=at(We))Ae++;for(;0<ue-Ae;)se=at(se),ue--;for(;0<Ae-ue;)Q=at(Q),Ae--;for(;ue--;){if(se===Q||Q!==null&&se===Q.alternate){at=se;break t}se=at(se),Q=at(Q)}at=null}else at=null;ge!==null&&um(Ce,fe,ge,at,!1),Ge!==null&&Lt!==null&&um(Ce,Lt,Ge,at,!0)}}e:{if(fe=de?Aa(de):window,ge=fe.nodeName&&fe.nodeName.toLowerCase(),ge==="select"||ge==="input"&&fe.type==="file")var _t=La;else if(Yi(fe))if(Qt)_t=fr;else{_t=Ii;var Ze=Rr}else ge=fe.nodeName,!ge||ge.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?de&&Ti(de.elementType)&&(_t=La):_t=yo;if(_t&&(_t=_t(e,de))){$i(Ce,_t,n,Ee);break e}Ze&&Ze(e,fe,de),e==="focusout"&&de&&fe.type==="number"&&de.memoizedProps.value!=null&&so(fe,"number",fe.value)}switch(Ze=de?Aa(de):window,e){case"focusin":(Yi(Ze)||Ze.contentEditable==="true")&&($=Ze,Z=de,ae=null);break;case"focusout":ae=Z=$=null;break;case"mousedown":q=!0;break;case"contextmenu":case"mouseup":case"dragend":q=!1,ie(Ce,n,Ee);break;case"selectionchange":if(H)break;case"keydown":case"keyup":ie(Ce,n,Ee)}var ft;if(go)e:{switch(e){case"compositionstart":var bt="onCompositionStart";break e;case"compositionend":bt="onCompositionEnd";break e;case"compositionupdate":bt="onCompositionUpdate";break e}bt=void 0}else Or?Il(e,n)&&(bt="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(bt="onCompositionStart");bt&&(Hs&&n.locale!=="ko"&&(Or||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&Or&&(ft=Ns()):(nr=Ee,Qo="value"in nr?nr.value:nr.textContent,Or=!0)),Ze=Rc(de,bt),0<Ze.length&&(bt=new Rs(bt,e,null,n,Ee),Ce.push({event:bt,listeners:Ze}),ft?bt.data=ft:(ft=Pi(n),ft!==null&&(bt.data=ft)))),(ft=Ui?s0(e,n):Xl(e,n))&&(bt=Rc(de,"onBeforeInput"),0<bt.length&&(Ze=new Rs("onBeforeInput","beforeinput",null,n,Ee),Ce.push({event:Ze,listeners:bt}),Ze.data=ft)),Zy(Ce,e,de,n,Ee)}lm(Ce,t)})}function vl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Rc(e,t){for(var n=t+"Capture",r=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=fa(e,n),u!=null&&r.unshift(vl(e,u,f)),u=fa(e,t),u!=null&&r.push(vl(e,u,f))),e.tag===3)return r;e=e.return}return[]}function tv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function um(e,t,n,r,u){for(var f=t._reactName,E=[];n!==null&&n!==r;){var T=n,K=T.alternate,de=T.stateNode;if(T=T.tag,K!==null&&K===r)break;T!==5&&T!==26&&T!==27||de===null||(K=de,u?(de=fa(n,f),de!=null&&E.unshift(vl(n,de,K))):u||(de=fa(n,f),de!=null&&E.push(vl(n,de,K)))),n=n.return}E.length!==0&&e.push({event:t,listeners:E})}var nv=/\r\n?/g,av=/\u0000|\uFFFD/g;function dm(e){return(typeof e=="string"?e:""+e).replace(nv,`
`).replace(av,"")}function fm(e,t){return t=dm(t),dm(e)===t}function Ft(e,t,n,r,u,f){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||lo(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&lo(e,""+r);break;case"className":Xo(e,"class",r);break;case"tabIndex":Xo(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Xo(e,n,r);break;case"style":Ul(e,r,f);break;case"data":if(t!=="object"){Xo(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Dr(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(n==="formAction"?(t!=="input"&&Ft(e,t,"name",u.name,u,null),Ft(e,t,"formEncType",u.formEncType,u,null),Ft(e,t,"formMethod",u.formMethod,u,null),Ft(e,t,"formTarget",u.formTarget,u,null)):(Ft(e,t,"encType",u.encType,u,null),Ft(e,t,"method",u.method,u,null),Ft(e,t,"target",u.target,u,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Dr(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=Tn);break;case"onScroll":r!=null&&yt("scroll",e);break;case"onScrollEnd":r!=null&&yt("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(i(61));if(n=r.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=Dr(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":yt("beforetoggle",e),yt("toggle",e),pt(e,"popover",r);break;case"xlinkActuate":Fa(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Fa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Fa(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Fa(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Fa(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Fa(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Fa(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Fa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Fa(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":pt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=oa.get(n)||n,pt(e,n,r))}}function Bd(e,t,n,r,u,f){switch(n){case"style":Ul(e,r,f);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(i(61));if(n=r.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"children":typeof r=="string"?lo(e,r):(typeof r=="number"||typeof r=="bigint")&&lo(e,""+r);break;case"onScroll":r!=null&&yt("scroll",e);break;case"onScrollEnd":r!=null&&yt("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Tn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Go.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),f=e[dn]||null,f=f!=null?f[n]:null,typeof f=="function"&&e.removeEventListener(t,f,u),typeof r=="function")){typeof f!="function"&&f!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,u);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):pt(e,n,r)}}}function Un(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yt("error",e),yt("load",e);var r=!1,u=!1,f;for(f in n)if(n.hasOwnProperty(f)){var E=n[f];if(E!=null)switch(f){case"src":r=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Ft(e,t,f,E,n,null)}}u&&Ft(e,t,"srcSet",n.srcSet,n,null),r&&Ft(e,t,"src",n.src,n,null);return;case"input":yt("invalid",e);var T=f=E=u=null,K=null,de=null;for(r in n)if(n.hasOwnProperty(r)){var Ee=n[r];if(Ee!=null)switch(r){case"name":u=Ee;break;case"type":E=Ee;break;case"checked":K=Ee;break;case"defaultChecked":de=Ee;break;case"value":f=Ee;break;case"defaultValue":T=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(i(137,t));break;default:Ft(e,t,r,Ee,n,null)}}_i(e,f,T,K,de,E,u,!1);return;case"select":yt("invalid",e),r=E=f=null;for(u in n)if(n.hasOwnProperty(u)&&(T=n[u],T!=null))switch(u){case"value":f=T;break;case"defaultValue":E=T;break;case"multiple":r=T;default:Ft(e,t,u,T,n,null)}t=f,n=E,e.multiple=!!r,t!=null?_r(e,!!r,t,!1):n!=null&&_r(e,!!r,n,!0);return;case"textarea":yt("invalid",e),f=u=r=null;for(E in n)if(n.hasOwnProperty(E)&&(T=n[E],T!=null))switch(E){case"value":r=T;break;case"defaultValue":u=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:Ft(e,t,E,T,n,null)}Di(e,r,u,f);return;case"option":for(K in n)if(n.hasOwnProperty(K)&&(r=n[K],r!=null))switch(K){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Ft(e,t,K,r,n,null)}return;case"dialog":yt("beforetoggle",e),yt("toggle",e),yt("cancel",e),yt("close",e);break;case"iframe":case"object":yt("load",e);break;case"video":case"audio":for(r=0;r<yl.length;r++)yt(yl[r],e);break;case"image":yt("error",e),yt("load",e);break;case"details":yt("toggle",e);break;case"embed":case"source":case"link":yt("error",e),yt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(de in n)if(n.hasOwnProperty(de)&&(r=n[de],r!=null))switch(de){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Ft(e,t,de,r,n,null)}return;default:if(Ti(t)){for(Ee in n)n.hasOwnProperty(Ee)&&(r=n[Ee],r!==void 0&&Bd(e,t,Ee,r,n,void 0));return}}for(T in n)n.hasOwnProperty(T)&&(r=n[T],r!=null&&Ft(e,t,T,r,n,null))}function rv(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,E=null,T=null,K=null,de=null,Ee=null;for(ge in n){var Ce=n[ge];if(n.hasOwnProperty(ge)&&Ce!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":K=Ce;default:r.hasOwnProperty(ge)||Ft(e,t,ge,null,r,Ce)}}for(var fe in r){var ge=r[fe];if(Ce=n[fe],r.hasOwnProperty(fe)&&(ge!=null||Ce!=null))switch(fe){case"type":f=ge;break;case"name":u=ge;break;case"checked":de=ge;break;case"defaultChecked":Ee=ge;break;case"value":E=ge;break;case"defaultValue":T=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(i(137,t));break;default:ge!==Ce&&Ft(e,t,fe,ge,r,Ce)}}oo(e,E,T,K,de,Ee,f,u);return;case"select":ge=E=T=fe=null;for(f in n)if(K=n[f],n.hasOwnProperty(f)&&K!=null)switch(f){case"value":break;case"multiple":ge=K;default:r.hasOwnProperty(f)||Ft(e,t,f,null,r,K)}for(u in r)if(f=r[u],K=n[u],r.hasOwnProperty(u)&&(f!=null||K!=null))switch(u){case"value":fe=f;break;case"defaultValue":T=f;break;case"multiple":E=f;default:f!==K&&Ft(e,t,u,f,r,K)}t=T,n=E,r=ge,fe!=null?_r(e,!!n,fe,!1):!!r!=!!n&&(t!=null?_r(e,!!n,t,!0):_r(e,!!n,n?[]:"",!1));return;case"textarea":ge=fe=null;for(T in n)if(u=n[T],n.hasOwnProperty(T)&&u!=null&&!r.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ft(e,t,T,null,r,u)}for(E in r)if(u=r[E],f=n[E],r.hasOwnProperty(E)&&(u!=null||f!=null))switch(E){case"value":fe=u;break;case"defaultValue":ge=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(i(91));break;default:u!==f&&Ft(e,t,E,u,r,f)}io(e,fe,ge);return;case"option":for(var Ge in n)if(fe=n[Ge],n.hasOwnProperty(Ge)&&fe!=null&&!r.hasOwnProperty(Ge))switch(Ge){case"selected":e.selected=!1;break;default:Ft(e,t,Ge,null,r,fe)}for(K in r)if(fe=r[K],ge=n[K],r.hasOwnProperty(K)&&fe!==ge&&(fe!=null||ge!=null))switch(K){case"selected":e.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:Ft(e,t,K,fe,r,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var at in n)fe=n[at],n.hasOwnProperty(at)&&fe!=null&&!r.hasOwnProperty(at)&&Ft(e,t,at,null,r,fe);for(de in r)if(fe=r[de],ge=n[de],r.hasOwnProperty(de)&&fe!==ge&&(fe!=null||ge!=null))switch(de){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(i(137,t));break;default:Ft(e,t,de,fe,r,ge)}return;default:if(Ti(t)){for(var Lt in n)fe=n[Lt],n.hasOwnProperty(Lt)&&fe!==void 0&&!r.hasOwnProperty(Lt)&&Bd(e,t,Lt,void 0,r,fe);for(Ee in r)fe=r[Ee],ge=n[Ee],!r.hasOwnProperty(Ee)||fe===ge||fe===void 0&&ge===void 0||Bd(e,t,Ee,fe,r,ge);return}}for(var se in n)fe=n[se],n.hasOwnProperty(se)&&fe!=null&&!r.hasOwnProperty(se)&&Ft(e,t,se,null,r,fe);for(Ce in r)fe=r[Ce],ge=n[Ce],!r.hasOwnProperty(Ce)||fe===ge||fe==null&&ge==null||Ft(e,t,Ce,fe,r,ge)}function hm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ov(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var u=n[r],f=u.transferSize,E=u.initiatorType,T=u.duration;if(f&&T&&hm(E)){for(E=0,T=u.responseEnd,r+=1;r<n.length;r++){var K=n[r],de=K.startTime;if(de>T)break;var Ee=K.transferSize,Ce=K.initiatorType;Ee&&hm(Ce)&&(K=K.responseEnd,E+=Ee*(K<T?1:(T-de)/(K-de)))}if(--r,t+=8*(f+E)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Td=null,Nd=null;function zc(e){return e.nodeType===9?e:e.ownerDocument}function pm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function kd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var jd=null;function sv(){var e=window.event;return e&&e.type==="popstate"?e===jd?!1:(jd=e,!0):(jd=null,!1)}var gm=typeof setTimeout=="function"?setTimeout:void 0,iv=typeof clearTimeout=="function"?clearTimeout:void 0,xm=typeof Promise=="function"?Promise:void 0,lv=typeof queueMicrotask=="function"?queueMicrotask:typeof xm<"u"?function(e){return xm.resolve(null).then(e).catch(cv)}:gm;function cv(e){setTimeout(function(){throw e})}function Ro(e){return e==="head"}function ym(e,t){var n=t,r=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"||n==="/&"){if(r===0){e.removeChild(u),ui(t);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")bl(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,bl(n);for(var f=n.firstChild;f;){var E=f.nextSibling,T=f.nodeName;f[Sa]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||n.removeChild(f),f=E}}else n==="body"&&bl(e.ownerDocument.body);n=u}while(n);ui(t)}function vm(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=r}while(n)}function Od(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Od(n),_s(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function uv(e,t,n,r){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Sa])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=$a(e.nextSibling),e===null)break}return null}function dv(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=$a(e.nextSibling),e===null))return null;return e}function bm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=$a(e.nextSibling),e===null))return null;return e}function Md(e){return e.data==="$?"||e.data==="$~"}function Rd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function fv(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function $a(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var zd=null;function wm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return $a(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Em(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Sm(e,t,n){switch(t=zc(n),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function bl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);_s(e)}var Ga=new Map,Am=new Set;function Fc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Qr=xe.d;xe.d={f:hv,r:pv,D:mv,C:gv,L:xv,m:yv,X:bv,S:vv,M:wv};function hv(){var e=Qr.f(),t=Bc();return e||t}function pv(e){var t=Rt(e);t!==null&&t.tag===5&&t.type==="form"?Uh(t):Qr.r(e)}var ii=typeof document>"u"?null:document;function Cm(e,t,n){var r=ii;if(r&&typeof t=="string"&&t){var u=Qn(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),Am.has(u)||(Am.add(u),e={rel:e,crossOrigin:n,href:t},r.querySelector(u)===null&&(t=r.createElement("link"),Un(t,"link",e),fn(t),r.head.appendChild(t)))}}function mv(e){Qr.D(e),Cm("dns-prefetch",e,null)}function gv(e,t){Qr.C(e,t),Cm("preconnect",e,t)}function xv(e,t,n){Qr.L(e,t,n);var r=ii;if(r&&e&&t){var u='link[rel="preload"][as="'+Qn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+Qn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+Qn(n.imageSizes)+'"]')):u+='[href="'+Qn(e)+'"]';var f=u;switch(t){case"style":f=li(e);break;case"script":f=ci(e)}Ga.has(f)||(e=y({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ga.set(f,e),r.querySelector(u)!==null||t==="style"&&r.querySelector(wl(f))||t==="script"&&r.querySelector(El(f))||(t=r.createElement("link"),Un(t,"link",e),fn(t),r.head.appendChild(t)))}}function yv(e,t){Qr.m(e,t);var n=ii;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Qn(r)+'"][href="'+Qn(e)+'"]',f=u;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ci(e)}if(!Ga.has(f)&&(e=y({rel:"modulepreload",href:e},t),Ga.set(f,e),n.querySelector(u)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(El(f)))return}r=n.createElement("link"),Un(r,"link",e),fn(r),n.head.appendChild(r)}}}function vv(e,t,n){Qr.S(e,t,n);var r=ii;if(r&&e){var u=Xn(r).hoistableStyles,f=li(e);t=t||"default";var E=u.get(f);if(!E){var T={loading:0,preload:null};if(E=r.querySelector(wl(f)))T.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ga.get(f))&&Fd(e,n);var K=E=r.createElement("link");fn(K),Un(K,"link",e),K._p=new Promise(function(de,Ee){K.onload=de,K.onerror=Ee}),K.addEventListener("load",function(){T.loading|=1}),K.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Lc(E,t,r)}E={type:"stylesheet",instance:E,count:1,state:T},u.set(f,E)}}}function bv(e,t){Qr.X(e,t);var n=ii;if(n&&e){var r=Xn(n).hoistableScripts,u=ci(e),f=r.get(u);f||(f=n.querySelector(El(u)),f||(e=y({src:e,async:!0},t),(t=Ga.get(u))&&Ld(e,t),f=n.createElement("script"),fn(f),Un(f,"link",e),n.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(u,f))}}function wv(e,t){Qr.M(e,t);var n=ii;if(n&&e){var r=Xn(n).hoistableScripts,u=ci(e),f=r.get(u);f||(f=n.querySelector(El(u)),f||(e=y({src:e,async:!0,type:"module"},t),(t=Ga.get(u))&&Ld(e,t),f=n.createElement("script"),fn(f),Un(f,"link",e),n.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(u,f))}}function _m(e,t,n,r){var u=(u=Oe.current)?Fc(u):null;if(!u)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=li(n.href),n=Xn(u).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=li(n.href);var f=Xn(u).hoistableStyles,E=f.get(e);if(E||(u=u.ownerDocument||u,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,E),(f=u.querySelector(wl(e)))&&!f._p&&(E.instance=f,E.state.loading=5),Ga.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ga.set(e,n),f||Ev(u,e,n,E.state))),t&&r===null)throw Error(i(528,""));return E}if(t&&r!==null)throw Error(i(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ci(n),n=Xn(u).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function li(e){return'href="'+Qn(e)+'"'}function wl(e){return'link[rel="stylesheet"]['+e+"]"}function Dm(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function Ev(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),Un(t,"link",n),fn(t),e.head.appendChild(t))}function ci(e){return'[src="'+Qn(e)+'"]'}function El(e){return"script[async]"+e}function Bm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Qn(n.href)+'"]');if(r)return t.instance=r,fn(r),r;var u=y({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),fn(r),Un(r,"style",u),Lc(r,n.precedence,e),t.instance=r;case"stylesheet":u=li(n.href);var f=e.querySelector(wl(u));if(f)return t.state.loading|=4,t.instance=f,fn(f),f;r=Dm(n),(u=Ga.get(u))&&Fd(r,u),f=(e.ownerDocument||e).createElement("link"),fn(f);var E=f;return E._p=new Promise(function(T,K){E.onload=T,E.onerror=K}),Un(f,"link",r),t.state.loading|=4,Lc(f,n.precedence,e),t.instance=f;case"script":return f=ci(n.src),(u=e.querySelector(El(f)))?(t.instance=u,fn(u),u):(r=n,(u=Ga.get(f))&&(r=y({},n),Ld(r,u)),e=e.ownerDocument||e,u=e.createElement("script"),fn(u),Un(u,"link",r),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,Lc(r,n.precedence,e));return t.instance}function Lc(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=r.length?r[r.length-1]:null,f=u,E=0;E<r.length;E++){var T=r[E];if(T.dataset.precedence===t)f=T;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Fd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ld(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Hc=null;function Tm(e,t,n){if(Hc===null){var r=new Map,u=Hc=new Map;u.set(n,r)}else u=Hc,r=u.get(n),r||(r=new Map,u.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var f=n[u];if(!(f[Sa]||f[Pt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var E=f.getAttribute(t)||"";E=e+E;var T=r.get(E);T?T.push(f):r.set(E,[f])}}return r}function Nm(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Sv(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function km(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Av(e,t,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=li(r.href),f=t.querySelector(wl(u));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=qc.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=f,fn(f);return}f=t.ownerDocument||t,r=Dm(r),(u=Ga.get(u))&&Fd(r,u),f=f.createElement("link"),fn(f);var E=f;E._p=new Promise(function(T,K){E.onload=T,E.onerror=K}),Un(f,"link",r),n.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=qc.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Hd=0;function Cv(e,t){return e.stylesheets&&e.count===0&&Kc(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&Kc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+t);0<e.imgBytes&&Hd===0&&(Hd=62500*ov());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Kc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Hd?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(u)}}:null}function qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Uc=null;function Kc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Uc=new Map,t.forEach(_v,e),Uc=null,qc.call(e))}function _v(e,t){if(!(t.state.loading&4)){var n=Uc.get(e);if(n)var r=n.get(null);else{n=new Map,Uc.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var E=u[f];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(n.set(E.dataset.precedence,E),r=E)}r&&n.set(null,r)}u=t.instance,E=u.getAttribute("data-precedence"),f=n.get(E)||r,f===r&&n.set(null,u),n.set(E,u),this.count++,r=qc.bind(this),u.addEventListener("load",r),u.addEventListener("error",r),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Sl={$$typeof:M,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function Dv(e,t,n,r,u,f,E,T,K){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rn(0),this.hiddenUpdates=Rn(null),this.identifierPrefix=r,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function jm(e,t,n,r,u,f,E,T,K,de,Ee,Ce){return e=new Dv(e,t,n,E,K,de,Ee,Ce,T),t=1,f===!0&&(t|=24),f=Ca(3,null,null,t),e.current=f,f.stateNode=e,t=y0(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:r,isDehydrated:n,cache:t},E0(f),e}function Om(e){return e?(e=hr,e):hr}function Mm(e,t,n,r,u,f){u=Om(u),r.context===null?r.context=u:r.pendingContext=u,r=Ao(t),r.payload={element:n},f=f===void 0?null:f,f!==null&&(r.callback=f),n=Co(e,r,t),n!==null&&(ya(n,e,t),tl(n,e,t))}function Rm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function qd(e,t){Rm(e,t),(e=e.alternate)&&Rm(e,t)}function zm(e){if(e.tag===13||e.tag===31){var t=Ha(e,67108864);t!==null&&ya(t,e,67108864),qd(e,67108864)}}function Fm(e){if(e.tag===13||e.tag===31){var t=Na();t=Wa(t);var n=Ha(e,t);n!==null&&ya(n,e,t),qd(e,t)}}var Pc=!0;function Bv(e,t,n,r){var u=Y.T;Y.T=null;var f=xe.p;try{xe.p=2,Ud(e,t,n,r)}finally{xe.p=f,Y.T=u}}function Tv(e,t,n,r){var u=Y.T;Y.T=null;var f=xe.p;try{xe.p=8,Ud(e,t,n,r)}finally{xe.p=f,Y.T=u}}function Ud(e,t,n,r){if(Pc){var u=Kd(r);if(u===null)Dd(e,t,r,Vc,n),Hm(e,r);else if(kv(u,e,t,n,r))r.stopPropagation();else if(Hm(e,r),t&4&&-1<Nv.indexOf(e)){for(;u!==null;){var f=Rt(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var E=In(f.pendingLanes);if(E!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var K=1<<31-Ve(E);T.entanglements[1]|=K,E&=~K}xr(f),(Nt&6)===0&&(_c=Jt()+500,xl(0))}}break;case 31:case 13:T=Ha(f,2),T!==null&&ya(T,f,2),Bc(),qd(f,2)}if(f=Kd(r),f===null&&Dd(e,t,r,Vc,n),f===u)break;u=f}u!==null&&r.stopPropagation()}else Dd(e,t,r,null,n)}}function Kd(e){return e=Bs(e),Pd(e)}var Vc=null;function Pd(e){if(Vc=null,e=lr(e),e!==null){var t=h(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=m(t),e!==null)return e;e=null}else if(n===31){if(e=x(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Vc=e,null}function Lm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ra()){case on:return 2;case Dn:return 8;case wa:case ua:return 32;case Yn:return 268435456;default:return 32}default:return 32}}var Vd=!1,zo=null,Fo=null,Lo=null,Al=new Map,Cl=new Map,Ho=[],Nv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hm(e,t){switch(e){case"focusin":case"focusout":zo=null;break;case"dragenter":case"dragleave":Fo=null;break;case"mouseover":case"mouseout":Lo=null;break;case"pointerover":case"pointerout":Al.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(t.pointerId)}}function _l(e,t,n,r,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:f,targetContainers:[u]},t!==null&&(t=Rt(t),t!==null&&zm(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function kv(e,t,n,r,u){switch(t){case"focusin":return zo=_l(zo,e,t,n,r,u),!0;case"dragenter":return Fo=_l(Fo,e,t,n,r,u),!0;case"mouseover":return Lo=_l(Lo,e,t,n,r,u),!0;case"pointerover":var f=u.pointerId;return Al.set(f,_l(Al.get(f)||null,e,t,n,r,u)),!0;case"gotpointercapture":return f=u.pointerId,Cl.set(f,_l(Cl.get(f)||null,e,t,n,r,u)),!0}return!1}function qm(e){var t=lr(e.target);if(t!==null){var n=h(t);if(n!==null){if(t=n.tag,t===13){if(t=m(n),t!==null){e.blockedOn=t,$o(e.priority,function(){Fm(n)});return}}else if(t===31){if(t=x(n),t!==null){e.blockedOn=t,$o(e.priority,function(){Fm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kd(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ds=r,n.target.dispatchEvent(r),Ds=null}else return t=Rt(n),t!==null&&zm(t),e.blockedOn=n,!1;t.shift()}return!0}function Um(e,t,n){Yc(e)&&n.delete(t)}function jv(){Vd=!1,zo!==null&&Yc(zo)&&(zo=null),Fo!==null&&Yc(Fo)&&(Fo=null),Lo!==null&&Yc(Lo)&&(Lo=null),Al.forEach(Um),Cl.forEach(Um)}function $c(e,t){e.blockedOn===t&&(e.blockedOn=null,Vd||(Vd=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,jv)))}var Gc=null;function Km(e){Gc!==e&&(Gc=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){Gc===e&&(Gc=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],u=e[t+2];if(typeof r!="function"){if(Pd(r||n)===null)continue;break}var f=Rt(n);f!==null&&(e.splice(t,3),t-=3,K0(f,{pending:!0,data:u,method:n.method,action:r},r,u))}}))}function ui(e){function t(K){return $c(K,e)}zo!==null&&$c(zo,e),Fo!==null&&$c(Fo,e),Lo!==null&&$c(Lo,e),Al.forEach(t),Cl.forEach(t);for(var n=0;n<Ho.length;n++){var r=Ho[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Ho.length&&(n=Ho[0],n.blockedOn===null);)qm(n),n.blockedOn===null&&Ho.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var u=n[r],f=n[r+1],E=u[dn]||null;if(typeof f=="function")E||Km(n);else if(E){var T=null;if(f&&f.hasAttribute("formAction")){if(u=f,E=f[dn]||null)T=E.formAction;else if(Pd(u)!==null)continue}else T=E.action;typeof T=="function"?n[r+1]=T:(n.splice(r,3),r-=3),Km(n)}}}function Pm(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(E){return u=E})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function Yd(e){this._internalRoot=e}Ic.prototype.render=Yd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current,r=Na();Mm(n,r,e,t,null,null)},Ic.prototype.unmount=Yd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Mm(e.current,2,null,e,null,null),Bc(),t[ra]=null}};function Ic(e){this._internalRoot=e}Ic.prototype.unstable_scheduleHydration=function(e){if(e){var t=no();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ho.length&&t!==0&&t<Ho[n].priority;n++);Ho.splice(n,0,e),n===0&&qm(e)}};var Vm=a.version;if(Vm!=="19.2.0")throw Error(i(527,Vm,"19.2.0"));xe.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=p(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Ov={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{da=Xc.inject(Ov),ln=Xc}catch{}}return jl.createRoot=function(e,t){if(!c(e))throw Error(i(299));var n=!1,r="",u=Zh,f=Wh,E=Jh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(E=t.onRecoverableError)),t=jm(e,1,!1,null,null,n,r,null,u,f,E,Pm),e[ra]=t.current,_d(e),new Yd(t)},jl.hydrateRoot=function(e,t,n){if(!c(e))throw Error(i(299));var r=!1,u="",f=Zh,E=Wh,T=Jh,K=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(E=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError),n.formState!==void 0&&(K=n.formState)),t=jm(e,1,!0,t,n??null,r,u,K,f,E,T,Pm),t.context=Om(null),n=t.current,r=Na(),r=Wa(r),u=Ao(r),u.callback=null,Co(n,u,r),n=r,t.current.lanes=n,Ct(t,n),xr(t),e[ra]=t.current,_d(e),new Ic(t)},jl.version="19.2.0",jl}var xx;function I8(){if(xx)return sf.exports;xx=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(a){console.error(a)}}return o(),sf.exports=G8(),sf.exports}var X8=I8();const Q8=()=>{const[o,a]=_e.useState(!1),{hasLastSave:s,loadLastGame:i,isLoading:c}=Yx(),{openLoadMenu:h}=n0(),m=()=>{to(mf),a(!0)},x=()=>{L.jumpTo("start-passage")},v=async()=>{await i()},p=()=>{h()};return o?S.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-cover bg-center relative",style:{backgroundImage:"url('./assets/backgrounds/main-menu.webp')"},children:[S.jsx("div",{className:"absolute inset-0 bg-black/60"}),S.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-8 p-8",children:[S.jsxs("div",{className:"text-center mb-8",children:[S.jsx("h1",{className:"text-6xl font-bold text-primary-400 mb-2 drop-shadow-lg tracking-wider",children:"The Knight's Quest"}),S.jsx("p",{className:"text-xl text-muted-300 italic",children:"A Tale of Honor and Dragon Fire"})]}),S.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[S.jsx("div",{className:"w-24 h-0.5 bg-gradient-to-r from-transparent to-primary-500"}),S.jsx("div",{className:"text-primary-400 text-2xl",children:""}),S.jsx("div",{className:"w-24 h-0.5 bg-gradient-to-l from-transparent to-primary-500"})]}),S.jsxs("div",{className:"flex flex-col gap-4 w-64",children:[S.jsx(Xt,{color:"primary",variant:"solid",className:"w-full py-3 text-lg font-semibold tracking-wide",onClick:x,children:"New Game"}),s&&S.jsx(Xt,{color:"secondary",variant:"solid",className:"w-full py-3 text-lg font-semibold tracking-wide",onClick:v,disabled:c,children:c?"Loading...":"Continue"}),S.jsx(Xt,{color:"default",variant:"bordered",className:"w-full py-3 text-lg font-semibold tracking-wide",onClick:p,children:"Load Game"})]}),S.jsxs("div",{className:"mt-12 text-center text-muted-400 text-sm",children:[S.jsx("p",{children:"A demonstration of @react-text-game packages"}),S.jsx("p",{className:"mt-1",children:"Created with @react-text-game/core & @react-text-game/ui"})]})]})]}):S.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-cover bg-center relative cursor-pointer",style:{backgroundImage:"url('./assets/backgrounds/main-menu.webp')"},onClick:m,children:[S.jsx("div",{className:"absolute inset-0 bg-black/70"}),S.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-8 p-8 max-w-2xl text-center",children:[S.jsx("div",{className:"px-4 py-2 bg-primary-500/20 border border-primary-500/40 rounded-full",children:S.jsx("span",{className:"text-primary-300 text-sm font-medium",children:"@react-text-game Example"})}),S.jsx("h1",{className:"text-5xl font-bold text-primary-400 drop-shadow-lg tracking-wider",children:"The Knight's Quest"}),S.jsxs("div",{className:"text-muted-300 space-y-4",children:[S.jsxs("p",{className:"text-lg",children:["This is a demonstration game showcasing the capabilities of the"," ",S.jsx("span",{className:"text-primary-400 font-semibold",children:"react-text-game"})," ","library."]}),S.jsx("p",{children:"Build your own text-based adventures with React using our core engine, UI components, and MDX integration."})]}),S.jsxs("div",{className:"flex items-center gap-4 my-4",children:[S.jsx("div",{className:"w-16 h-0.5 bg-gradient-to-r from-transparent to-primary-500"}),S.jsx("div",{className:"text-primary-400 text-xl",children:""}),S.jsx("div",{className:"w-16 h-0.5 bg-gradient-to-l from-transparent to-primary-500"})]}),S.jsx("div",{className:"animate-pulse",children:S.jsx("p",{className:"text-2xl text-primary-300 font-semibold drop-shadow-lg",children:"Click anywhere to start"})}),S.jsx("div",{className:"mt-8 text-muted-500 text-xs space-y-1",children:S.jsx("p",{children:"@react-text-game/core | @react-text-game/ui | @react-text-game/mdx"})})]})]})};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=o=>o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),W8=o=>o.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,s,i)=>i?i.toUpperCase():s.toLowerCase()),yx=o=>{const a=W8(o);return a.charAt(0).toUpperCase()+a.slice(1)},xy=(...o)=>o.filter((a,s,i)=>!!a&&a.trim()!==""&&i.indexOf(a)===s).join(" ").trim(),J8=o=>{for(const a in o)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=_e.forwardRef(({color:o="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:c="",children:h,iconNode:m,...x},v)=>_e.createElement("svg",{ref:v,...eE,width:a,height:a,stroke:o,strokeWidth:i?Number(s)*24/Number(a):s,className:xy("lucide",c),...!h&&!J8(x)&&{"aria-hidden":"true"},...x},[...m.map(([p,b])=>_e.createElement(p,b)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=(o,a)=>{const s=_e.forwardRef(({className:i,...c},h)=>_e.createElement(tE,{ref:h,iconNode:a,className:xy(`lucide-${Z8(yx(o))}`,`lucide-${o}`,i),...c}));return s.displayName=yx(o),s};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],aE=Hl("circle-check",nE);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],oE=Hl("info",rE);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],iE=Hl("loader-circle",sE);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=[["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M2.586 16.726A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2h6.624a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586z",key:"2d38gg"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],cE=Hl("octagon-x",lE);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],dE=Hl("triangle-alert",uE);var fE=(o,a,s,i,c,h,m,x)=>{let v=document.documentElement,p=["light","dark"];function b(D){(Array.isArray(o)?o:[o]).forEach(B=>{let j=B==="class",O=j&&h?c.map(F=>h[F]||F):c;j?(v.classList.remove(...O),v.classList.add(h&&h[D]?h[D]:D)):v.setAttribute(B,D)}),y(D)}function y(D){x&&p.includes(D)&&(v.style.colorScheme=D)}function C(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(i)b(i);else try{let D=localStorage.getItem(a)||s,B=m&&D==="system"?C():D;b(B)}catch{}},hE=_e.createContext(void 0),pE={setTheme:o=>{},themes:[]},mE=()=>{var o;return(o=_e.useContext(hE))!=null?o:pE};_e.memo(({forcedTheme:o,storageKey:a,attribute:s,enableSystem:i,enableColorScheme:c,defaultTheme:h,value:m,themes:x,nonce:v,scriptProps:p})=>{let b=JSON.stringify([s,a,h,o,x,m,i,c]).slice(1,-1);return _e.createElement("script",{...p,suppressHydrationWarning:!0,nonce:typeof window>"u"?v:"",dangerouslySetInnerHTML:{__html:`(${fE.toString()})(${b})`}})});const gE=({...o})=>{const{theme:a="system"}=mE();return S.jsx(W4,{theme:a,className:"toaster group",icons:{success:S.jsx(aE,{className:"size-4"}),info:S.jsx(oE,{className:"size-4"}),warning:S.jsx(dE,{className:"size-4"}),error:S.jsx(cE,{className:"size-4"}),loading:S.jsx(iE,{className:"size-4 animate-spin"})},style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)","--border-radius":"var(--radius)"},...o})},xE=()=>{const o=E4(),[a]=Kf(),s=Ll(W),i=Ll(nn),c=s.health/s.maxHealth*100,h=c>60?"bg-success-500":c>30?"bg-warning-500":"bg-danger-500",m=x=>x.charAt(0).toUpperCase()+x.slice(1);return o?S.jsx("header",{className:"sticky top-0 z-50 w-full bg-card/95 backdrop-blur-sm border-b border-border px-4 py-2",children:S.jsxs("div",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[S.jsxs("div",{className:"flex items-center gap-6",children:[S.jsxs("div",{className:"flex flex-col",children:[S.jsx("span",{className:"font-bold text-foreground",children:s.name}),S.jsx("span",{className:"text-xs text-muted-foreground",children:s.title})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-sm text-muted-foreground",children:"HP"}),S.jsx("div",{className:"w-32 h-3 bg-muted rounded-full overflow-hidden",children:S.jsx("div",{className:`h-full ${h} transition-all duration-300`,style:{width:`${c}%`}})}),S.jsxs("span",{className:"text-sm font-medium text-foreground min-w-[60px]",children:[s.health,"/",s.maxHealth]})]}),S.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("span",{className:"text-warning-400",children:"Gold:"}),S.jsx("span",{className:"font-medium text-foreground",children:s.gold})]}),S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("span",{className:"text-danger-400",children:"ATK:"}),S.jsx("span",{className:"font-medium text-foreground",children:s.attack})]}),S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("span",{className:"text-primary-400",children:"DEF:"}),S.jsx("span",{className:"font-medium text-foreground",children:s.defense})]}),S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("span",{className:"text-muted-foreground",children:"Items:"}),S.jsx("span",{className:"font-medium text-foreground",children:s.inventory.length})]})]})]}),S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[S.jsx("span",{children:m(i.timeOfDay)}),S.jsx("span",{children:"|"}),S.jsx("span",{children:m(i.weather)})]}),a?.id!=="inventory"&&S.jsx(Xt,{color:"primary",variant:"bordered",onClick:()=>L.jumpTo("inventory"),children:"Inventory"}),S.jsx(U8,{variant:"bordered",color:"primary",isIconOnly:!0}),S.jsx(H8,{variant:"bordered",color:"primary",isIconOnly:!0})]})]})}):null},yE=()=>S.jsxs("div",{className:"relative flex flex-col h-screen w-screen bg-background text-foreground overflow-hidden",children:[S.jsx(xE,{}),S.jsx("div",{className:"flex-1 h-full overflow-auto",children:S.jsx(F8,{})})]});X8.createRoot(document.getElementById("root")).render(S.jsx(_e.StrictMode,{children:S.jsxs(C8,{options:{gameName:"the-knights-quest",isDevMode:!1},components:{MainMenu:Q8},children:[S.jsx(yE,{}),S.jsx(gE,{position:"top-center"})]})}));
